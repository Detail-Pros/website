/*! For license information please see app.bundle.min.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("santa-members-viewer-script",[],t):"object"==typeof exports?exports["santa-members-viewer-script"]=t():e["santa-members-viewer-script"]=t()}("undefined"!=typeof self?self:this,(function(){return function(){var e={539:function(e,t){"use strict";t.dn="14bcded7-0066-7c35-14d7-466cb3f09103",t.sV="140603ad-af8d-84a5-2c80-a0f60cb47351",t.tt="14724f35-6794-cd1a-0244-25fd138f9242",t.qq="148c2287-c669-d849-d153-463c7486a694";var r={}},613:function(e){function t(e,t,r,n,i,o,u){try{var s=e[o](u),a=s.value}catch(e){return void r(e)}s.done?t(a):Promise.resolve(a).then(n,i)}e.exports=function(e){return function(){var r=this,n=arguments;return new Promise((function(i,o){var u=e.apply(r,n);function s(e){t(u,i,o,s,a,"next",e)}function a(e){t(u,i,o,s,a,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},945:function(e){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.default=e.exports,e.exports.__esModule=!0},973:function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,t.apply(this,arguments)}e.exports=t,e.exports.default=e.exports,e.exports.__esModule=!0},803:function(e,t,r){e.exports=r(248)},206:function(e,t,r){e.exports=r(57)},387:function(e,t,r){"use strict";var n=r(485),i=r(570),o=r(581),u=r(845),s=r(338),a=r(524),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(55);e.exports=function(e){return new Promise((function(t,f){var p=e.data,l=e.headers;n.isFormData(p)&&delete l["Content-Type"];var d=new XMLHttpRequest,v="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in d||s(e.url)||(d=new window.XDomainRequest,v="onload",m=!0,d.onprogress=function(){},d.ontimeout=function(){}),e.auth){var g=e.auth.username||"",h=e.auth.password||"";l.Authorization="Basic "+c(g+":"+h)}if(d.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),d.timeout=e.timeout,d[v]=function(){if(d&&(4===d.readyState||m)&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in d?u(d.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?d.response:d.responseText,status:1223===d.status?204:d.status,statusText:1223===d.status?"No Content":d.statusText,headers:r,config:e,request:d};i(t,f,n),d=null}},d.onerror=function(){f(a("Network Error",e,null,d)),d=null},d.ontimeout=function(){f(a("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",d)),d=null},n.isStandardBrowserEnv()){var b=r(940),w=(e.withCredentials||s(e.url))&&e.xsrfCookieName?b.read(e.xsrfCookieName):void 0;w&&(l[e.xsrfHeaderName]=w)}if("setRequestHeader"in d&&n.forEach(l,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete l[t]:d.setRequestHeader(t,e)})),e.withCredentials&&(d.withCredentials=!0),e.responseType)try{d.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&d.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){d&&(d.abort(),f(e),d=null)})),void 0===p&&(p=null),d.send(p)}))}},57:function(e,t,r){"use strict";var n=r(485),i=r(875),o=r(29),u=r(141);function s(e){var t=new o(e),r=i(o.prototype.request,t);return n.extend(r,o.prototype,t),n.extend(r,t),r}var a=s(u);a.Axios=o,a.create=function(e){return s(n.merge(u,e))},a.Cancel=r(132),a.CancelToken=r(603),a.isCancel=r(475),a.all=function(e){return Promise.all(e)},a.spread=r(739),e.exports=a,e.exports.default=a},132:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},603:function(e,t,r){"use strict";var n=r(132);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},475:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},29:function(e,t,r){"use strict";var n=r(141),i=r(485),o=r(96),u=r(9);function s(e){this.defaults=e,this.interceptors={request:new o,response:new o}}s.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),(e=i.merge(n,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[u,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},i.forEach(["delete","get","head","options"],(function(e){s.prototype[e]=function(t,r){return this.request(i.merge(r||{},{method:e,url:t}))}})),i.forEach(["post","put","patch"],(function(e){s.prototype[e]=function(t,r,n){return this.request(i.merge(n||{},{method:e,url:t,data:r}))}})),e.exports=s},96:function(e,t,r){"use strict";var n=r(485);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},524:function(e,t,r){"use strict";var n=r(953);e.exports=function(e,t,r,i,o){var u=new Error(e);return n(u,t,r,i,o)}},9:function(e,t,r){"use strict";var n=r(485),i=r(212),o=r(475),u=r(141),s=r(642),a=r(288);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!s(e.url)&&(e.url=a(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||u.adapter)(e).then((function(t){return c(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(c(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},953:function(e){"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e}},570:function(e,t,r){"use strict";var n=r(524);e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},212:function(e,t,r){"use strict";var n=r(485);e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},141:function(e,t,r){"use strict";var n=r(61),i=r(485),o=r(446),u={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==n)&&(a=r(387)),a),transformRequest:[function(e,t){return o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},i.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){c.headers[e]=i.merge(u)})),e.exports=c},875:function(e){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},55:function(e){"use strict";function t(){this.message="String contains an invalid character"}t.prototype=new Error,t.prototype.code=5,t.prototype.name="InvalidCharacterError",e.exports=function(e){for(var r,n,i=String(e),o="",u=0,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.charAt(0|u)||(s="=",u%1);o+=s.charAt(63&r>>8-u%1*8)){if((n=i.charCodeAt(u+=3/4))>255)throw new t;r=r<<8|n}return o}},581:function(e,t,r){"use strict";var n=r(485);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var u=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),u.push(i(t)+"="+i(e))})))})),o=u.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},288:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},940:function(e,t,r){"use strict";var n=r(485);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,i,o,u){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(o)&&s.push("domain="+o),!0===u&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},642:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},338:function(e,t,r){"use strict";var n=r(485);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},446:function(e,t,r){"use strict";var n=r(485);e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},845:function(e,t,r){"use strict";var n=r(485),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,u={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(u[t]&&i.indexOf(t)>=0)return;u[t]="set-cookie"===t?(u[t]?u[t]:[]).concat([r]):u[t]?u[t]+", "+r:r}})),u):u}},739:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},485:function(e,t,r){"use strict";var n=r(875),i=r(809),o=Object.prototype.toString;function u(e){return"[object Array]"===o.call(e)}function s(e){return null!==e&&"object"==typeof e}function a(e){return"[object Function]"===o.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),u(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:u,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:a,isStream:function(e){return s(e)&&a(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:c,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,i=arguments.length;n<i;n++)c(arguments[n],r);return t},extend:function(e,t,r){return c(t,(function(t,i){e[i]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},574:function(e,t,r){var n;e=r.nmd(e),function(i){var o=t,u=(e&&e.exports,"object"==typeof r.g&&r.g);u.global!==u&&u.window;var s=function(e){this.message=e};(s.prototype=new Error).name="InvalidCharacterError";var a=function(e){throw new s(e)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=/[\t\n\f\r ]/g,p={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var t,r,n,i,o=e.length%3,u="",s=-1,f=e.length-o;++s<f;)t=e.charCodeAt(s)<<16,r=e.charCodeAt(++s)<<8,n=e.charCodeAt(++s),u+=c.charAt((i=t+r+n)>>18&63)+c.charAt(i>>12&63)+c.charAt(i>>6&63)+c.charAt(63&i);return 2==o?(t=e.charCodeAt(s)<<8,r=e.charCodeAt(++s),u+=c.charAt((i=t+r)>>10)+c.charAt(i>>4&63)+c.charAt(i<<2&63)+"="):1==o&&(i=e.charCodeAt(s),u+=c.charAt(i>>2)+c.charAt(i<<4&63)+"=="),u},decode:function(e){var t=(e=String(e).replace(f,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var r,n,i=0,o="",u=-1;++u<t;)n=c.indexOf(e.charAt(u)),r=i%4?64*r+n:n,i++%4&&(o+=String.fromCharCode(255&r>>(-2*i&6)));return o},version:"0.1.0"};void 0===(n=function(){return p}.call(t,r,t,e))||(e.exports=n)}()},809:function(e){function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},61:function(e){var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,a=[],c=!1,f=-1;function p(){c&&s&&(c=!1,s.length?a=s.concat(a):f=-1,a.length&&l())}function l(){if(!c){var e=u(p);c=!0;for(var t=a.length;t;){for(s=a,a=[];++f<t;)s&&s[f].run();f=-1,t=a.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function v(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];a.push(new d(e,t)),1!==a.length||c||u(l)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=v,n.addListener=v,n.once=v,n.off=v,n.removeListener=v,n.removeAllListeners=v,n.emit=v,n.prependListener=v,n.prependOnceListener=v,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},248:function(e){var t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function a(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),u=new U(n||[]);return o._invoke=function(e,t,r){var n=p;return function(i,o){if(n===d)throw new Error("Generator is already running");if(n===v){if("throw"===i)throw o;return E()}for(r.method=i,r.arg=o;;){var u=r.delegate;if(u){var s=I(u,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var a=f(e,t,r);if("normal"===a.type){if(n=r.done?v:l,a.arg===m)continue;return{value:a.arg,done:r.done}}"throw"===a.type&&(n=v,r.method="throw",r.arg=a.arg)}}}(e,r,u),o}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var p="suspendedStart",l="suspendedYield",d="executing",v="completed",m={};function g(){}function h(){}function b(){}var w={};a(w,o,(function(){return this}));var y=Object.getPrototypeOf,x=y&&y(y(M([])));x&&x!==r&&n.call(x,o)&&(w=x);var P=b.prototype=g.prototype=Object.create(w);function R(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(i,o,u,s){var a=f(e[i],e,o);if("throw"!==a.type){var c=a.arg,p=c.value;return p&&"object"==typeof p&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,u,s)}),(function(e){r("throw",e,u,s)})):t.resolve(p).then((function(e){c.value=e,u(c)}),(function(e){return r("throw",e,u,s)}))}s(a.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function I(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,I(e,r),"throw"===r.method))return m;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=f(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,m;var o=i.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function U(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function M(e){if(e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,u=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return u.next=u}}return{next:E}}function E(){return{value:t,done:!0}}return h.prototype=b,a(P,"constructor",b),a(b,"constructor",h),h.displayName=a(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,a(e,s,"GeneratorFunction")),e.prototype=Object.create(P),e},e.awrap=function(e){return{__await:e}},R(C.prototype),a(C.prototype,u,(function(){return this})),e.AsyncIterator=C,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var u=new C(c(t,r,n,i),o);return e.isGeneratorFunction(r)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},R(P),a(P,s,"Generator"),a(P,o,(function(){return this})),a(P,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=M,U.prototype={constructor:U,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o],s=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var a=n.call(u,"catchLoc"),c=n.call(u,"finallyLoc");if(a&&c){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(a){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=e,u.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:M(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var n={};return function(){"use strict";r.r(n),r.d(n,{createControllers:function(){return ot},exports:function(){return ut},initAppForPage:function(){return it}});var e=r(973),t=r.n(e);function i(e){return e&&e[0]?Object.keys(e[0]).includes("isVisible")?function(e){return e.map((function(e){return{link:e.link,isVisibleInMenuBar:e.isVisible,isVisibleInMobileMenuBar:e.isVisibleMobile,visibleForRoles:e.visibleForRoles}}))}(e):function(e){return e.map((function(e){return{link:e.l,isVisibleInMenuBar:!e.hmb,isVisibleInMobileMenuBar:!e.hmmb,visibleForRoles:e.vfr||[]}}))}(e):[]}var o,u,s=r(539),a="{userName}",c=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i,f=[s.dn,s.tt,s.qq,s.sV,"14ebe801-d78a-daa9-c9e5-0286a891e46f","14dbef06-cc42-5583-32a7-3abd44da4908"],p="specs.membersArea.EnableMemberPagePermissions";var l=function(e,t){return function(){try{!function(e){try{u.interactionStarted(e)}catch(e){var t="Failed to start fedops interaction, reason: "+e;o&&o.captureException(t)}}(e);var r=t();return function(e){try{u.interactionEnded(e)}catch(e){var t="Failed to end fedops interaction, reason: "+e;o&&o.captureException(t)}}(e),r}catch(e){throw console.error(e),o&&o.captureException(e),e}}};function d(e,r){var n;void 0===r&&(r={}),null!=(n=o)&&n.captureMessage&&o.captureMessage(e,t()({level:"info"},r))}function v(e,r){var n;void 0===r&&(r={}),null!=(n=o)&&n.captureMessage&&o.captureMessage(e,t()({level:"error"},r))}var m=r(206),g=r.n(m),h=function(e,t){void 0===t&&(t=[]);var r=t.map((function(t){return function(e,t){var r=[];if(t.requestSuccess||t.requestError){var n=e.interceptors.request.use(t.requestSuccess,t.requestError);r.push(n)}if(t.responseSuccess||t.responseError){var i=e.interceptors.response.use(t.responseSuccess,t.responseError);r.push(i)}return function(){return r.map((function(t){return e.interceptors.response.eject(t)}))}}(e,t)}));return function(){return r.map((function(e){return e()}))}},b=function(e,t){var r=t.shouldLoadInterceptors,n=t.interceptors;return r?h(e,n):function(){}},w={responseSuccess:function(e){if(e.data){if(!1===e.data.success)return e.status=500,Promise.reject(e);if(!0===e.data.success&&void 0!==e.data.payload){var t=e.data.payload;"object"!=typeof t||Array.isArray(t)?e.data=e.data.payload:(delete e.data.payload,delete e.data.success,delete e.data.errorCode,delete e.data.errorDescription,e.data=Object.assign(e.data,t))}}return e}},y=/^https?:\/\/|^\/\//i,x=/^[a-z][a-z0-9.+-]*$/i,P=function(e){return e.replace(/^\/|\/$/g,"")},R=function(e){return!y.test(e)},C=function(){var e="undefined"!=typeof self&&self.location;return e?S(e):""},I=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")};var O=function(){for(var e="",t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];r.forEach((function(t){var r=t&&P(t);if(r){var n=e&&"/",i=""===e&&/^\//.test(t)?"/":"";e=""+i+e+n+r}}));var i=r[r.length-1];return"/"===i[i.length-1]&&(e+="/"),e},S=function(e,t){void 0===t&&(t=!1);var r=t?"://":"//",n=e.protocol,i=e.hostname,o=e.port,u=[n,i+(o?":"+o:"")].join(r);return e.origin||u},U=function(e,t){var r=(e=e.replace(/\\/g,"/")).indexOf("/");-1===r&&(r=e.length);var n=e.substring(0,r).split(":");return t.hostname=n[0]||null,t.port=n[1]||null,t.hostname&&"/"!==e.substring(r).charAt(0)&&(r++,e="/"+e),e.substring(r)||"/"},M={requestSuccess:function(e){var t,r,n,i=e.url,o=e.baseURL,u=(n={},(r=(t=o).indexOf("#"))>-1&&(n.fragment=t.substring(r+1)||null,t=t.substring(0,r)),(r=t.indexOf("?"))>-1&&(n.query=t.substring(r+1)||null,t=t.substring(0,r)),"//"===t.substring(0,2)?(n.protocol=null,t=t.substring(2),t=U(t,n)):(r=t.indexOf(":"))>-1&&(n.protocol=t.substring(0,r)||null,n.protocol&&!n.protocol.match(x)?n.protocol=void 0:"//"===t.substring(r+1,r+3)?(t=t.substring(r+3),t=U(t,n)):t=t.substring(r+1)),n.path=t,n),s=R(o)?C():S(u,!0),a=o.replace(s,""),c=new RegExp("^"+I(o)),f=i.replace(c,"");if(!R(f))return e;var p=function(e){return/_api/.test(e)}(i)?O(s,f):O(s,a,f);return Object.assign({},e,{url:p})}},E=r(574),j=r.n(E);var A={getInterceptor:function(e){var t=e.lang,r=e.siteInstance,n=e.locale,i=e.isPrimaryLanguage;return{requestSuccess:function(e){if(function(e){var t=e.lang,r=e.siteInstance,n=e.locale,i=e.isPrimaryLanguage;if(!/^(true|false)$/.test(i))return!1;i=i.toString();return t&&r&&n&&i}({lang:t,siteInstance:r,locale:n,isPrimaryLanguage:i})){var o,u=r.split(".")[1];try{o=u&&JSON.parse(j().decode(u)).instanceId}catch(e){}void 0!==o&&(e.headers["x-wix-linguist"]=[t,n,i,o].join("|"))}return e}}}};function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var D=function(e){var t=(void 0===e?{}:e).shouldAddArtifactIdOverride;return{requestSuccess:function(e){var r="santa-members-viewer-app";if(e.url.includes("/_api/")||e.url.includes("/api/")||t){var n,i=k(k({},e.headers),{},((n={})[T]=r,n));return k(k({},e),{},{headers:i})}return e}}},T="X-Wix-Client-Artifact-Id";function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var q=function(e){if("undefined"!=typeof Wix&&Wix.Utils&&Wix.Utils.getSiteRevision)return Wix.Utils.getSiteRevision();var t=V();return t||(e?e.site.revision:"undefined"!=typeof publicModel&&publicModel.siteRevision?publicModel.siteRevision:"undefined"!=typeof editorModel&&editorModel.siteHeader&&editorModel.siteHeader.revision?editorModel.siteHeader.revision:void 0)},V=function(){if("undefined"!=typeof window&&window.location)return function(e,t){var r=decodeURI(e.search).replace("?","").split("&").map((function(e){return e.split("=")})).filter((function(e){return e[0]===t}));if(r.length>0)return r[0][1]}(window.location,"siteRevision")},J={getInterceptor:function(e){var t=e.wixCodeApi;return{requestSuccess:function(e){if(e.url.includes("/_api/")){var r=q(t);if(r){var n,i=B(B({},e.headers),{},((n={})[H]=r,n));return B(B({},e),{},{headers:i})}}return e}}}},H="x-wix-site-revision",W=function(e,t){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function $(e,t){function r(){this.constructor=e}W(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var z=function(){return(z=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function G(){return"object"==typeof self?self:r.g}function X(e){var t=function(e){return function(){var e=function(){if("object"==typeof document)return document}();if(e&&e.cookie)return decodeURIComponent(e.cookie).split(";");return[]}().filter((function(t){return e===t.split("=")[0].trim()}))[0]}(e);return t?t.split("=")[1]:""}function K(){var e,t=function(){var e=G();if(e&&e.commonConfig&&"string"==typeof e.commonConfig.brand)return e.commonConfig.brand;return""}();return(e={})["x-wix-brand"]=t,e}function Y(){return function(){var e=G();if(e&&e.consentPolicyManager&&"function"==typeof e.consentPolicyManager._getConsentPolicyHeader)return e.consentPolicyManager._getConsentPolicyHeader();return}()||function(){var e=G();if(e&&e.Wix&&e.Wix.Utils&&"function"==typeof e.Wix.Utils._getConsentPolicyHeader)return e.Wix.Utils._getConsentPolicyHeader();return}()||{}}var Z=r(61);function Q(){return void 0!==Z&&null!=(null===(e=Z.versions)||void 0===e?void 0:e.node)&&(!!Z.env.TEAMCITY_VERSION||!!Z.env.BUILDKITE);var e}var ee=["consentPolicy","consentPolicyHeader"],te={bsi:"BSI"};var re=function(){var e,t=function(){var e=G(),t=null==e?void 0:e.commonConfig;if(!t)return null;var r={},n=!1;return Object.keys(t).forEach((function(e){var i=te[e];i?(r[i]=t[e],n=!0):ee.indexOf(e)<0&&"function"!=typeof t[e]&&(r[e]=t[e],n=!0)})),n?r:null}(),r=t?JSON.stringify(t):"";return(e={}).commonConfig=encodeURIComponent(r),e},ne=(function(e){function t(t,r){return e.call(this,"WixHeadersParsingError: "+t+" evaluated with "+JSON.stringify(r)+" but should be a string!")||this}$(t,e)}(Error),function(e){function t(t,r,n){return e.call(this,"WixHeadersValidationError: expected "+r+" to be "+t+" but got "+JSON.stringify(n))||this}return $(t,e),t}(Error));function ie(e){void 0===e&&(e={}),function(e){(function(e,t){if("boolean"!=typeof t)throw new ne("boolean",e,t)})("opts.csrf",e.csrf),function(e,t){if("string"!=typeof t)throw new ne("string",e,t)}("opts.signedInstance",e.signedInstance)}(e=z({csrf:!0,signedInstance:""},e));var t,r,n,i,o=[K(),Y(),(r=e.signedInstance,{authorization:r}),(t=e.artifactId,{"X-Wix-Client-Artifact-Id":null!=t?t:Q()?"":"santa-members-viewer-app"}),re()];return e.csrf&&o.push((i=X("XSRF-TOKEN"),(n={})["x-xsrf-token"]=i,n)),o.filter((function(e){return Object.values(e).every((function(e){return e}))})).reduce((function(e,t){return z(z({},e),t)}),{})}function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ae="/_api/";var ce,fe={getInterceptor:function(e){var t=e.signedInstance;return{requestSuccess:function(e){var r=e.url.includes(ae)||e.baseURL&&e.baseURL.includes(ae),n=function(e,t){var r=t.url,n=t.baseURL;return e&&function(e,t){var r=R(e),n=t&&y.test(t);if(r&&!n)return!0;var i=C();if(!i)return!1;var o=r?t:e;return new RegExp("^"+I(i)).test(o)}(r,n)?e:""}(t,e),i=r?ie({csrf:!1,signedInstance:n}):{},o=ue(ue({},e.headers),i);return ue(ue({},e),{},{headers:o})}}}},pe=!0,le=!1;function de(e){le||(!function(e,t){var r=t.baseURL,n=t.loadInterceptors,i=void 0===n?pe:n,o=t.lang,u=t.locale,s=t.isPrimaryLanguage,a=t.siteInstance,c=t.signedInstance,f=t.wixCodeApi,p=t.shouldAddArtifactIdOverride,l=void 0!==p&&p;e.defaults.baseURL=r,b(e,{shouldLoadInterceptors:i,interceptors:[w,M,A.getInterceptor({lang:o,siteInstance:a,locale:u,isPrimaryLanguage:s}),D({shouldAddArtifactIdOverride:l}),J.getInterceptor({wixCodeApi:f}),fe.getInterceptor({signedInstance:c})]})}(g(),{baseURL:e}),le=!0)}function ve(e){var t=e.baseURL,r=e.url,n=e.authorizationHeader,i=e.onSuccess;return de(t),g()({url:r,method:"GET",headers:{Authorization:n}}).then((function(e){return i(e.data)})).catch((function(e){console.log("error fetching data",e.message),i({})}))}function me(){return ce}function ge(e){var t=me().getItem(e);return t&&JSON.parse(t)}var he="current-user-slug",be="current-user-id",we="members-area-viewed-user-id",ye="members-area-viewed-user-counters",xe="members-area-current-user-counters";function Pe(e){var t,r,n;function i(e,t){return e&&!1!==e.loggedIn?new Promise((function(r,n){var i=e&&e.id;i&&t?o(i,t,(function(e){r(e)})):n(new Error("No user to get menu counters by"))})):Promise.resolve({})}function o(t,r,n){var i="Site"===e.window.viewMode?e.location.baseUrl:"https://www.wix.com/";return ve({baseURL:i,url:i+"/_api/santa-members-server/temporary/members/"+t+"/numbers",authorizationHeader:r,onSuccess:n})}return{fetchNumbers:o,fetchRoles:function(t,r,n){return new Promise((function(i){var o="Site"===e.window.viewMode?e.location.baseUrl:"https://www.wix.com/",u=[];t&&u.push(t),r&&u.push(r),function(e){var t=e.baseURL,r=e.url,n=e.instance,i=e.payload,o=e.onSuccess;de(t),g()({url:r,method:"POST",headers:{Authorization:n,"Content-Type":"application/json"},data:JSON.stringify(i)}).then((function(e){return o(e.data)})).catch((function(e){console.log("error fetching data",e.message),o({})}))}({baseURL:o,url:o+"/_api/santa-members-server/temporary/members/roles",instance:n,payload:u,onSuccess:function(e){i(e)}})}))},getCurrentUser:function(){var e;return null!=(e=r)?e:{}},getMenuCounters:i,getViewedUserMenuCountersWithCaching:function(e){var n,o=me(),u=o.getItem(we),s=ge(ye);if(s&&t&&u===t.id)return s;var a=null!=(n=t)&&n.id?t:r;return i(a,e).catch((function(){v("Failed to get menu counters for viewed user",{viewedUser:t,currentUser:r,santaMembersInstance:e})})).then((function(e){var r;return(null==a?void 0:a.id)===(null==(r=t)?void 0:r.id)?(o.setItem(ye,JSON.stringify(e)),o.setItem(we,a.id)):d("Tried to cache viewed user counters from current user"),e}))},getCurrentUserMenuCountersWithCaching:function(e){var n=me(),o=n.getItem(be),u=ge(xe);return u&&r&&o===r.id?u:i(r,e).catch((function(){v("Failed to get menu counters for current user",{viewedUser:t,currentUser:r,santaMembersInstance:e})})).then((function(e){return n.setItem(xe,JSON.stringify(e)),n.setItem(be,r.id),e}))},getRoles:function(){var e;return null!=(e=n)?e:{}},getViewedUser:function(){var e;return null!=(e=t)?e:{}},replaceUserPatternWithSlug:function(e,t){return e.replace(a,t.slug).replace(encodeURI(a),t.slug)},setCurrentUser:function(t,n){return Promise.resolve().then((function(){return function(t,r){var n=me(),i=n.getItem(he),o=n.getItem(be);if(i&&o===t.id)return i;o&&o===t.id||n.setItem(be,t.id);if(t.loggedIn&&t.getSlug)return"Site"===e.window.viewMode?function(t){var r=e.location.baseUrl;return new Promise((function(e){return ve({baseURL:r,url:r+"/_api/members/v1/members/my",authorizationHeader:t,onSuccess:function(t){var r,n;return e(null==(r=t.member)||null==(n=r.profile)?void 0:n.slug)}})}))}(r).then((function(e){var r=e||t.id;return n.setItem(he,r),r})).catch((function(){return v("Error while fetching current user slug",{userDataId:t.id})})):t.getSlug();return t.id}(t,n)})).then((function(e){r={id:t.id,loggedIn:t.loggedIn,slug:e}}))},setRoles:function(e){n=e},setViewedUser:function(e){e&&(t=e)}}}var Re;function Ce(e){var t=e.location,r=t.prefix,n=t.path,i=t.query,o=Object.keys(i).length>0?"?"+function(e){return Object.keys(e).map((function(t){return t+"="+e[t]})).join("&")}(i):"";return"/"+r+"/"+n.join("/")+o}var Ie=function(){return Re||[]},Oe="@members_menu",Se="@members-menu";function Ue(e){var t=e.menuItem,r=e.publicRouterConfig,n=void 0===r?{}:r,i=e.privateRouterConfig,o=void 0===i?{}:i,u=e.viewedUser,s=e.shouldLog,c=void 0===s||s,f=t.link;u&&0===f.indexOf("/"+u.slug+"/")&&(f=f.replace("/"+u.slug+"/","/{userName}/"));var p=f.split("/"),l=p.indexOf(a),v=l>-1?"/"+p.splice(l,p.length).join("/"):"/"+p[p.length-1],m=n.patterns||{},g=o.patterns||{},h=m[v]||g[v];if(!h&&c){var b={menuItem:t,publicRouterConfig:n,privateRouterConfig:o,viewedUser:u};d("Could not find the pattern for menu item in router configs - probably an invalid (or custom) menu item",{tags:{menuItemLink:t.link},extra:{data:JSON.stringify(b)}})}return h}function Me(e){var t=e.menuItems,r=e.publicRouterPrefix,n=t.filter((function(e){return!!e.link||e.items&&e.items.length>0}));return n.forEach((function(e){if(e.link&&0===e.link.indexOf("undefined/{userName}")){var t=e.link.split("/");e.link="/"+r+"/"+"{userName}/"+t[2]}})),n.forEach((function(e){if(e.link&&(4===e.link.split("/").length&&-1===e.link.indexOf(a))){var t=e.link.split("/");e.link="/"+t[1]+"/"+"{userName}/"+t[3]}})),n}function Ee(e){var t=e.slug,r=e.options,n=function(e,t){if(!t)return e;var r=e.split("/").slice(1);return r[1].match(c)?(r[1]=t,"/"+r.join("/")):e}(Ce(e.wixCodeApi).split("?")[0],t),i=r.find((function(e){return e.link===n}));return i?i.value:null}function je(e){var t=e.menu,r=e.options,n=e.viewedUser,i=e.wixCodeApi;if(!1===t.autoNavigation){var o=(n||{}).slug;t.value=Ee({slug:o,options:r,wixCodeApi:i}),function(e){var t=e.menu,r=e.options,n=e.wixCodeApi;t.onChange((function(e){var i,o=e.target,u=o.value,s=(r.find((function(e){return e.value===u}))||{}).link;s?n.location.to(s):v("Menu navigation request ignored: ",{menu:t,target:o,options:r,newLink:s,api:!(null==n||null==(i=n.location)||!i.to)})}))}({menu:t,options:r,wixCodeApi:i})}}function Ae(e){var t=e.menuItems,r=e.parsedRoutersConfigs,n=e.userRoles,i=e.viewedUser,o=e.appsCounters,u=null==r?void 0:r.find((function(e){return"public"===e.type})),s=null==r?void 0:r.find((function(e){return"private"===e.type}));return function(e){var t=e.menuItems,r=e.viewedUser;return t.map((function(e){return e.link&&e.link.indexOf(a)>-1&&(e.link=e.link.replace(a,r.slug)),e}))}({menuItems:function(e){var t,r=e.menuItems,n=e.appsCounters,i=e.publicRouterConfig,o=e.privateRouterConfig,u=e.viewedUser;return r.forEach((function(e){e.displayCount=null})),null!=n&&null!=(t=n.apps)&&t.length?(n.apps.forEach((function(e){r.forEach((function(t){if(t.link){var r=Ue({menuItem:t,publicRouterConfig:i,privateRouterConfig:o,viewedUser:u});if(r&&r.appData.appDefinitionId===e.appDefId){var n=r.appData.numbers&&r.appData.numbers.key,s=e.numbers&&n&&e.numbers[n];s&&(t.displayCount=s.count)}}}))})),r):r}({menuItems:function(e){var t=e.menuItems,r=e.publicRouterConfig,n=e.privateRouterConfig,i=e.userRoles,o=void 0===i?[]:i,u=e.viewedUser;return t.filter((function(e){if(!e.link)return!0;var t=Ue({menuItem:e,publicRouterConfig:r,privateRouterConfig:n,viewedUser:u});if(!t||!t.appData||!t.appData.visibleForRoles||0===t.appData.visibleForRoles.length)return!0;var i=t.appData.visibleForRoles;return!!(void 0===i?[]:i).some((function(e){return o.indexOf(e)>-1}))}))}({menuItems:t,publicRouterConfig:u,privateRouterConfig:s,userRoles:n,viewedUser:i}),appsCounters:o,publicRouterConfig:u,privateRouterConfig:s,viewedUser:i}),viewedUser:i})}function Le(e){var t=e.menuItems,r=e.parsedRoutersConfigs,n=e.viewedUser,i=e.permittedPagesMap,o=e.experiments;if(o&&o.enabled(p)){var u=null==r?void 0:r.find((function(e){return"public"===e.type})),s=null==r?void 0:r.find((function(e){return"private"===e.type}));return t.filter((function(e){var t,r=Ue({menuItem:e,publicRouterConfig:u,privateRouterConfig:s,viewedUser:n});return!r||(null==(t=i[r.page])||t)}))}return t}function ke(e){var t=e.menuItems,r=e.parsedRoutersConfigs,n=void 0===r?[]:r,i=e.viewedUserRoles,o=e.viewedUser,u=e.currentUser,s=e.appsCounters,a=e.parsedConfigItems,c=e.publicRouterPrefix,f=e.permittedPagesMap,p=e.experiments,l=!o.id&&u?u:o,d=Ae({menuItems:Le({menuItems:function(e){var t=e.menuItems,r=e.currentUser,n=e.viewedUser,i=e.parsedRoutersConfigs,o=void 0===i?[]:i;if(!n.id)return t;if(r&&r.id===n.id)return t;var u=o.find((function(e){return"private"===e.type}));return t.filter((function(e){return!e.link||!Ue({menuItem:e,viewedUser:n,privateRouterConfig:u,shouldLog:!1})}))}({menuItems:function(e){var t=e.menuItems,r=e.parsedConfigItems;if(r)return t.filter((function(e){var t=(r.find((function(t){return t.link===e.link}))||{}).isVisibleInMenuBar;return"boolean"!=typeof t||t}))}({menuItems:Me({menuItems:t,publicRouterPrefix:c}),parsedConfigItems:a})||[],currentUser:u,viewedUser:o,parsedRoutersConfigs:n}),parsedRoutersConfigs:n,permittedPagesMap:f,viewedUser:o,experiments:p}),parsedRoutersConfigs:n,userRoles:i,viewedUser:l,appsCounters:s});return d.forEach((function(e){e.items&&e.items.length>0&&(e.items=ke({menuItems:e.items,parsedRoutersConfigs:n,viewedUserRoles:i,viewedUser:o,currentUser:u,appsCounters:s,parsedConfigItems:a,publicRouterPrefix:c}))})),{menuItems:d}.menuItems.filter((function(e){return!!e.link||e.items&&e.items.length>0}))}function Ne(e){var t=e.menuItems,r=e.parsedRoutersConfigs,n=e.userRoles,i=e.viewedUser,o=e.appsCounters,u=e.publicRouterPrefix,s=e.permittedPagesMap,a=e.experiments;return Ae({menuItems:Le({menuItems:Me({menuItems:t,publicRouterPrefix:u}),parsedRoutersConfigs:r,permittedPagesMap:s,viewedUser:i,experiments:a}),parsedRoutersConfigs:r,userRoles:n,viewedUser:i,appsCounters:o})}function De(e){var t=e.menu,r=e.parsedRoutersConfigs,n=e.currentUserRoles,i=e.currentUser,o=e.appsCounters,u=e.memoryStorage,s=e.publicRouterPrefix,a=e.permittedPagesMap,c=e.experiments,f=e.isMobile,p=Boolean((null==t?void 0:t.accountNavBar)&&t.accountNavBar.navBarItems&&t.accountNavBar.menuItems&&f),l=p?t.accountNavBar.navBarItems:t.navBarItems||[],d=p?null==t?void 0:t.accountNavBar.menuItems:t.menuItems||[],v="login-dropdown-menu-initial-items-"+t.id,m=JSON.parse(u.getItem(v));if(!m){var g=JSON.stringify(d);u.setItem(v,g),m=d}var h=Ne({menuItems:l,parsedRoutersConfigs:r,userRoles:n,viewedUser:i,appsCounters:o,publicRouterPrefix:s,permittedPagesMap:a,experiments:c}),b=Ne({menuItems:m,parsedRoutersConfigs:r,userRoles:n,viewedUser:i,appsCounters:o,publicRouterPrefix:s,permittedPagesMap:a,experiments:c});p?(t.accountNavBar.navBarItems=h,t.accountNavBar.menuItems=b):(t.navBarItems=h,t.menuItems=b)}function Te(e){var t=e.wixCodeApi,r=e.menu,n=e.parsedRoutersConfigs,i=e.viewedUserRoles,o=e.currentUser,u=e.viewedUser,s=e.appsCounters,a=e.parsedConfigItems,c=e.memoryStorage,f=e.publicRouterPrefix,p=e.permittedPagesMap,l=e.experiments,d=e.isMobile&&void 0!==r.options&&void 0===r.items,v=d?r.options||[]:r.items||[],m="members-menu-initial-items-"+r.id,g=JSON.parse(c.getItem(m));if(!g){var h=JSON.stringify(v);c.setItem(m,h),g=v}var b=ke({menuItems:g,parsedRoutersConfigs:n,viewedUserRoles:i,currentUser:o,viewedUser:u,appsCounters:s,parsedConfigItems:a,publicRouterPrefix:f,permittedPagesMap:p,experiments:l});d?(r.options=b,je({menu:r,options:b,viewedUser:u,wixCodeApi:t})):r.items=b}function _e(e){var t,r=e.$w,n=e.parsedRoutersConfigs,i=void 0===n?[]:n,o=e.currentUserRoles,u=e.currentUser,s=e.appsCounters,a=e.memoryStorage,c=e.publicRouterPrefix,f=e.permittedPagesMap,p=void 0===f?{}:f,l=e.experiments,d=void 0===l?null:l,v=e.isMobile;if(u.loggedIn){var m=r("@members_login"),g=r("@members-login-bar");m.forEach((function(e){return De({menu:e,parsedRoutersConfigs:i,currentUserRoles:o,currentUser:u,appsCounters:s,memoryStorage:a,publicRouterPrefix:c,permittedPagesMap:p,experiments:d,isMobile:v})})),g.forEach((function(e){return De({menu:e,parsedRoutersConfigs:i,currentUserRoles:o,currentUser:u,appsCounters:s,memoryStorage:a,publicRouterPrefix:c,permittedPagesMap:p,experiments:d,isMobile:v})})),t=[].concat(Ie(),m,g),Re=t}}function Be(e){var t=e.$w,r=e.wixCodeApi,n=e.parsedRoutersConfigs,i=void 0===n?[]:n,o=e.viewedUserRoles,u=void 0===o?[]:o,s=e.currentUser,a=e.viewedUser,c=e.appsCounters,f=e.parsedConfigItems,p=e.memoryStorage,l=e.publicRouterPrefix,d=e.permittedPagesMap,v=void 0===d?{}:d,m=e.experiments,g=void 0===m?null:m,h=e.isMobile,b=t(Oe),w=t(Se);b.forEach((function(e){return Te({wixCodeApi:r,menu:e,parsedRoutersConfigs:i,viewedUserRoles:u,currentUser:s,viewedUser:a,appsCounters:c,parsedConfigItems:f,memoryStorage:p,publicRouterPrefix:l,permittedPagesMap:v,experiments:g,isMobile:h})})),w.forEach((function(e){return Te({wixCodeApi:r,menu:e,parsedRoutersConfigs:i,viewedUserRoles:u,currentUser:s,viewedUser:a,appsCounters:c,parsedConfigItems:f,memoryStorage:p,publicRouterPrefix:l,permittedPagesMap:v,experiments:g,isMobile:h})}))}var Fe=r(613),qe=r.n(Fe),Ve=r(945),Je=r.n(Ve),He=r(803),We=r.n(He),$e=function(){function e(e,t){this.httpClient=e,this.experiments=t,Je()(this,"adminGroupId","00000000-0000-0000-0000-000000000001"),Je()(this,"restrictedPagesContext","Pages"),Je()(this,"permittedPagesExperiment",p)}var r=e.prototype;return r.getPermittedPagesMap=function(){var e=qe()(We().mark((function e(t,r){var n,i,o,u,s;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object.values(t),this.shouldFetchPermittedPages(n,r)){e.next=3;break}return e.abrupt("return",{});case 3:return e.next=5,this.fetchRestrictedPagesPermission();case 5:if(i=e.sent,this.hasRestrictedPages(i,n)){e.next=8;break}return e.abrupt("return",this.getPermittedPagesMapFallback(Object.keys(t),!0));case 8:return o=this.getNonRestrictedPages(i,n),u=this.getRestrictedMemberPages(i,n),e.next=12,this.checkPermissionsForRestrictedPages(i.id,u);case 12:return s=e.sent,e.abrupt("return",this.toPermittedPagesMap(t,o,s));case 14:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),r.toPermittedPagesMap=function(e,r,n){return Object.entries(e).reduce((function(e,i){var o,u,s=i[0],a=i[1];return r.includes(a)?t()({},e,((o={})[s]=!0,o)):t()({},e,((u={})[s]=n[a],u))}),{})},r.getRestrictedMemberPages=function(e,t){return e.resourceIds.filter((function(e){return t.includes(e)}))},r.getNonRestrictedPages=function(e,t){return t.filter((function(t){return!e.resourceIds.includes(t)}))},r.getPermittedPagesMapFallback=function(e,r){return e.reduce((function(e,n){var i;return t()({},e,((i={})[n]=r,i))}),{})},r.checkPermissionsForRestrictedPages=function(){var e=qe()(We().mark((function e(t,r){var n,i,o,u,s;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="/_api/members-groups-web/v1/permissions/"+t,o={params:{resourceId:r}},u=this.getPermittedPagesMapFallback(r,!1),e.next=5,null==(n=this.httpClient)?void 0:n.get(i,o).then((function(e){return e.data.isPermitted})).catch((function(){return null}));case 5:return s=e.sent,e.abrupt("return",null!=s?s:u);case 7:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),r.fetchRestrictedPagesPermission=function(){var e=qe()(We().mark((function e(){var t,r,n,i,o=this;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/_api/members-groups-web/v1/groups/"+this.adminGroupId+"/permissions",e.next=3,null==(t=this.httpClient)?void 0:t.get(n).then((function(e){return e.data.permissions})).catch((function(){return null}));case 3:return i=e.sent,e.abrupt("return",null!=(r=null==i?void 0:i.find((function(e){var t=e.context;return o.restrictedPagesContext===t})))?r:null);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.hasRestrictedPages=function(e,t){return!(null==e||!e.resourceIds.length)&&t.some((function(t){return e.resourceIds.includes(t)}))},r.shouldFetchPermittedPages=function(e,t){var r,n=null==(r=this.experiments)?void 0:r.enabled(this.permittedPagesExperiment);return null!=n&&n&&e.length>0&&"Site"===t},e}(),ze=function(){var e=qe()(We().mark((function e(t){var r,n,i,o,u;return We().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=null==t||null==(r=t.essentials)?void 0:r.createExperiments,o={scopes:["members-area"]},!(u=null!=(n=null==i?void 0:i(o))?n:null)){e.next=7;break}return e.next=7,u.ready();case 7:return e.abrupt("return",u);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();function Ge(e){var t,r=e.find((function(e){return"public"===JSON.parse(e.config).type}));if(r){var n=JSON.parse(r.config),i=r.prefix,o=Object.keys(null!=(t=n.patterns)?t:{}),u=o.find((function(e){return!0===n.patterns[e].socialHome}));if(u)return{routerPrefix:i,patternKey:u,pageData:n.patterns[u]};if(o.length>0){var s=o[0];return{routerPrefix:i,patternKey:s,pageData:n.patterns[s]}}}}var Xe,Ke,Ye,Ze,Qe,et=function(){},tt=function(){function e(e){var t=e.appRouters,r=e.routerReturnedData,n=e.wixCodeApi;Je()(this,"wixLocation",void 0),Je()(this,"wixSite",void 0),Je()(this,"isMobile",void 0),Je()(this,"appRouters",void 0),Je()(this,"routerReturnedData",void 0),Je()(this,"wixCodeApi",void 0),this.wixLocation=n.location,this.wixSite=n.site,this.isMobile="Mobile"===n.window.formFactor,this.appRouters=t,this.routerReturnedData=r,this.wixCodeApi=n}var r=e.prototype;return r.matchRoute=function(e){var t=e.appDefinitionId,r=e.sectionId,n=e.onSuccess,i=void 0===n?et:n,o=e.onError,u=void 0===o?et:o;t&&r||u("Error: please provide app ID and section ID for navigation");var s=!1;if(this.appRouters.forEach((function(e){if(!s){var n=JSON.parse(e.config);return n.patterns&&Object.keys(n.patterns).forEach((function(o){if(!s){var u=n.patterns[o];u.appData&&u.appData.appDefinitionId===t&&u.appData.appPageId===r&&(s=!0,i(e.prefix,o))}}))}})),!s){var a=(this.wixSite.getSiteStructure().pages||[]).filter((function(e){return e.applicationId===t&&!e.prefix})).pop();return a?(s=!0,i("",a.url)):u("Error: can not resolve route for app "+t+" and page "+r)}},r.getRouterOptions=function(e){var r=(e.appRouters||[]).map((function(e){return t()({},e,{config:JSON.parse(e.config)})})),n=r.map((function(e){return e.config}));return{publicRouterPrefix:r.find((function(e){return"public"===e.config.type})).prefix,parsedRoutersConfigs:n}},r.getMenuRenderOptions=function(e){var r=e.config,n=e.userService,o=e.appsCounters,u=e.enablePreview,s=r.$w,a=r.appParams,c=this.getRouterOptions(a),f=c.parsedRoutersConfigs,p=c.publicRouterPrefix,l=n.getViewedUser();return{$w:s,wixCodeApi:this.wixCodeApi,publicRouterPrefix:p,parsedRoutersConfigs:f,appsCounters:o,memoryStorage:me(),parsedConfigItems:i(r.config),currentUser:n.getCurrentUser(),viewedUser:u?t()({},l,{id:"00000000-0000-0000-0000-000000000000"}):l,viewedUserRoles:n.getRoles()[l.id]||[],isMobile:this.isMobile}},r.hasSocialApp=function(e){var t=e.applicationId;return f.indexOf(t)>-1},r.hasSocialPages=function(e,t){var r=this;return new Promise((function(n,i){if(!r.appRouters)return t&&t("App routers not initialised"),i("App routers not initialised");var o=r.appRouters.filter((function(e){var t=JSON.parse(e.config);return"public"===t.type&&t.patterns&&Object.keys(t.patterns).length>0})),u=r.wixSite.getSiteStructure().pages.filter(r.hasSocialApp);e&&e(o.length>0||u.length>0),n(o.length>0||u.length>0)}))},r.getViewedUser=function(e,t){var r=this;return new Promise((function(n,i){var o,u=null==(o=r.routerReturnedData)?void 0:o.memberData.memberContactId;u?(e&&e(u),n(u)):(t&&t("Error getting viewed user"),i("Error getting viewed user"))}))},r.navigateToSection=function(e,t){var r=this,n=e.appDefinitionId,i=e.sectionId,o=e.tpaInnerRoute,u=void 0===o?"":o,s=e.memberId,c=void 0===s?"":s;return new Promise((function(e,o){r.matchRoute({appDefinitionId:n,sectionId:i,onSuccess:function(t,n){t&&0!==t.indexOf("/")&&(t="/"+t),u&&"/"!==u.charAt(0)&&(u="/"+u),r.wixLocation.to(""+t+(c?n.replace(a,c):n)+u),e()},onError:function(e){t&&t(e),o(e)}})}))},r.getSectionUrl=function(e,t){var r=this,n=e.appDefinitionId,i=e.sectionId,o=e.memberId,u=void 0===o?"":o,s=e.memberSlug;return new Promise((function(e,o){var c=s||u;r.matchRoute({appDefinitionId:n,sectionId:i,onSuccess:function(n,i){n&&0===n.indexOf("/")&&(n=n.substring(1)),n||0!==i.indexOf("/")||(i=i.substring(1));var o=r.wixLocation.baseUrl;"/"!==o.slice(-1)&&(o+="/");var u=Object.keys(r.wixLocation.query).map((function(e){return e+"="+r.wixLocation.query[e]})).join("&");t&&t(""+o+n+(c?i.replace(a,c):i)+(u?"?"+u:"")),e(""+o+n+(c?i.replace(a,c):i)+(u?"?"+u:""))},onError:function(){console.error("Route not found for app",n,"and section",i),t&&t(r.wixLocation.url),o(r.wixLocation.url)}})}))},r.getNavigatableRoles=function(){var e=Ge(this.appRouters);if(e){var t,r,n=null!=(t=null==(r=e.pageData.appData)?void 0:r.visibleForRoles)?t:[];return Promise.resolve({navigatableMembersRoles:n,isNavigationAllowed:!0})}return Promise.resolve({navigatableMembersRoles:[],isNavigationAllowed:!1})},r.navigateToMember=function(e,t){var r=this,n=e.memberId,i=e.memberSlug;return new Promise((function(e,o){var u=i||n;if(!n)return t&&t("Error: please provide site member ID"),o("Error: please provide site member ID");var s=Ge(r.appRouters);if(s){var c="/"+s.routerPrefix+s.patternKey.replace(a,u);r.wixLocation.to(c)}e()}))},r.getMemberPagePrefix=function(e,t,r){var n=this,i=e.type,o=void 0===i?"public":i;return new Promise((function(e,i){if(!n.appRouters)return r&&r("Can not get prefix for type "+o+" - no routers"),i("Can not get prefix for type "+o+" - no routers");var u=n.appRouters.filter((function(e){return JSON.parse(e.config).type===o})).pop();if(!u)return r&&r("Can not get prefix for type "+o),i("Can not get prefix for type "+o);t&&t({type:o,prefix:u.prefix}),e({type:o,prefix:u.prefix})}))},r.setNotificationCount=function(e){Ie().forEach((function(r){var n;null!=(n=r.navBarItems)&&n.length&&(r.navBarItems=[t()({},r.navBarItems[0],{displayCount:e})])}))},r.enterPublicProfilePreviewMode=function(e){var t,r,n=this,i=e.config,o=e.userService,u=i.appParams,s=null==(t=this.wixCodeApi)||null==(r=t.site)?void 0:r.getAppToken(u.appDefinitionId);return Promise.resolve().then((function(){return o.getViewedUserMenuCountersWithCaching(s)})).then((function(e){var t=n.getMenuRenderOptions({config:i,userService:o,appsCounters:e,enablePreview:!0});l("renderMembersMenuItems",(function(){return Be(t)}))()}))},r.leavePublicProfilePreviewMode=function(e){var t,r,n=this,i=e.config,o=e.userService,u=i.appParams,s=null==(t=this.wixCodeApi)||null==(r=t.site)?void 0:r.getAppToken(u.appDefinitionId);return Promise.resolve().then((function(){return o.getViewedUserMenuCountersWithCaching(s)})).then((function(e){var t=n.getMenuRenderOptions({config:i,userService:o,appsCounters:e,enablePreview:!1});l("renderMembersMenuItems",(function(){return Be(t)}))()}))},r.clearMenus=function(e){var t=e.config;return Promise.resolve().then((function(){return e=null==t?void 0:t.$w,r=e(Oe),n=e(Se),r.forEach((function(e){e.items=[]})),void n.forEach((function(e){e.items=[]}));var e,r,n}))},e}(),rt=function(e,t,r){var n=e.routerReturnedData,i=e.appRouters,o=void 0===i?[]:i,u=t.storage;if(Ze=Pe(r),Ye=new tt({appRouters:o,routerReturnedData:n,wixCodeApi:r}),function(e){ce=e}(u.memory),!n)return Promise.resolve();var s=n.memberData&&n.memberData.slugs||[],a=n.memberData&&n.memberData.memberContactId||n.userId,c=s.find((function(e){return!0===e.primary})),f={id:a,slug:c&&c.name||a};return Ze.setViewedUser(f),Ze.setRoles(n.roles||{}),Promise.resolve()};var nt=function(e){return function(){var r=e.wixCodeApi,n=e.appParams;Xe=e;var o=function(o){void 0===o&&(o=r.user.currentUser);var u=r.site.getAppToken(n.appDefinitionId);return Ze.setCurrentUser(o,u).then((function(){return function(e){var r,n,o=e.wixCodeApi,u=e.appParams,s=e.config,a=e.$w,c=Ze.getViewedUser(),f=Ze.getCurrentUser(),p=Ze.getRoles(),d=0===Object.keys(p).length&&f.loggedIn,v=o.site.getAppToken(u.appDefinitionId),m="backend"===o.window.rendering.env,g=(u.appRouters||[]).map((function(e){return t()({},e,{config:JSON.parse(e.config)})})),h=g.map((function(e){return e.config}));return Promise.all([d&&Ze.fetchRoles(c.id,f.id,v),m?void 0:Ze.getViewedUserMenuCountersWithCaching(v),m?void 0:Ze.getCurrentUserMenuCountersWithCaching(v),Qe.getPermittedPagesMap((r=g,n={},r.forEach((function(e){var t;Object.entries(null!=(t=e.pages)?t:{}).forEach((function(e){var t=e[0],r=e[1];n[t]=r}))})),n),o.window.viewMode)]).then((function(e){var t,r=e[0],n=e[1],u=e[2],p=e[3];d&&Ze.setRoles(r);var v=i(s),m=me(),b="Mobile"===o.window.formFactor,w=Ze.getRoles()[f.id]||[],y=Ze.getRoles()[c.id]||[],x=g.find((function(e){return"public"===e.config.type})),P=null!=(t=null==x?void 0:x.prefix)?t:"";l("renderMembersMenuItems",(function(){return Be({$w:a,wixCodeApi:o,parsedRoutersConfigs:h,viewedUserRoles:y,viewedUser:c,currentUser:f,appsCounters:n,parsedConfigItems:v,memoryStorage:m,publicRouterPrefix:P,permittedPagesMap:p,experiments:Ke,isMobile:b})}))(),l("renderLoginMenuItems",(function(){return _e({$w:a,parsedRoutersConfigs:h,currentUserRoles:w,currentUser:f,appsCounters:u,memoryStorage:m,publicRouterPrefix:P,permittedPagesMap:p,experiments:Ke,isMobile:b})}))()}))}(e)}))};return r.user.onLogin((function(e){return l("onLogin",(function(){return o(e)}))()})),ze(e).then((function(t){Ke=t,Qe=function(e,t){return new $e(e,t)}(function(e){var t,r,n;return null!=(t=null==(r=e.essentials)||null==(n=r.appEssentials)?void 0:n.httpClient)?t:null}(e),Ke)})).then((function(){return o()})).then((function(){return function(e){var t=Ze.getViewedUser();if("Site"===e.wixCodeApi.window.viewMode){var r=Ce(e.wixCodeApi),n=Ze.replaceUserPatternWithSlug(r,t);r!==n&&(d("Deprecation check: redirect",{tags:{viewerName:e.platformAPIs.bi.viewerName},extra:{from:r,to:n}}),e.wixCodeApi.location.to(n))}}(e)}))}},it=function(e,t,r,n){return function(e,t){(o=t.monitoring.createMonitor("https://fe0974951f45411fbe57fbbd7c30bbf2@sentry.wixpress.com/28"))&&o.setUserContext({msid:t.bi.metaSiteId}),u=t.fedOpsLoggerFactory.getLoggerForWidget({appName:"santa-members-viewer-app",appId:e.appDefinitionId})}(e,n),l("initAppForPage",(function(){return rt(e,t,r)}))()},ot=function(e){return l("createControllers",(function(){return function(e){return e.map((function(e){return{pageReady:nt(e),exports:{}}}))}(e)}))()},ut={hasSocialPages:function(e,t){return l("publicApi.hasSocialPages",(function(){return Ye.hasSocialPages(e,t)}))()},getViewedUser:function(e,t){return l("publicApi.getViewedUser",(function(){return Ye.getViewedUser(e,t)}))()},navigateToSection:function(e,t){return l("publicApi.navigateToSection",(function(){return Ye.navigateToSection(e,t)}))()},navigateToMember:function(e,t){return l("publicApi.navigateToMember",(function(){return Ye.navigateToMember(e,t)}))()},getNavigatableRoles:function(e){return l("publicApi.getNavigatableRoles",(function(){return Ye.getNavigatableRoles()}))()},getSectionUrl:function(e,t){return l("publicApi.getSectionUrl",(function(){return Ye.getSectionUrl(e,t)}))()},getMemberPagePrefix:function(e,t,r){return l("publicApi.getMemberPagePrefix ",(function(){return Ye.getMemberPagePrefix(e,t,r)}))()},setNotificationCount:function(e){return l("publicApi.setNotificationCount",(function(){return Ye.setNotificationCount(e)}))()},enterPublicProfilePreviewMode:function(){return l("publicApi.enterPublicProfilePreviewMode",(function(){return Ye.enterPublicProfilePreviewMode({userService:Ze,config:Xe})}))()},leavePublicProfilePreviewMode:function(){return l("publicApi.leavePublicProfilePreviewMode",(function(){return Ye.leavePublicProfilePreviewMode({userService:Ze,config:Xe})}))()},clearMenus:function(){return l("publicApi.clearMenus",(function(){return Ye.clearMenus({config:Xe})}))()}}}(),n}()}));
//# sourceMappingURL=app.bundle.min.js.map