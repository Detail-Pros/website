!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("lodash")):"function"==typeof define&&define.amd?define(["lodash"],e):"object"==typeof exports?exports.viewerScript=e(require("lodash")):t.viewerScript=e(t._)}(self,(function(__WEBPACK_EXTERNAL_MODULE__6__){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(r,o,function(e){return t[e]}.bind(null,o));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="https://static.parastorage.com/services/pro-gallery-santa-wrapper/ac3ddc14bf2c62d99ba0a7251b3ae545d50fdf11044ebc1f486a94f0/",i(i.s=165)}([function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"d",(function(){return o})),i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"e",(function(){return s}));var r=function(){return(r=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function o(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(i[r[o]]=t[r[o]])}return i}function n(t,e,i,r){return new(i||(i=Promise))((function(o,n){function a(t){try{l(r.next(t))}catch(t){n(t)}}function s(t){try{l(r.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(a,s)}l((r=r.apply(t,e||[])).next())}))}function a(t,e){var i,r,o,n,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function s(n){return function(s){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,r&&(o=2&n[0]?r.return:n[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,n[1])).done)return o;switch(r=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a)}catch(t){n=[6,t],r=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,s])}}}function s(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<i;e++)for(var n=arguments[e],a=0,s=n.length;a<s;a++,o++)r[o]=n[a];return r}},function(t,e,i){"use strict";var r=i(38),o={ITEM_CENTER:"ITEM_CENTER",IMAGE_CENTER:"IMAGE_CENTER",INFO_CENTER:"INFO_CENTER"},n={CROP:"fill",FIT:"fit",MIN:"min",MAX:"max"},a={SIDE_BAR_WIDTH:430,STORE_SIDE_BAR_WIDTH:560,MOBILE_PADDING:120,NO_PADDING:0},s={APP_LOADED:"APP_LOADED",ITEM_CREATED:"ITEM_CREATED",ITEM_LOADED:"ITEM_LOADED",GALLERY_CHANGE:"GALLERY_CHANGE",ITEM_ACTION_TRIGGERED:"ITEM_ACTION_TRIGGERED",CURRENT_ITEM_CHANGED:"CURRENT_ITEM_CHANGED",NEED_MORE_ITEMS:"NEED_MORE_ITEMS",VIDEO_ENDED:"VIDEO_ENDED",VIDEO_ERROR:"VIDEO_ERROR",VIDEO_PLAYED:"VIDEO_PLAYED",HOVER_SET:"HOVER_SET",LOAD_MORE_CLICKED:"LOAD_MORE_CLICKED",ITEM_CLICKED:"ITEM_CLICKED",THUMBNAIL_CLICKED:"THUMBNAIL_CLICKED",ITEM_FOCUSED:"ITEM_FOCUSED",ITEM_LOST_FOCUS:"ITEM_LOST_FOCUS",GALLERY_SCROLLED:"GALLERY_SCROLLED"},l=i(24),c=i(25),u={LEFT:"left",RIGHT:"right",CENTER:"center"},h={FIT_TO_SCREEN:0,SET_ITEMS_PER_ROW:1},p={MIDDLE:"MIDDLE",TOP:"TOP",LEFT:"LEFT",RIGHT:"RIGHT",BOTTOM:"BOTTOM"},d={1:"1","2v":"2v","2h":"2h","3r":"3r","3b":"3b","3t":"3t","3l":"3l","3v":"3v","3h":"3h"},g={NO_EFFECT:"NO_EFFECT",ZOOM_IN:"ZOOM_IN",BLUR:"BLUR",GRAYSCALE:"GRAYSCALE",SHRINK:"SHRINK",INVERT:"INVERT",COLOR_IN:"COLOR_IN",DARKENED:"DARKENED"},m=i(23),f=i(39),y={COLUMNS:!0,ROWS:!1},b={EXPAND:"expand",LINK:"link",NOTHING:"nothing",FULLSCREEN:"fullscreen",MAGNIFY:"magnify"},S=i(4),v={LEFT_TO_RIGHT:!1,RIGHT_TO_LEFT:!0},_=i(29),O=i(40),I={PARTIAL:"partial",ALL:"all"},w={EXPAND:"EXPAND",FADE:"FADE",CAROUSEL:"CAROUSEL",CROSSFADE:"CROSSFADE"},x={NO_EFFECT:"NO_EFFECT",FADE_IN:"FADE_IN",EXPAND:"EXPAND",SLIDE_UP:"SLIDE_UP",SLIDE_RIGHT:"SLIDE_RIGHT",SLIDE_DOWN:"SLIDE_DOWN",SLIDE_LEFT:"SLIDE_LEFT"},P=i(5),E=i(15),T={NO_EFFECT:"NO_EFFECT",FADE_IN:"FADE_IN",GRAYSCALE:"GRAYSCALE",SLIDE_UP:"SLIDE_UP",EXPAND:"EXPAND",SHRINK:"SHRINK",ZOOM_OUT:"ZOOM_OUT",ONE_COLOR:"ONE_COLOR",MAIN_COLOR:"MAIN_COLOR",BLUR:"BLUR"},C=i(41),D=i(12),A={FACEBOOK:"facebook",TWITTER:"twitter",PINTEREST:"pinterest",EMAIL:"email",TUMBLR:"tumblr"},L=i(42),M={BOTTOM:"bottom",LEFT:"left",TOP:"top",RIGHT:"right"},R=i(17),j={HOVER:"hover",AUTO:"auto",ON_CLICK:"onClick"},B=i(20),k={NO_EFFECT:"NO_EFFECT",SLIDE:"SLIDE"},N={ease:"cubic-bezier(0.46,0.1,0.25,1)"},U={LEFT:"LEFT",RIGHT:"RIGHT",BOTTOM:"BOTTOM",TOP:"TOP",CENTERED_VERTICALLY:"CENTERED_VERTICALLY",CENTERED_HORIZONTALLY:"CENTERED_HORIZONTALLY"},F={PIXEL:"PIXEL",PERCENT:"PERCENT"},W={INTERVAL:"interval",CONTINUOUS:"continuous"};e.a={arrowsPosition:r.a,arrowsVerticalPosition:o,cubeType:n,dimensions:a,events:s,deviceType:l.a,gallerySizeType:c.a,galleryTextAlign:u,gridStyle:h,cubeFitPosition:p,groupTypes:d,imageHoverAnimations:g,infoBehaviourOnHover:m.a,infoType:f.a,isVertical:y,itemClick:b,layout:S.a,isLayout:S.b,layoutDirection:v,loadingMode:_.a,loadingWithColorMode:O.a,loadMoreAmount:I,mobileSwipeAnimations:w,overlayAnimations:x,placements:P.a,hasExternalAbovePlacement:P.b,hasExternalBelowPlacement:P.c,hasHoverPlacement:P.h,hasExternalRightPlacement:P.f,hasExternalLeftPlacement:P.e,hasExternalVerticalPlacement:P.g,hasExternalHorizontalPlacement:P.d,isExternalAbovePlacement:P.j,isExternalBelowPlacement:P.k,isHoverPlacement:P.p,isExternalRightPlacement:P.n,isExternalLeftPlacement:P.m,isExternalVerticalPlacement:P.o,isExternalHorizontalPlacement:P.l,isConstantVerticalPlacement:P.i,resizeMethods:E.a,scrollAnimations:T,slideAnimations:C.a,scrollDirection:D.a,socialNetworks:A,textBoxWidthCalculationOptions:L.a,thumbnailsAlignment:M,urlSizes:R.a,urlTypes:R.b,videoPlay:j,viewMode:B.a,imagePlacementAnimations:k,slideTransition:N,overlayPositions:U,overlaySizeType:F,autoSlideshowTypes:W}},function(t,e,i){"use strict";i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return o})),i.d(e,"b",(function(){return s})),i.d(e,"e",(function(){return l})),i.d(e,"d",(function(){return n}));var r=i(0);function o(t,e,i){var o=Object(r.a)({},t),n=e.split("_"),a=n.pop(),s=o;return n.forEach((function(t){"object"!=typeof s[t]&&(s[t]={}),s=s[t]})),s[a]=i,o}function n(t,e){var i=e.split("_"),r=i.pop(),o=t;return i.every((function(t){return"object"==typeof o[t]&&(o=o[t],!0)}))?o[r]:void 0}function a(t){var e={};for(var i in t)if(t.hasOwnProperty(i))if("object"==typeof t[i]&&!(t[i]instanceof Array)&&null!==t[i]&&Object.keys(t[i]).length>0){var r=a(t[i]);for(var o in r)r.hasOwnProperty(o)&&(e[i+"_"+o]=r[o])}else e[i]=t[i];return e}function s(t){return Object.entries(t).reduce((function(t,e){return o(t,e[0],e[1])}),{})}function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s(Object.assign.apply(Object,Object(r.e)([{}],t.map(a))))}},function(t,e,i){"use strict";var r=i(0),o=function(){return{}},n={y:0,x:0,width:2560,height:1440,innerWidth:2560,innerHeight:1440,clientWidth:2560,clientHeight:1440},a={parentNode:Object(r.a)(Object(r.a)({},n),{getBoundingClientRect:function(){return n},removeChild:o,appendChild:o,setAttribute:o}),removeChild:o,appendChild:o,setAttribute:o},s=Object(r.a)(Object(r.a)(Object(r.a)({},n),a),{getBoundingClientRect:function(){return n}}),l={initCustomEvent:o,createEvent:o,composedPath:o,initEvent:o,preventDefault:o,stopImmediatePropagation:o,stopPropagation:o},c=Object(r.a)({addEventListener:o,removeEventListener:o,createEvent:function(){return l},createElement:function(){return s},getElementById:function(){return s},getElementsByClassName:function(){return[s]},getElementsByTagName:function(){return[s]},querySelector:function(){return[s]},documentElement:s,activeElement:s,style:n},n);c.body=c;var u=Object(r.a)({isMock:!0,isSSR:!0,orientation:0,devicePixelRatio:1,scrollTop:0,addEventListener:o,removeEventListener:o,createEvent:o,CustomEvent:o,screen:n,open:o,petri:{},search:{},location:{href:"http://mock.wix.com/",protocol:"http:",host:"mock.wix.com",hostname:"mock.wix.com",port:"",pathname:"/",search:"",hash:""},postMessage:o,requestAnimationFrame:o,dispatchEvent:o,document:c,getComputedStyle:o,localStorage:{},frames:[]},n);u.parent=u;var h=u,p=(new(function(){function t(){this.reset()}return t.prototype.windowIsAvailable=function(){try{return"undefined"!=typeof window}catch(t){return!1}},t.prototype.reset=function(){this.isMock=!this.windowIsAvailable(),this.window=this.isMock?h:window,this.isMock&&(this.window.mockInstanceId=Math.floor(1e5*Math.random()))},t}())).window;e.a=p},function(t,e,i){"use strict";i.d(e,"b",(function(){return o}));var r={JSON_FIXED:-3,DESIGNED_PRESET:-2,EMPTY:-1,COLLAGE:0,MASONRY:1,GRID:2,THUMBNAIL:3,SLIDER:4,SLIDESHOW:5,PANORAMA:6,COLUMN:7,MAGIC:8,FULLSIZE:9,BRICKS:10,MIX:11,ALTERNATE:12},o=function(t){return function(e){return e.galleryLayout===r[t]}};e.a=r},function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return a})),i.d(e,"h",(function(){return o})),i.d(e,"f",(function(){return s})),i.d(e,"e",(function(){return l})),i.d(e,"g",(function(){return c})),i.d(e,"d",(function(){return u})),i.d(e,"j",(function(){return d})),i.d(e,"k",(function(){return g})),i.d(e,"p",(function(){return m})),i.d(e,"n",(function(){return f})),i.d(e,"m",(function(){return y})),i.d(e,"o",(function(){return h})),i.d(e,"l",(function(){return p})),i.d(e,"i",(function(){return b}));var r={SHOW_ON_HOVER:"SHOW_ON_HOVER",SHOW_BELOW:"SHOW_BELOW",SHOW_ABOVE:"SHOW_ABOVE",SHOW_ON_THE_RIGHT:"SHOW_ON_THE_RIGHT",SHOW_ON_THE_LEFT:"SHOW_ON_THE_LEFT",ALTERNATE_HORIZONTAL:"ALTERNATE_HORIZONTAL",ALTERNATE_VERTICAL:"ALTERNATE_VERTICAL"},o=function(t){return String(t).indexOf(r.SHOW_ON_HOVER)>=0},n=function(t,e){return String(t).indexOf(r.SHOW_ABOVE)>=0||e%2==0&&String(t).indexOf(r.ALTERNATE_VERTICAL)>=0},a=function(t,e){return String(t).indexOf(r.SHOW_BELOW)>=0||e%2==1&&String(t).indexOf(r.ALTERNATE_VERTICAL)>=0},s=function(t,e){return String(t).indexOf(r.SHOW_ON_THE_RIGHT)>=0||e%2==0&&String(t).indexOf(r.ALTERNATE_HORIZONTAL)>=0},l=function(t,e){return String(t).indexOf(r.SHOW_ON_THE_LEFT)>=0||e%2==1&&String(t).indexOf(r.ALTERNATE_HORIZONTAL)>=0},c=function(t){return n(t,0)||a(t,1)},u=function(t){return s(t,0)||l(t,1)},h=function(t){return c(t)&&!u(t)&&!o(t)},p=function(t){return u(t)&&!c(t)&&!o(t)},d=function(t){return String(t)===r.SHOW_ABOVE},g=function(t){return String(t)===r.SHOW_BELOW},m=function(t){return String(t)===r.SHOW_ON_HOVER},f=function(t){return String(t)===r.SHOW_ON_THE_RIGHT},y=function(t){return String(t)===r.SHOW_ON_THE_LEFT},b=function(t,e){var i=t.split(","),r=i.shift();return e||function(t){return d(t)||g(t)}(r)&&i.every((function(t){return t===r}))};e.a=r},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__6__},function(t,e,i){"use strict";i.d(e,"a",(function(){return b})),i.d(e,"d",(function(){return S})),i.d(e,"c",(function(){return v})),i.d(e,"e",(function(){return O}));var r=i(0),o=i(9),n=i(10),a=i(5),s=i(23),l=i(29),c=i(40),u=i(41),h=i(25),p=i(38),d=i(1),g=i(2),m=i(39),f=i(42);var y=function(t,e){var i=Object(r.a)({},t);return i.textBoxHeight=function(t,e){if(!function(t,e){return Object(a.g)(t.titlePlacement)&&e}(t,e))return 0;return t.textBoxHeight}(i,e),i.externalInfoHeight=function(t,e){var i=e;e>0&&Object(a.g)(t.titlePlacement)&&t.imageInfoType===m.a.SEPARATED_BACKGROUND&&(i+=t.textImageSpace,i+=2*t.textBoxBorderWidth);return i}(i,i.textBoxHeight),i.externalInfoWidth=function(t,e){if(!function(t,e){var i=t.scrollDirection,r=t.isVertical,o=t.groupSize,n=t.titlePlacement;return i===d.a.scrollDirection.VERTICAL&&r&&1===o&&Object(a.d)(n)&&e}(t,e))return 0;var i=t.targetItemSize,r=t.calculateTextBoxWidthMode,o=t.textBoxWidth,n=t.textBoxWidthPercent,s=0;s=r===f.a.PERCENT?Math.min(100,Math.max(0,n))/100:Math.min(i,o);return s}(i,e),i},b=function(t,e){return void 0===e&&(e=!1),t.gallerySizeType===h.a.PIXELS&&t.gallerySizePx>0?t.gallerySizePx:t.gallerySizeType===h.a.RATIO&&t.gallerySizeRatio>0?(n.a&&n.a.innerWidth||980)*(t.gallerySizeRatio/100):e||t.gallerySize},S=function(t){var e=Object(r.a)({},t);return(t.scrollDirection===d.a.scrollDirection.VERTICAL||t.isVertical)&&(e.fixedColumns="1"===String(t.gridStyle)?Number(t.numberOfImagesPerRow):0,e.groupTypes="1",e.groupSize=1,e.collageAmount=0,e.collageDensity=0),e},v=function(t){var e=Object(r.a)({},t);if(!o.a.isUndefined(t.numberOfImagesPerCol)&&t.scrollDirection===d.a.scrollDirection.HORIZONTAL)switch(e.fixedColumns=0,t.numberOfImagesPerCol){case 1:default:e.groupTypes="1",e.groupSize=1,e.collageAmount=0,e.collageDensity=0;break;case 2:e.groupTypes="2v",e.groupSize=2,e.collageAmount=1,e.collageDensity=1;break;case 3:e.groupTypes="3v",e.groupSize=3,e.collageAmount=1,e.collageDensity=1}return e},_=function(t){var e=Object(r.a)({},t);return!function(t){if(d.a.isLayout("SLIDESHOW")(t))return!0;if(Object(a.g)(t.titlePlacement)){if(d.a.isLayout("SLIDER")(t)||d.a.isLayout("PANORAMA")(t)||d.a.isLayout("COLUMN")(t))return!0;if(d.a.isLayout("MASONRY")(t)&&t.isVertical)return!0;if(d.a.isLayout("GRID")(t)&&1!==t.scrollDirection)return!0}return!1}(e)?(o.a.isUndefined(e.itemFont)||(e=I("itemFont","textDecorationTitle",e)),o.a.isUndefined(e.itemDescriptionFont)||(e=I("itemDescriptionFont","textDecorationDesc",e))):(o.a.isUndefined(e.itemFontSlideshow)||(e=I("itemFontSlideshow","textDecorationTitle",e)),o.a.isUndefined(e.itemDescriptionFontSlideshow)||(e=I("itemDescriptionFontSlideshow","textDecorationDesc",e))),e},O=function(t){var e=Object(r.a)({},t);return"fit"===e.cubeType&&(e.itemBorderWidth=0,e.itemBorderRadius=0,e.itemEnableShadow=!1),e},I=function(t,e,i){var o=Object(r.a)({},i);return o[t].value=o[t].value.replace(/^font\s*:\s*/,""),o[t].value=o[t].value.replace(/;$/,""),o[t].value.indexOf("underline")>-1||!0===o[t].style.underline?(o[t].value=o[t].value.replace("underline",""),o[e]="underline"):!1===o[t].style.underline&&(o[e]="none"),o};e.b=function(t,e){var i=Object(r.a)({},t);return o.a.isMobile()&&(i=function(t){var e=Object(r.a)({},t);return e.imageMargin>0&&(e.imageMargin=Math.min(e.imageMargin,50)),e}(i=_(i))),i=function(t){var e=Object(r.a)({},t);return e.gallerySizeType===h.a.PIXELS&&e.gallerySizePx>0?e.targetItemSize=e.gallerySizePx:e.gallerySizeType===h.a.RATIO&&e.gallerySizeRatio>0&&(e.targetItemSize=(n.a&&n.a.innerWidth||980)*(e.gallerySizeRatio/100)),e}(i=function(t){var e=Object(r.a)({},t);return e.forceMobileCustomButton&&(e.targetItemSize=Math.round(405),e.titlePlacement=a.a.SHOW_BELOW,e.galleryLayout=2,e.fixedColumns=1,e.numberOfImagesPerRow=1),e}(i=function(t){var e=Object(r.a)({},t);return e.loadMoreButtonFont&&o.a.isMobile()&&(e.loadMoreButtonFont.value=e.loadMoreButtonFont.value.replace(/^font\s*:\s*/,""),e.loadMoreButtonFont.value=e.loadMoreButtonFont.value.replace(/;$/,""),e.loadMoreButtonFont.value.indexOf("underline")>-1?(e.loadMoreButtonFont.value=e.loadMoreButtonFont.value.replace("underline",""),e.textDecorationLoadMore="underline"):e.textDecorationLoadMore="none"),e}(i=function(t){var e=Object(r.a)({},t);return(e.scrollDirection===d.a.scrollDirection.VERTICAL||e.groupSize>1||!e.cubeImages)&&(e.slideAnimation=u.a.SCROLL),e}(i=function(t){var e=Object(r.a)({},t);return e.scrollDirection===d.a.scrollDirection.VERTICAL&&(e.slideshowLoop=!1),e}(i=function(t){var e=Object(r.a)({},t);return e.scrollDirection===d.a.scrollDirection.HORIZONTAL&&(e.isVertical=!1),e}(i=function(t){var e=Object(r.a)({},t);return e.arrowsPosition===p.a.OUTSIDE_GALLERY&&(e.arrowsPadding=0),e}(i=function(t){var e=Object(r.a)({},t);if(e.itemEnableShadow&&e.scrollDirection===d.a.scrollDirection.VERTICAL){var i=Math.max(e.layoutParams.gallerySpacing,(e.itemShadowSize||0)+(e.itemShadowBlur||0));e=Object(g.a)(e,"layoutParams_gallerySpacing",i)}return e}(i=function(t){var e=Object(r.a)({},t);return e.itemEnableShadow&&e.scrollDirection===d.a.scrollDirection.HORIZONTAL&&(e.itemEnableShadow=!1),e}(i=function(t){var e=Object(r.a)({},t);return e.imageLoadingMode===l.a.COLOR&&e.imageLoadingWithColorMode===c.a.MAIN_COLOR&&(e.imageLoadingMode=l.a.MAIN_COLOR),e}(i=function(t){var e=Object(r.a)({},t);return Object(a.h)(e.titlePlacement)||e.hoveringBehaviour===s.a.NEVER_SHOW||(e.hoveringBehaviour=s.a.APPEARS),e}(i=function(t){var e=Object(r.a)({},t);return d.a.isLayout("SLIDER")(e)||d.a.isLayout("COLUMN")(e)||(!e.isVertical||e.groupSize>1||e.scrollDirection===d.a.scrollDirection.HORIZONTAL&&!d.a.isLayout("DESIGNED_PRESET")(e))&&(e.titlePlacement=a.a.SHOW_ON_HOVER),e}(i)))))))))))),i=function(t){var e=Object(r.a)({},t),i=e.titlePlacement.split(",").filter((function(t){return!Object(a.p)(t)})).join(",");return(!Object(a.i)(i,d.a.isLayout("SLIDESHOW")(t))||e.numberOfImagesPerCol>1)&&(e.arrowsVerticalPosition=d.a.arrowsVerticalPosition.ITEM_CENTER),e}(i=function(t){var e=Object(r.a)({},t);return"auto"===e.videoPlay&&"nothing"===e.itemClick&&o.a.isiOS()&&(e.videoPlay="onClick"),e}(i=y(i,e)))}},function(t,e,i){"use strict";e.a={imageRatioType:{FIXED:"FIXED",RESPONSIVE:"RESPONSIVE"},dimensions:{SIDE_BAR_WIDTH:430,STORE_SIDE_BAR_WIDTH:560,MOBILE_PADDING:120,NO_PADDING:0},mobileSwipeAnimations:{EXPAND:"EXPAND",FADE:"FADE",CAROUSEL:"CAROUSEL",CROSSFADE:"CROSSFADE"},expandAnimations:{NO_EFFECT:"NO_EFFECT",EXPAND:"EXPAND",FADE_IN:"FADE_IN",ZOOM:"ZOOM"},expandInfoPositions:{SIDE:"SIDE",BOTTOM:"BOTTOM"},dataSavedState:{SAVED:"SAVED",PUBLISHED:"PUBLISHED"},slideTransitions:{LINEAR:"linear",EASE_IN:"cubic-bezier(0.86,0,0.5,1)",EASE_OUT:"cubic-bezier(0.31,1.17,0.58,1.07)",EASE_IN_OUT:"cubic-bezier(0.46,0.1,0.25,1)",BOUNCE_IN:"cubic-bezier(0.49,-0.12,0.49,0.04)",BOUNCE_OUT:"cubic-bezier(0.58,1.65,0.29,0.95)",BOUNCE_IN_OUT:"cubic-bezier(0.6,-0.36,0.41,1.23)",EXPO:"cubic-bezier(0.86,0,0.07,1)"},autoSlideshowTypes:{INTERVAL:"interval",CONTINUOUS:"continuous"}}},function(t,e,i){"use strict";(function(t){var r=i(0),o=i(81),n=i(10),a=i(30),s=i(1),l=function(){function e(){this._cache={},this._hash2int={},this._params={},Object.assign(this,o)}return e.prototype.shouldUseCache=function(){return!Object(a.b)()&&!Object(a.c)()&&!this.isSSR()},e.prototype.isUndefined=function(t){return void 0===t},e.prototype.dumpCache=function(){this._cache={}},e.prototype.getOrPutFromCache=function(t,e){return this.shouldUseCache()?(void 0!==this._cache[t]||(this._cache[t]=e()),this._cache[t]):e()},e.prototype.hashToInt=function(t,e,i){var r=0;if(this.isUndefined(t)||0===t.length)return r;if(!this._hash2int[t]){for(var o=0;o<t.length;o++)r+=t.charCodeAt(o);this._hash2int[t]=r}return this.isUndefined(e)||this.isUndefined(i)?this._hash2int[t]:this._hash2int[t]%(i-e+1)+e},e.prototype.parseGetParam=function(t,e){try{if(!this.isUndefined(this._params[t]))return this._params[t];var i="",r=[],o=location;if(e&&(o={search:"?"+(e.split("?")[1]||""),pathname:(e.split("?")[0]||"").split("/")[1]||""}),o.search.substr(1).split("&").forEach((function(e){(r=e.split("="))[0]===t&&(i=decodeURIComponent(r[1]))})),!i){var n=decodeURIComponent(o.pathname).split("?")[1];if(!n)return"";n.split("&").forEach((function(e){(r=e.split("="))[0]===t&&(i=decodeURIComponent(r[1]))}))}return this._params[t]=i,i}catch(t){return!1}},e.prototype.stripSlashes=function(t){var e="";return"string"==typeof t&&(e=t.replace(/\\\//g,"/").replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\0/g,"\0").replace(/\\\\/g,"\\")),e},e.prototype.parseStringObject=function(t){if("string"!=typeof t)return t;var e=this.stripSlashes(t);if("string"==typeof t&&/^[\],:{}\s]*$/.test(e.replace(/\\["\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return JSON.parse(e)}catch(t){}return e},e.prototype.hashCode=function(t){var e,i=0;if(0===t.length)return i;for(e=0;e<t.length;e++)i=(i<<5)-i+t.charCodeAt(e),i|=0;return i},e.prototype.isMobileByProps=function(){var t=this;return this.getOrPutFromCache("isMobileByProps",(function(){var e=t.parseGetParam("deviceType")||n.a.deviceType,i="true"===t.parseGetParam("showMobileView"),r=Object(a.a)();return!!i||(e?String(e).toLowerCase().indexOf("mobile")>=0:r||void 0)}))},e.prototype.isUserAgentMobile=function(){try{return this.getOrPutFromCache("isUserAgentMobile",(function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||n.a.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|pixel|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4)))&&(e=!0),e}))}catch(t){return!1}},e.prototype.isMobile=function(){var t=this;return this.getOrPutFromCache("isMobile",(function(){var e=t.isMobileByProps(),i=t.isUserAgentMobile();return t.isUndefined(e)?i:e}))},e.prototype.isTest=function(){try{return n.a.isTest}catch(t){return!1}},e.prototype.isLocal=function(){try{var t=n.a.location.hostname;return"local.wix.com"===t||(t.indexOf("localhost")>=0||"true"===this.parseGetParam("debug"))}catch(t){return!1}},e.prototype.isDev=function(){var t=this;return this.getOrPutFromCache("isDev",(function(){return t.shouldDebug("ph_local")||t.isOOI()&&!1||"true"===(t.safeLocalStorage()||{}).forceDevMode}))},e.prototype.isVerbose=function(){return!this.isTest()&&"true"===(this.safeLocalStorage()||{}).forceDevMode},e.prototype.isStoreGallery=function(){var t=this;return this.getOrPutFromCache("isStoreGallery",(function(){try{return n.a.location.search.toLowerCase().indexOf("isstore")>-1}catch(e){return t.isDev()&&console.error("cant find window",e),!1}}))},e.prototype.isSSR=function(){return void 0===t.window},e.prototype.isOOI=function(){return this.isSSR()||"undefined"!=typeof top&&"undefined"!=typeof self&&(top===self||self.location.origin.includes("editor.wix.com"))},e.prototype.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=Math.floor(16*Math.random())||0;return"x"===t?e.toString(16):t}))},e.prototype.isExternalUrl=function(t){return/(^https?)|(^data)|(^blob)/.test(t)},e.prototype.isiOS=function(){return this.getOrPutFromCache("isiOS",(function(){try{return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!n.a.MSStream}catch(t){return!1}}))},e.prototype.isiPhone=function(){return this.getOrPutFromCache("isiPhone",(function(){try{return/iPhone/.test(navigator.userAgent)&&!n.a.MSStream}catch(t){return!1}}))},e.prototype.isLandscape=function(){var t=this;return this.getOrPutFromCache("isLandscape",(function(){if(!t.isMobile())return!1;try{if(t.isUndefined(n.a.orientation)){var e=n.a.matchMedia("(orientation: landscape)");return!(!e||!0!==e.matches)}return 90===n.a.orientation||-90===n.a.orientation}catch(t){return!1}}))},e.prototype.safeLocalStorage=function(){try{return localStorage||n.a}catch(t){return n.a}},e.prototype.shouldDebug=function(t){try{return!!this.safeLocalStorage()[t]||(n.a.debugApp||"").indexOf(t)>=0||(this.parseGetParam("debugApp")||"").indexOf(t)>=0}catch(t){return!1}},e.prototype.deviceHasMemoryIssues=function(){return this.isiOS()},e.prototype.getTabIndex=function(t){var e=["currentGalleryItem","loadMoreButton","slideshowNext","slideshowPrev","currentThumbnail","slideshowLove","slideshowShare","cartIcon","cartClose","cartFrame","fullscreenClose","fullscreenNext","fullscreenPrev","fullscreenInfo","fullscreenLink","fullscreenProvider","fullscreenCartButton","fullscreenCheckout","fullscreenExpand","fullscreenVideoPlay","fullscreenVideoBar","fullscreenVideoMute","fullscreenVideoVolume","fullscreenCartIcon","fullscreenDownload","fullscreenLove","fullscreenShare"].indexOf(t)+1;return e>=0&&this.isOOI()?0:e||-1},e.prototype.setStateAndLog=function(t,e,i,o){var n=this;if(this.isVerbose()){console.log("State Change Called ("+e+")",i);var a=Object(r.a)({},t.state);t.setState(i,(function(){var i=Object(r.a)({},t.state),s=n.printableObjectsDiff(a,i,"state");Object.keys(s).length>0&&console.log("State Change Completed ("+e+")",s),n.isFunction(o)&&o.bind(t)()}))}else t.setState(i,(function(){n.isFunction(o)&&o.bind(t)()}))},e.prototype.printableObjectsDiff=function(t,e,i){var r=this;void 0===i&&(i="");var o=function(t){return""===t?t="''":r.isUndefined(t)&&(t="undefined"),String(t)},n=function(t,e,i,a){return void 0===t&&(t={}),void 0===e&&(e={}),void 0===a&&(a=1),a>3?{}:Object.entries(t).reduce((function(t,s){var l=s[0],c=s[1];return r.isEqual(c,e[l])||(Array.isArray(e[l])?(c.length!==e[l].length&&(t[l+".length"]="["+c.length+"] => ["+e[l].length+"]"),t=Object.assign(t,n(c,e[l],(i?i+".":"")+l,a+1))):"object"==typeof e[l]?t=Object.assign(t,n(c,e[l],(i?i+".":"")+l,a+1)):t[(i?i+".":"")+l]=o(c)+" => "+o(e[l])),t}),{})};return n(t,e,i,1)},e.prototype.getScreenWidth=function(){if(Object(a.c)()&&this.isMobile())return 320;if(this.isTest())return 1920;try{return this.isLandscape()?Math.max(n.a.screen.width,n.a.screen.height):n.a.screen.width}catch(t){return 1920}},e.prototype.getScreenHeight=function(){if(this.isTest())return 1200;try{return this.isLandscape()?Math.min(n.a.screen.width,n.a.screen.height):n.a.screen.height}catch(t){return 1200}},e.prototype.getWindowWidth=function(){try{return n.a.innerWidth||980}catch(t){return 980}},e.prototype.getMobileEnabledClick=function(t){return this.isMobile()?{onTouchEnd:t}:{onClick:t}},e.prototype.getTopUrlParam=function(t){if(this.isUndefined(this._cache.params)&&(this._cache.params={}),this.isUndefined(this._cache.params[t]))try{this._cache.params[t]=top.location.search.replace("?","").split("&").map((function(e){var i=e.split("=");return i[0]===t&&i[1]||""})).join("")}catch(e){this._cache.params[t]=!1}return this._cache.params[t]},e.prototype.scrollTo=function(t,e,i,r,o){this.isMobile()&&(i=0);var n=r?t.scrollLeft:t.scrollTop,a=e-n,s=0,l=function(){var e=function(t,e,i,r){return 0===r?i+e:(t/=r/2)<1?i/2*t*t+e:-i/2*(--t*(t-2)-1)+e}(s+=20,n,a,i);s<i?setTimeout(l,20):(t.setAttribute("data-scrolling",""),"function"==typeof o&&o()),r?t.scrollLeft=e:t.scrollTop=e};t.setAttribute("data-scrolling","true"),l()},e.prototype.formatColor=function(t){if(!t)return"inherit";var e=t.value?t.value:t,i=/(?:#|0x)(?:[A-Fa-f0-9]{3}|[A-Fa-f0-9]{6})\b|(?:rgb|hsl)a?\([^)]*\)/.exec(e);return i&&i[0]?e:"inherit"},e.prototype.logPlaygroundLink=function(t){try{if(this.isVerbose()){var e=Object.entries(t).filter((function(t){var e=t[0];return"object"!=typeof t[1]&&-1===String(e).indexOf("Expand")&&-1===String(e).indexOf("Color")})).map((function(t){var e=t[0],i=t[1];return e+"="+encodeURI(i)})).join("&");console.log("Gallery Playground link:","https://pro-gallery.surge.sh?"+e)}}catch(t){console.error(t)}},e.prototype.isSingleItemHorizontalDisplay=function(t){return t.scrollDirection===s.a.scrollDirection.HORIZONTAL&&1===t.groupSize&&t.cubeImages&&"100%/100%"===t.layoutParams.cropRatio},e.prototype.getAriaAttributes=function(t){var e,i=t.proGalleryRole,r=t.proGalleryRegionLabel;return(e={role:i||"region"})["aria-label"]=r||"Press the Enter key and then use the arrow keys to navigate the gallery items",e["aria-roledescription"]="application"===i?"gallery application":"region",e},e.prototype.focusGalleryElement=function(t){t.focus()},e.prototype.isMeaningfulString=function(t){return"string"==typeof t&&!!t.trim().length},e}();e.a=new l}).call(this,i(61))},function(t,e,i){"use strict";var r=i(0),o=function(){return{}},n={y:0,x:0,width:2560,height:1440,innerWidth:2560,innerHeight:1440,outerWidth:2560,outerHeight:1440,clientWidth:2560,clientHeight:1440},a=Object(r.a)(Object(r.a)({},n),{getBoundingClientRect:function(){return n}}),s=Object(r.a)({addEventListener:o,removeEventListener:o,createEvent:o,getElementById:function(){return a},getElementsByClassName:function(){return[a]},getElementsByTagName:function(){return[a]},querySelector:function(){return[a]},documentElement:a,activeElement:a,style:n},n);s.body=s;var l=Object(r.a)({isMock:!0,isSSR:!0,orientation:0,devicePixelRatio:1,scrollTop:0,addEventListener:o,removeEventListener:o,createEvent:o,CustomEvent:o,screen:n,open:o,petri:{},search:{},location:{href:"http://mock.wix.com/",protocol:"http:",host:"mock.wix.com",hostname:"mock.wix.com",port:"",pathname:"/",search:"",hash:""},postMessage:o,requestAnimationFrame:o,dispatchEvent:o,document:s,getComputedStyle:o,localStorage:{},frames:[]},n);l.parent=l;var c=l,u=(new(function(){function t(){this.reset()}return t.prototype.windowIsAvailable=function(){try{return"undefined"!=typeof window}catch(t){return!1}},t.prototype.reset=function(){this.isMock=!this.windowIsAvailable(),this.window=this.isMock?c:window,this.isMock&&(this.window.mockInstanceId=Math.floor(1e5*Math.random()))},t}())).window;e.a=u},function(t,e,i){"use strict";i.d(e,"a",(function(){return s})),i.d(e,"b",(function(){return l}));var r=i(0),o=i(1),n=i(26),a=i(3),s=function(){function t(){}var e;return t.getBaseUrl=function(e,i){var r=t.parseViewMode(i);return r===o.a.viewMode.PREVIEW||r===o.a.viewMode.EDIT?"https://progallery.wixapps.net":e.location.baseUrl.split("/").slice(0,3).join("/")},t.getUrlOverrideExperimentsParam=function(t){var e;return null===(e=t.location.query)||void 0===e?void 0:e.petri_ovr},t.onlyNumericValues=function(t){var e;for(e in t)"number"!=typeof t[e]&&delete t[e];return t},t.getExperiments=function(e,i){var r=t.parseViewMode(e.window.viewMode),o=t.getBaseUrl(e,r),n=t.getUrlOverrideExperimentsParam(e);return fetch(o+"/_api/pro-gallery-webapp/v1/viewer/experiments"+(n?"?petri_ovr="+n:""),{credentials:"include",headers:{Authorization:i}}).then((function(t){return t.json()})).then((function(t){return t.experiments})).catch((function(){return{}}))},t.parseViewMode=function(t){switch(t.toLowerCase()){case"editor":case"edit":return o.a.viewMode.EDIT;case"preview":return o.a.viewMode.PREVIEW;case"site":default:return o.a.viewMode.SITE}},t.formFactorToDeviceType=function(t){switch(t.toLowerCase()){case"tablet":return o.a.deviceType.TABLET;case"mobile":case"smartphone":return o.a.deviceType.MOBILE;case"desktop":default:return o.a.deviceType.DESKTOP}},t.verifyExperiments=function(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){return n.a.experimentsAreReady?[2]:(t&&this.getExperimentsAndInitWrapper()(t),[2,new Promise((function(t){n.a.onExperimentsReady((function(e){return t(e)}))}))])}))}))},t.prototype.isVerbose=function(){return!this.isTest()&&"true"===(this.safeLocalStorage()||{}).forceDevMode},t.prototype.isTest=function(){try{return a.a.isTest}catch(t){return!1}},t.prototype.safeLocalStorage=function(){try{return localStorage||a.a}catch(t){return a.a}},t.prototype.isDev=function(){return this.isLocal()||"true"===(this.safeLocalStorage()||{}).forceDevMode},t.prototype.isLocal=function(){var t=a.a.location.hostname||"";return"local.wix.com"===t||"0.0.0.0"===t||t.indexOf("localhost")>=0||null!==/([0-9]{1,3}\.){3}[0-9]{1,3}:[0-9]{1,5}/.exec(t)},t.prototype.isMobile=function(t){return t===o.a.deviceType.MOBILE},t.prototype.isDimensionless=function(t){try{if(!t.metaData.height||!t.metaData.width)return!0;if(t.metaData.height<=1||t.metaData.width<=1)return!0}catch(e){console.error("corrupt item, cant check for dimensions",t,e)}return!1},t.getExperimentsAndInitWrapper=(e=!1,function(){return e?function(){}:(e=!0,function(e,i,r){t.getExperiments(e,r).then((function(t){n.a.setExperiments(t)})).catch((function(t){i&&i(t),console.error("Waiting for experimentsPromise failed",t)}))})}),t}(),l=new s},function(t,e,i){"use strict";e.a={VERTICAL:0,HORIZONTAL:1}},function(t,e,i){"use strict";i.d(e,"c",(function(){return r})),i.d(e,"b",(function(){return o})),i.d(e,"a",(function(){return n}));var r={SENTRY_DSN:"https://dcd7075e345b43d991c2ca339000e980@sentry.wixpress.com/112",PG_APP_DEFINITION_ID:"14271d6f-ba62-d045-549b-ab972ae1f70e",GALLERY_WIDGET_ID:"142bb34d-3439-576a-7118-683e690a1e0d",MULTISHARE_WIDGET_ID:"1491fc25-fcd2-9c08-c74f-67b98b69ac4a",FULLSCREEN_PAGE_ID:"144f04b9-aab4-fde7-179b-780c11da4f46",PG_TEST_APP_DEFINITION_ID:"f27276e7-0858-460c-a450-4ba27cfe6eea",PG_TEST_GALLERY_WIDGET_ID:"c89921a0-ef16-45a8-931d-e7d3e5a02cdf"},o={ARTSTORE_APP_DEFINITION_ID:"147ab90e-91c5-21b2-d6ca-444c28c8a23b",GALLERY_WIDGET_ID:"147ab9e6-2166-63ea-f9f1-3e81db0cbb4a",CART_WIDGET_ID:"1482a5fd-aaf4-0660-4c80-178d7d8a28f3",THANK_YOU_WIDGET_ID:"14ab724d-1a44-73f3-daaf-e6590508eb14",SENTRY_DSN:"https://1c9d600630e64cd6b5a4b0cda27df53d@sentry.wixpress.com/113",PROVIDERS:{LOCAL:"14a0ee97-918b-2f0c-43f1-42e67948716b",WIX:"147bec5f-d87e-d37b-b5cf-36f47c1815b4",ORDERAPRINT:"14a9911b-a59e-b7f3-f878-3661e0d83f2f"}},n={ALBUMS_APP_DEF_ID:"13ff8629-c1fc-e289-e81f-bc8c8968e9d6"}},function(t,e,i){t.exports=i(60)},function(t,e,i){"use strict";e.a={FILL:"fill",FIT:"fit",FULL:"full",VIDEO:"video"}},function(t,e,i){var r=i(64),o="object"==typeof self&&self&&self.Object===Object&&self,n=r||o||Function("return this")();t.exports=n},function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return o}));var r={RESIZED:"resized",MULTI:"multi",SCALED:"scaled",PIXEL:"pixel",THUMBNAIL:"thumbnail",SQUARE:"square",FULL:"full",SAMPLE:"sample",PRELOAD:"preload",DOWNLOAD:"download",DOWNLOAD_SAMPLE:"download_sample",MAGNIFIED:"magnified"},o={HIGH_RES:"img",LOW_RES:"thumb",VIDEO:"video"}},,function(t,e,i){"use strict";i.d(e,"a",(function(){return p}));var r={},o="undefined"!=typeof document?document:{addEventListener:function(){},removeEventListener:function(){}},n={closeWindow:function(){},addEventListener:function(t,e){o.addEventListener(t,e)},removeEventListener:function(t,e){o.removeEventListener(t,e)},stylesMock:{fonts:{testKey:{cssFontFamily:"1111"}},numbers:{},colors:{},booleans:{}},colorMock:{colors:{testColorKey:"color-1"}},getBoundingRectAndOffsets:function(t){t({offsets:{x:0,y:0}})},getCurrentPageId:function(t){t("")},Utils:{navigateToSection:function(){},getOrigCompId:function(){},getCompId:function(){return null},getViewMode:function(){},getDemoMode:function(){},getInstance:function(){return null},getInstanceValue:function(){return null},getInstanceId:function(){return null},getBusinessId:function(){return""},isOverEditor:function(){return!1},getSectionUrl:function(t,e){setTimeout((function(){e("https://mock_section_url")}),0)},getSiteOwnerId:function(){return""},getUid:function(){return""},Media:{getResizedImageUrl:function(t,e,i){return"/images/test-"+t+"-"+e+"-"+i+".jpg"}}},setHeight:function(){},UI:{create:function(){return{}},initialize:function(){},onChange:function(t,e){o.addEventListener(t,(function(){e(r[t])}))},get:function(t){return r[t]},set:function(t,e){r[t]=e},modelCache:r},Styles:{getColorByreference:function(){return{value:"#123456"}},getSiteColors:function(){for(var t=[],e=0;e<31;e++)t[e]=e;return t},getStyleParams:function(t){return t?t(n.stylesMock):n.stylesMock},getStyleParamsByStyleId:function(t,e,i){return i?i(n.stylesMock):n.stylesMock},restoreParam:function(){n.stylesMock={fonts:{testKey:{cssFontFamily:"1111"}},numbers:{},colors:{},booleans:{}}},setFontParam:function(t,e,i){n.stylesMock.fonts[t]={cssFontFamily:e.value.cssFontFamily},i&&i()},setColorParam:function(t,e,i){n.colorMock.colors[t]=e,i&&i()},getSiteTextPresets:function(){return{Title:{editorKey:"font_0",fontFamily:"fontFamilyTitle",lineHeight:"1.4em",size:"40px",style:"normal",value:"value",weight:"normal"}}},getEditorFonts:function(){return[{language:"hebrew",fonts:[{cssFontFamily:"fontFamilyTitle0",fontFamily:"fontFamilyTitle0",genericFamily:"cursive0",permissions:"all0",provider:"google0",spriteIndex:132}]},{language:"latin",fonts:[{cssFontFamily:"fontFamilyTitle",fontFamily:"fontFamilyTitle",genericFamily:"cursive",permissions:"all",provider:"google",spriteIndex:154}]},{language:"arabic",fonts:[{cssFontFamily:"fontFamilyTitleArabic",fontFamily:"fontFamilyTitleArabic",genericFamily:"cursiveArabic",permissions:"allArabic",provider:"googleArabic",spriteIndex:160}]}]},getStyleId:function(t){t("mock-style-id")}},Settings:{openModal:function(t,e,i,r,o){o()},triggerSettingsUpdatedEvent:function(){},getSiteInfo:function(t){return t({baseUrl:"www.test.boost.co.il"})},getDashboardAppUrl:function(t){t.call()},refreshApp:function(){return""},setExternalId:function(){},addComponent:function(){},MediaType:{IMAGE:"photos",BACKGROUND:"backgrounds",AUDIO:"audio",DOCUMENT:"documents",SWF:"swf",SECURE_MUSIC:"secure_music",VIDEO:"video",SHAPE:"shape",MUSIC:"music",CLIPART:"clipart",BG_VIDEO:"bg_video",ICON_DOCUMENT:"icon_document",ICON_SOCIAL:"bg_social",ICON_FAVICON:"bg_favicon",MUSIC_PRO:"secure_music",IMAGE_PRO:"secure_picture",FLASH:"swf",BG_IMAGE:"backgrounds"}},Events:{PUBLIC_DATA_CHANGED:"PUBLIC_DATA_CHANGED",SETTINGS_UPDATED:"SETTINGS_UPDATED",EDIT_MODE_CHANGE:"EDIT_MODE_CHANGE",STYLE_PARAMS_CHANGE:"STYLE_PARAMS_CHANGE",THEME_CHANGE:"THEME_CHANGE",PAGE_NAVIGATION_IN:"PAGE_NAVIGATION_IN",PAGE_NAVIGATION_OUT:"PAGE_NAVIGATION_OUT"},Theme:{BARE:"bare"},scrollTo:function(){},scrollBy:function(){},getSiteInfo:function(){},Data:{Public:{get:function(t,e,i){i({pg:1})}}},Features:{isSupported:function(){},Types:{ADD_COMPONENT:"ADD_COMPONENT"}},PubSub:{subscribe:function(){},publish:function(){}},getSitePages:function(t){"function"==typeof t&&t([])},replaceSectionState:function(){},Performance:{applicationLoaded:function(){},applicationLoadingStep:function(){}},Activities:{postActivity:function(){},Type:{SOCIAL_TRACK:"SOCIAL_TRACK"}}},a=n,s=new(function(){function t(){this.init()}return t.prototype.wixSdkIsAvailable=function(){try{return"undefined"!=typeof window&&void 0!==window.Wix&&"function"==typeof window.Wix.Utils.getCompId}catch(t){return!1}},t.prototype.init=function(){try{this.wixSdkIsAvailable()?(Object.assign(this,a,window.Wix),this.isMock=!1):(Object.assign(this,a),this.isMock=!0)}catch(t){Object.assign(this,a),this.isMock=!0}},t}()),l=i(6),c=i(57),u=i(3),h=function(){function t(){this._cache={},this._hash2int={},this._params={},this._useCache=this.shouldUseCache(),this.setIsWixMobile=this.setIsWixMobile.bind(this)}return t.prototype.shouldUseCache=function(){var t=!0;try{t=u.a&&u.a.Wix&&u.a.Wix.Utils&&u.a.Wix.Utils.getViewMode()}catch(t){}return!!this.isUndefined(t)||"editor"!==t&&"preview"!==t},t.prototype.isUndefined=function(t){return void 0===t},t.prototype.getOrPutFromCache=function(t,e){return!this._useCache||this.isSSR()?e():(void 0!==this._cache[t]||(this._cache[t]=e()),this._cache[t])},t.prototype.isDemo=function(){return"1"===this.parseGetParam("demo")},t.prototype.isInWix=function(){return this.isTest()||this.getOrPutFromCache("isInWix",(function(){try{return top!==self&&("progallery.wix.com"===document.location.host||"progallery.wixapps.net"===document.location.host)&&document.location.search.indexOf("instance=")>=0}catch(t){return!1}}))},t.prototype.isSemiNative=function(){try{return u.a.semiNative}catch(t){return!1}},t.prototype.hashToInt=function(t,e,i){var r=0;if(this.isUndefined(t)||0===t.length)return r;if(!this._hash2int[t]){for(var o=0;o<t.length;o++)r+=t.charCodeAt(o);this._hash2int[t]=r}return this.isUndefined(e)||this.isUndefined(i)?this._hash2int[t]:this._hash2int[t]%(i-e+1)+e},t.prototype.parseGetParam=function(t,e){try{if(!this.isUndefined(this._params[t]))return this._params[t];var i="",r=[],o=location;if(e&&(o={search:"?"+(e.split("?")[1]||""),pathname:(e.split("?")[0]||"").split("/")[1]||""}),o.search.substr(1).split("&").forEach((function(e){(r=e.split("="))[0]===t&&(i=decodeURIComponent(r[1]))})),!i){var n=decodeURIComponent(o.pathname).split("?")[1];if(!n)return"";n.split("&").forEach((function(e){(r=e.split("="))[0]===t&&(i=decodeURIComponent(r[1]))}))}return this._params[t]=i,i}catch(t){return!1}},t.prototype.parsePathParam=function(t){for(var e=location.pathname.split("/"),i=0;i<e.length;i++){var r=e[i];if(r.indexOf(t)>=0)return r}return""},t.prototype.parseHashParam=function(t){var e="",i=[],r=location.href.split("#")[1]||"";return r?(r.substr(1).split("&").forEach((function(r){(i=r.split("="))[0]===t&&(e=decodeURIComponent(i[1]))})),e):""},t.prototype.stripSlashes=function(t){var e="";return"string"==typeof t&&(e=t.replace(/\\\//g,"/").replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\0/g,"\0").replace(/\\\\/g,"\\")),e},t.prototype.parseStringObject=function(t){if("string"!=typeof t)return t;var e=this.stripSlashes(t);if("string"==typeof t&&/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return JSON.parse(e)}catch(t){}return e},t.prototype.isWixMobile=function(){var t=this,e=function(){var e=t.parseGetParam("deviceType")||u.a.deviceType;return!!("true"===t.parseGetParam("showMobileView"))||(e?String(e).toLowerCase().indexOf("mobile")>=0:void 0)};return this.isSite()?this.getOrPutFromCache("isWixMobile",e):e()},t.prototype.isUserAgentMobile=function(){try{var t=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||u.a.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|pixel|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e};return this.isSite()?this.getOrPutFromCache("isUserAgentMobile",t):t()}catch(t){return!1}},t.prototype.setIsWixMobile=function(t){u.a.deviceType=t?"mobile":"desktop",this._cache.isWixMobile=t,this._cache.isMobile=t},t.prototype.isMobile=function(){var t=this,e=function(){var e=t.isWixMobile(),i=t.isUserAgentMobile();return t.isUndefined(e)?i:e};return!this.isTest()&&(this.isSite()?this.getOrPutFromCache("isMobile",e):e())},t.prototype.isTest=function(){try{return u.a.isTest}catch(t){return!1}},t.prototype.isDev=function(){var t=this;return this.getOrPutFromCache("isDev",(function(){return t.isLocal()||t.isOOI()&&!1||t.shouldDebug("ph_local")||!!t.parseGetParam("debug")||"true"===(t.safeLocalStorage()||{}).forceDevMode}))},t.prototype.isVerbose=function(){return!this.isTest()&&("true"===(this.safeLocalStorage()||{}).forceDevMode||this.shouldDebug("ph_verbose"))},t.prototype.isLocal=function(){return this.getOrPutFromCache("isLocal",(function(){var t=u.a.location.hostname||"";return"local.wix.com"===t||"0.0.0.0"===t||t.indexOf("localhost")>=0||null!==/([0-9]{1,3}\.){3}[0-9]{1,3}:[0-9]{1,5}/.exec(t)}))},t.prototype.isStoreGallery=function(){var t=this;return this.getOrPutFromCache("isStoreGallery",(function(){if(t.isSemiNative())return!1;try{return u.a.location.search.toLowerCase().indexOf("isstore")>-1}catch(e){return t.isDev()&&console.error("cant find window",e),!1}}))},t.prototype.isDemoMode=function(){return s&&s.Utils&&s.Utils.getInstanceValue&&s.Utils.getInstanceValue("demoMode")},t.prototype.isSSR=function(){return!!u.a.isMock},t.prototype.isOOI=function(){return this.isSSR()||"undefined"!=typeof top&&"undefined"!=typeof self&&(top===self||self.location.origin.includes("editor.wix.com")||self.location.origin.includes("editorx.com"))},t.prototype.isPremium=function(){var t=this;return this.getOrPutFromCache("isPremium",(function(){var e=t.shouldDebug("ph_force_premium"),i=t.shouldDebug("ph_force_freemium");return!!e||!i}))},t.prototype.updateViewMode=function(t){if("string"==typeof t&&this.isOOI())return this._cache.viewMode=t.toLowerCase(),this._cache.viewMode;try{if(u.a&&u.a.Wix&&u.a.Wix.Utils&&u.a.Wix.Utils.getViewMode)return this._cache.viewMode=u.a.Wix.Utils.getViewMode(),this._cache.viewMode}catch(t){return!1}},t.prototype.getViewModeFromCache=function(){var t=this;return this.getOrPutFromCache("viewMode",(function(){try{if(t.isOOI()){t.isVerbose()&&console.warn("OOI - viewMode not found, returning site if not in wix.com(old test)");try{return u.a.location.host.includes("wixapps.net")?"undefined":"site"}catch(t){return"undefined"}}return t.isSSR()?"site":u.a&&u.a.Wix&&u.a.Wix.Utils&&u.a.Wix.Utils.getViewMode?u.a.Wix.Utils.getViewMode():"undefined"}catch(t){return!1}}))},t.prototype.isEditor=function(){return(this.isOOI()||!!this.isInWix())&&"editor"===this.getViewModeFromCache()},t.prototype.isPreview=function(){return(this.isOOI()||!!this.isInWix())&&"preview"===this.getViewModeFromCache()},t.prototype.isSite=function(){return this.isOOI()?"site"===this.getViewModeFromCache():!this.isEditor()&&!this.isPreview()},t.prototype.getUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},t.prototype.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=Math.floor(16*Math.random())||0;return"x"===t?e.toString(16):t}))},t.prototype.isInSettings=function(){return"1"===this.parseGetParam("expandsettingsmode")},t.prototype.isExternalUrl=function(t){return/(^https?)|(^data)|(^blob)/.test(t)},t.prototype.isMobileViewer=function(){var t=this;return this.getOrPutFromCache("isMobileViewer",(function(){var e=t.isWixMobile(),i=t.isUserAgentMobile();return e&&!i}))},t.prototype.isiOS=function(){return this.getOrPutFromCache("isiOS",(function(){try{return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!u.a.MSStream}catch(t){return!1}}))},t.prototype.isiPhone=function(){return this.getOrPutFromCache("isiPhone",(function(){try{return/iPhone/.test(navigator.userAgent)&&!u.a.MSStream}catch(t){return!1}}))},t.prototype.isTouch=function(){var t=this;return this.getOrPutFromCache("isTouch",(function(){try{return t.isMobile()||"ontouchstart"in u.a.document.documentElement}catch(t){return!1}}))},t.prototype.browserIs=function(t){return this.getOrPutFromCache("browsers",(function(){var t={chrome:!1,chromeIos:!1,explorer:!1,firefox:!1,safari:!1,opera:!1};try{return t.chrome=navigator.userAgent.indexOf("Chrome")>-1,t.chromeIos=navigator.userAgent.indexOf("CriOS")>-1,t.explorer=navigator.userAgent.indexOf("MSIE")>-1||!!navigator.userAgent.match(/Trident.*rv\:11\./),t.firefox=navigator.userAgent.indexOf("Firefox")>-1,t.safari=navigator.userAgent.indexOf("Safari")>-1,t.opera=navigator.userAgent.toLowerCase().indexOf("op")>-1,t.chrome&&t.safari&&(t.safari=!1),t.chrome&&t.opera&&(t.chrome=!1),t}catch(e){return t}}))[t]},t.prototype.isPlayground=function(){if(this.isInWix())return!1;try{var t=!1;try{t=top.location.href.indexOf("playground.html")>0}catch(e){t=!1}return t}catch(t){return!1}},t.prototype.isInAlbumsBuilder=function(){if(!this.isInWix())return!1;try{return u.a&&u.a.debugApp&&u.a.debugApp.indexOf("ph_source_albums")>-1}catch(t){return!1}},t.prototype.isWixDomain=function(){try{return u.a.location.href.indexOf("wixapps.net")>=0}catch(t){return!1}},t.prototype.isLandscape=function(){var t=this;return!this.isSemiNative()&&this.getOrPutFromCache("isLandscape",(function(){if(!t.isMobile())return!1;try{if(t.isUndefined(u.a.orientation)){var e=u.a.matchMedia("(orientation: landscape)");return!(!e||!0!==e.matches)}return 90===u.a.orientation||-90===u.a.orientation}catch(t){return!1}}))},t.prototype.isOnBoarding=function(){try{var t=Object(c.parse)(u.a.location.search);return t.viewMode&&"onboarding"===t.viewMode.toLowerCase()}catch(t){return!1}},t.prototype.isAccessibilityEnabled=function(){var t=this;return this.getOrPutFromCache("isAccessibilityEnabled",(function(){if(!t.isSite())return!1;if(t.isOOI())return!1;var e=t.shouldDebug("accessibility");if(s&&"function"==typeof s.isVisualFocusEnabled)try{s.isVisualFocusEnabled((function(t){return t||e}))}catch(t){}return e}))},t.prototype.isDebugBuild=function(){try{return!1}catch(t){return!1}},t.prototype.getDeviceType=function(){return this.isWixMobile()?"mobile":"desktop"},t.prototype.safeLocalStorage=function(){try{return localStorage||u.a}catch(t){return u.a}},t.prototype.shouldDebug=function(t){try{return!!this.safeLocalStorage()[t]||(u.a.debugApp||"").indexOf(t)>=0||(this.parseGetParam("debugApp")||"").indexOf(t)>=0}catch(t){return!1}},t.prototype.shouldLog=function(t){return this.shouldDebug("ph_log_"+t)},t.prototype.getDateCreatedTicksFromStr=function(t){return!1===isNaN(Date.parse(t))?Date.parse(t):Date.parse("2017-07-09T14:08:21.000Z")},t.prototype.deviceHasMemoryIssues=function(){return this.isiOS()},t.prototype.getUrlPrefix=function(t){try{return u.a.location.protocol+"//"+(!t&&this.isLocal()?"local.wix.com:3001":"progallery.wixapps.net")+"/"}catch(t){return console.error("getUrlPrefix",{e:t}),"http://progallery.wixapps.net/"}},t.prototype.getFullscreenSectionId=function(){return this.isStoreGallery()?"fullscreen_store_page":"fullscreen_page"},t.prototype.getApiUrlPrefix=function(){return this.getUrlPrefix(!0)+"api/v1/"},t.prototype.generateUrl=function(t,e){e=e||{};var i=this.isStoreGallery(),r=this.getUrlPrefix()+t;i&&(e.isStore=!0);var o=Object(c.stringify)(e);return o?r+"?"+o:r},t.prototype.getTextEditorUrl=function(){return this.generateUrl("text-editor.html")},t.prototype.getManageMediaUrl=function(){return this.generateUrl("photos.html")},t.prototype.getExpandSettingsUrl=function(t){return this.generateUrl("settings-expand.html",t)},t.prototype.getSettingsWatermarkDisableUrl=function(){return this.generateUrl("settings-watermark-disable.html")},t.prototype.getSettingsAddonsUrl=function(t){return void 0===t&&(t={}),this.generateUrl("settings-addons.html",t)},t.prototype.getProviderModalUrl=function(t){return void 0===t&&(t={}),this.generateUrl("provider-modal.html",t)},t.prototype.getTabIndex=function(t){var e=["currentGalleryItem","loadMoreButton","slideshowNext","slideshowPrev","currentThumbnail","slideshowLove","slideshowShare","cartIcon","cartClose","cartFrame","fullscreenClose","fullscreenNext","fullscreenPrev","fullscreenInfo","fullscreenLink","fullscreenProvider","fullscreenCartButton","fullscreenCheckout","fullscreenExpand","fullscreenVideoPlay","fullscreenVideoBar","fullscreenVideoMute","fullscreenVideoVolume","fullscreenCartIcon","fullscreenDownload","fullscreenLove","fullscreenShare"].indexOf(t)+1;return e>=0&&this.isOOI()?0:e||-1},t.prototype.safeSessionStorage=function(){try{return sessionStorage}catch(t){return u.a||{}}},t.prototype.getLocalStorage=function(){return this.isDev()?this.safeSessionStorage():this.safeLocalStorage()||this.safeSessionStorage()},t.prototype.setStateAndLog=function(t,e,i,r){var o=this;if(this.isVerbose()){console.log("State Change Called ("+e+")",i);var n=Object(l.clone)(t.state);t.setState(i,(function(){var i=Object(l.clone)(t.state),a=o.printableObjectsDiff(n,i,"state");Object(l.keys)(a).length>0&&console.log("State Change Completed ("+e+")",a),Object(l.isFunction)(r)&&r.bind(t)()}))}else t.setState(i,(function(){Object(l.isFunction)(r)&&r.bind(t)()}))},t.prototype.printableObjectsDiff=function(t,e,i){var r=this;void 0===i&&(i="");var o=function(t){return""===t?t="''":r.isUndefined(t)&&(t="undefined"),Object(l.toString)(t)},n=function(t,e,i){return Object(l.reduce)(t,(function(t,r,a){return Object(l.isEqual)(r,e[a])||(Object(l.isArray)(e[a])?(r.length!==e[a].length&&(t[a+".length"]="["+r.length+"] => ["+e[a].length+"]"),t=Object(l.merge)(t,n(r,e[a],(i?i+".":"")+a))):Object(l.isObject)(e[a])?t=Object(l.merge)(t,n(r,e[a],(i?i+".":"")+a)):t[(i?i+".":"")+a]=o(r)+" => "+o(e[a])),t}),{})};return n(t,e,i)},t.prototype.setExternalId=function(){var t=this;try{var e=this.getUUID();this._setExternalId(e),this.setExternalIdTimeouts||(this.setExternalIdTimeouts={});for(var i=1e3;i<1e4;i+=1e3)this.setExternalIdTimeouts[i]&&clearTimeout(this.setExternalIdTimeouts[i]),this.setExternalIdTimeouts[i]=setTimeout((function(){return t._setExternalId(e)}),i)}catch(t){return console.error("Utils setExternalId - fail"),!1}},t.prototype._setExternalId=function(t){var e=this;s.Settings.setExternalId(t,(function(i){e.isDev()&&console.log("Utils setExternalId - success",t,i)}),(function(e){console.error("Utils setExternalId - fail",t,e)}))},t.prototype.isWebpSupported=function(){if(this.isTest())return!1;try{var t="object"==typeof document?u.a.document.createElement("canvas"):{};return t.width=t.height=1,!!t.toDataURL&&5===t.toDataURL("image/webp").indexOf("image/webp")}catch(t){return!1}},t.prototype.getGalleryLayoutName=function(t){switch(t){case 0:return"Collage";case 1:return"Masonry";case 2:return"Grid";case 3:return"Thumbnails";case 4:return"Slider";case 5:return"Slideshow";case 6:return"Strip";case 7:return"Columns";case 8:return"Magic";case 10:return"Bricks";case 11:return"Mix";case 12:return"Alternate";default:return""}},t.prototype.shallowObjectsCompare=function(t,e){return Object.keys(t).length===Object.keys(e).length&&Object.keys(t).every((function(i){return e.hasOwnProperty(i)&&t[i]===e[i]}))},t.prototype.isSubset=function(t,e){return Object.keys(e).every((function(i){return e[i]===t[i]}))},t}(),p=new h},function(t,e,i){"use strict";e.a={SITE:"SITE",EDIT:"EDIT",PREVIEW:"PREVIEW",SEO:"SEO"}},function(t,e,i){"use strict";var r=i(0),o=i(2),n=i(4),a=i(44),s=i.n(a),l={groups:{density:"layoutParams_groups_density",groupByOrientation:"layoutParams_groups_groupByOrientation",numberOfGroupsPerRow:"layoutParams_groups_numberOfGroupsPerRow",allowedGroupTypes:"layoutParams_groups_allowedGroupTypes",repeatingGroupTypes:"layoutParams_groups_repeatingGroupTypes",groupSize:"layoutParams_groups_groupSize"},crop:{method:"layoutParams_crop_method",alignment:"layoutParams_crop_alignment",enable:"layoutParams_crop_enable",enableSmartCrop:"layoutParams_crop_enableSmartCrop",cropOnlyFill:"layoutParams_crop_cropOnlyFill",ratios:"layoutParams_crop_ratios"},structure:{galleryLayout:"layoutParams_structure_galleryLayout",enableStreching:"layoutParams_structure_enableStreching",gallerySpacing:"layoutParams_structure_gallerySpacing",itemSpacing:"layoutParams_structure_itemSpacing",scrollDirection:"layoutParams_structure_scrollDirection",numberOfColumns:"layoutParams_structure_numberOfColumns",numberOfGridRows:"layoutParams_structure_numberOfGridRows",responsiveMode:"layoutParams_structure_responsiveMode",columnRatios:"layoutParams_structure_columnRatios",scatter:{randomScatter:"layoutParams_structure_scatter_randomScatter",manualScatter:"layoutParams_structure_scatter_manualScatter"},layoutOrientation:"layoutParams_structure_layoutOrientation",groupsOrder:"layoutParams_structure_groupsOrder"},thumbnails:{enable:"layoutParams_thumbnails_enable",spacing:"layoutParams_thumbnails_spacing",size:"layoutParams_thumbnails_size",alignment:"layoutParams_thumbnails_alignment"},navigationArrows:{enable:"layoutParams_navigationArrows_enable",size:"layoutParams_navigationArrows_size",padding:"layoutParams_navigationArrows_padding",position:"layoutParams_navigationArrows_position",verticalAlignment:"layoutParams_navigationArrows_verticalAlignment"},info:{sizeUnits:"layoutParams_info_sizeUnits",width:"layoutParams_info_width",height:"layoutParams_info_height",spacing:"layoutParams_info_spacing",layout:"layoutParams_info_layout",border:{width:"layoutParams_info_border_width",color:"layoutParams_info_border_color",radius:"layoutParams_info_border_radius"},placement:"layoutParams_info_placement"},targetItemSize:{unit:"layoutParams_targetItemSize_unit",value:"layoutParams_targetItemSize_value",minimum:"layoutParams_targetItemSize_minimum"}},c={item:{clickAction:"behaviourParams_item_clickAction",video:{speed:"behaviourParams_item_video_speed",volume:"behaviourParams_item_video_volume",loop:"behaviourParams_item_video_loop",playTrigger:"behaviourParams_item_video_playTrigger",enablePlayButton:"behaviourParams_item_video_enablePlayButton",enableControls:"behaviourParams_item_video_enableControls",enablePlaceholder:"behaviourParams_item_video_enablePlaceholder"},overlay:{hoveringBehaviour:"behaviourParams_item_overlay_hoveringBehaviour",hoverAnimation:"behaviourParams_item_overlay_hoverAnimation",position:"behaviourParams_item_overlay_position",size:"behaviourParams_item_overlay_size",sizeUnits:"behaviourParams_item_overlay_sizeUnits",padding:"behaviourParams_item_overlay_padding"},content:{hoverAnimation:"behaviourParams_item_content_hoverAnimation",placementAnimation:"behaviourParams_item_content_placementAnimation",loader:"behaviourParams_item_content_loader",magnificationValue:"behaviourParams_item_content_magnificationValue"}},gallery:{layoutDirection:"behaviourParams_gallery_layoutDirection",blockContextMenu:"behaviourParams_gallery_blockContextMenu",scrollAnimation:"behaviourParams_gallery_scrollAnimation",enableIndexingShareLinks:"behaviourParams_gallery_enableIndexingShareLinks",vertical:{loadMore:{enable:"behaviourParams_gallery_vertical_loadMore_enable",amount:"behaviourParams_gallery_vertical_loadMore_amount",text:"behaviourParams_gallery_vertical_loadMore_text"}},horizontal:{enableScrollSnap:"behaviourParams_gallery_horizontal_enableScrollSnap",slideAnimation:"behaviourParams_gallery_horizontal_slideAnimation",slideTransition:"behaviourParams_gallery_horizontal_slideTransition",blockScroll:"behaviourParams_gallery_horizontal_blockScroll",navigationDuration:"behaviourParams_gallery_horizontal_navigationDuration",loop:"behaviourParams_gallery_horizontal_loop",autoSlide:{behaviour:"behaviourParams_gallery_horizontal_autoSlide_behaviour",interval:"behaviourParams_gallery_horizontal_autoSlide_interval",pauseOnHover:"behaviourParams_gallery_horizontal_autoSlide_pauseOnHover",speed:"behaviourParams_gallery_horizontal_autoSlide_speed"},slideshowInfo:{buttonsAlignment:"behaviourParams_gallery_horizontal_slideshowInfo_buttonsAlignment",enableCounter:"behaviourParams_gallery_horizontal_slideshowInfo_enableCounter",enablePlayButton:"behaviourParams_gallery_horizontal_slideshowInfo_enablePlayButton"}}}},u={arrowsColor:"stylingParams_arrowsColor",itemShadowBlur:"stylingParams_itemShadowBlur",itemShadowDirection:"stylingParams_itemShadowDirection",itemShadowOpacityAndColor:"stylingParams_itemShadowOpacityAndColor",itemShadowSize:"stylingParams_itemShadowSize",itemEnableShadow:"stylingParams_itemEnableShadow",itemBorderRadius:"stylingParams_itemBorderRadius",itemBorderWidth:"stylingParams_itemBorderWidth"},h=[["galleryLayout",l.structure.galleryLayout],["galleryMargin",l.structure.gallerySpacing],["imageMargin",l.structure.itemSpacing],["groupsPerStrip",l.groups.numberOfGroupsPerRow],["cubeImages",l.crop.enable],["smartCrop",l.crop.enableSmartCrop],["cropOnlyFill",l.crop.cropOnlyFill],["minItemSize",l.targetItemSize.minimum],["scatter",l.structure.scatter.randomScatter],["rotatingScatter",l.structure.scatter.manualScatter],["numberOfImagesPerCol",l.structure.numberOfGridRows],["collageDensity",l.groups.density],["chooseBestGroup",l.groups.groupByOrientation],["groupSize",l.groups.groupSize],["hasThumbnails",l.thumbnails.enable],["thumbnailSpacings",l.thumbnails.spacing],["thumbnailSize",l.thumbnails.size],["showArrows",l.navigationArrows.enable],["arrowsPadding",l.navigationArrows.padding],["arrowsVerticalPosition",l.navigationArrows.verticalAlignment],["arrowsSize",l.navigationArrows.size],["imageInfoType",l.info.layout],["textImageSpace",l.info.spacing],["textBoxBorderWidth",l.info.border.width],["textBoxBorderColor",l.info.border.color],["textBoxBorderRadius",l.info.border.radius]],p=[["useMaxDimensions",l.structure.enableStreching]],d=[["magnificationLevel",c.item.content.magnificationValue],["videoLoop",c.item.video.loop],["showVideoControls",c.item.video.enableControls],["enableVideoPlaceholder",c.item.video.enablePlaceholder],["overlayAnimation",c.item.overlay.hoverAnimation],["overlayPosition",c.item.overlay.position],["overlaySize",c.item.overlay.size],["overlaySizeType",c.item.overlay.sizeUnits],["overlayPadding",c.item.overlay.padding],["imageHoverAnimation",c.item.content.hoverAnimation],["imagePlacementAnimation",c.item.content.placementAnimation],["imageLoadingMode",c.item.content.loader],["scrollSnap",c.gallery.horizontal.enableScrollSnap],["scrollAnimation",c.gallery.scrollAnimation],["shouldIndexDirectShareLinkInSEO",c.gallery.enableIndexingShareLinks],["loadMoreButtonText",c.gallery.vertical.loadMore.text],["slideAnimation",c.gallery.horizontal.slideAnimation],["slideTransition",c.gallery.horizontal.slideTransition],["scrollDuration",c.gallery.horizontal.navigationDuration],["slideshowLoop",c.gallery.horizontal.loop],["autoSlideshowInterval",c.gallery.horizontal.autoSlide.interval],["pauseAutoSlideshowOnHover",c.gallery.horizontal.autoSlide.pauseOnHover],["autoSlideshowContinuousSpeed",c.gallery.horizontal.autoSlide.speed],["allowSlideshowCounter",c.gallery.horizontal.slideshowInfo.enableCounter],["playButtonForAutoSlideShow",c.gallery.horizontal.slideshowInfo.enablePlayButton]],g=[["enableInfiniteScroll",c.gallery.vertical.loadMore.enable],["allowContextMenu",c.gallery.blockContextMenu],["hidePlay",c.item.video.enablePlayButton],["enableScroll",c.gallery.horizontal.blockScroll]],m=[["itemShadowBlur",u.itemShadowBlur],["itemShadowDirection",u.itemShadowDirection],["itemShadowOpacityAndColor",u.itemShadowOpacityAndColor],["arrowsColor",u.arrowsColor],["itemShadowSize",u.itemShadowSize],["itemEnableShadow",u.itemEnableShadow],["itemBorderRadius",u.itemBorderRadius],["itemBorderWidth",u.itemBorderWidth]];function f(t,e){for(var i=Object(r.a)({},t),o=0,n=e;o<n.length;o++){var a=n[o];i=b(i,a[0],a[1])}return i}function y(t,e){for(var i=Object(r.a)({},t),o=0,n=e;o<n.length;o++){var a=n[o];i=S(i,a[0],a[1])}return i}function b(t,e,i){var r=t[e];return delete t[e],void 0===Object(o.d)(t,i)&&Object(o.a)(t,i,r)||t}function S(t,e,i){var r=!t[e];return delete t[e],Object(o.a)(t,i,r)}function v(t){var e,i,a,u,S,v=(u=t,S=f(S=Object(o.c)(s()(u)),Object(r.e)(h).map((function(t){return Object(r.e)(t).reverse()}))),S=f(S=function(t){var e=Object(r.a)({},t);switch((e=b(e,l.navigationArrows.position,"arrowsPosition")).arrowsPosition){case"ON_GALLERY":e.arrowsPosition=0;break;case"OUTSIDE_GALLERY":e.arrowsPosition=1}return e}(S=function(t){var e,i,o=Object(r.a)({},t);return Object(n.b)("SLIDESHOW")({galleryLayout:t.galleryLayout>=-3?t.galleryLayout:null===(i=null===(e=t.layoutParams)||void 0===e?void 0:e.structure)||void 0===i?void 0:i.galleryLayout})?(o=b(o,l.info.height,"slideshowInfoSize")).textBoxHeight=o.slideshowInfoSize:(o=b(o,l.info.height,"textBoxHeight")).slideshowInfoSize=o.textBoxHeight,o}(S=function(t){var e=Object(r.a)({},t);return e.galleryMargin>=0&&!(e.layoutParams_gallerySpacing>=0)&&(e.layoutParams_gallerySpacing=e.galleryMargin),delete e.galleryMargin,e}(S=function(t){var e=Object(r.a)({},t);return e.groupTypes=e[l.groups.allowedGroupTypes]&&e[l.groups.allowedGroupTypes].join?e[l.groups.allowedGroupTypes].join(","):"",delete e[l.groups.allowedGroupTypes],e}(S=function(t){var e=Object(r.a)({},t),i=e[l.groups.repeatingGroupTypes]&&e[l.groups.repeatingGroupTypes].join(",");return e.layoutParams_repeatingGroupTypes=i,delete e[l.groups.repeatingGroupTypes],e}(S=function(t){var e,i=Object(r.a)({},t);return(i=b(i,l.crop.method,"cubeType")).cubeType=null===(e=i.cubeType)||void 0===e?void 0:e.toLowerCase(),i}(S=function(t){var e=Object(r.a)({},t);return(e=b(e,l.structure.columnRatios,"columnWidths")).columnWidths=e.columnWidths&&e.columnWidths.join?e.columnWidths.join(","):"",e}(S=function(t){var e=Object(r.a)({},t);switch((e=b(e,l.info.sizeUnits,"calculateTextBoxWidthMode")).calculateTextBoxWidthMode){case"PERCENT":e.calculateTextBoxWidthMode="PERCENT",(e=b(e,l.info.width,"textBoxWidthPercent")).textBoxWidth=e.textBoxWidth||200;break;case"PIXEL":e.calculateTextBoxWidthMode="MANUAL",(e=b(e,l.info.width,"textBoxWidth")).textBoxWidthPercent=e.textBoxWidthPercent||50}return e}(S=function(t){var e,i=Object(r.a)({},t),o=i[l.crop.ratios]&&Object(r.e)(i[l.crop.ratios])||[];return e=o.length>1?o.join(","):"",i.layoutParams_cropRatio=o[0],i.rotatingCropRatios=e,delete i[l.crop.ratios],i}(S=function(t){var e=Object(r.a)({},t);switch((e=b(e,l.crop.alignment,"cubeFitPosition")).cubeFitPosition){case"CENTER":e.cubeFitPosition="MIDDLE"}return e}(S=function(t){var e=Object(r.a)({},t),i=e[l.targetItemSize.value],o=e.gallerySizeType;return e.gallerySize=e.gallerySizePx=e.gallerySizeRatio=0,e[{smart:"gallerySize",px:"gallerySizePx",ratio:"gallerySizeRatio"}[o]]=i,delete e[l.targetItemSize.value],e}(S=function(t){var e=Object(r.a)({},t);switch((e=b(e,l.targetItemSize.unit,"gallerySizeType")).gallerySizeType){case"PIXEL":e.gallerySizeType="px";break;case"PERCENT":e.gallerySizeType="ratio";break;case"SMART":e.gallerySizeType="smart"}return e}(S=function(t){var e=Object(r.a)({},t);return e.fixedColumns=0,e.numberOfImagesPerRow=e[l.structure.numberOfColumns],delete e[l.structure.numberOfColumns],e}(S=function(t){var e=Object(r.a)({},t);switch((e=b(e,l.structure.responsiveMode,"gridStyle")).gridStyle){case"FIT_TO_SCREEN":e.gridStyle=0;break;case"SET_ITEMS_PER_ROW":e.gridStyle=1}return e}(S=function(t){var e=Object(r.a)({},t);switch((e=b(e,l.structure.groupsOrder,"placeGroupsLtr")).placeGroupsLtr){case"LEFT_TO_RIGHT":e.placeGroupsLtr=!0;break;default:e.placeGroupsLtr=!1}return e}(S=function(t){var e=Object(r.a)({},t);switch((e=b(e,l.structure.layoutOrientation,"isVertical")).isVertical){case"VERTICAL":e.isVertical=!0;break;case"HORIZONTAL":e.isVertical=!1}return e}(S=function(t){var e=Object(r.a)({},t);switch((e=b(e,l.structure.scrollDirection,"scrollDirection")).scrollDirection){case"VERTICAL":e.scrollDirection=0;break;case"HORIZONTAL":e.scrollDirection=1}return e}((e=S=y(S,Object(r.e)(p).map((function(t){return Object(r.e)(t).reverse()}))),(a=b(a=Object(r.a)({},e),l.thumbnails.alignment,"galleryThumbnailsAlignment")).galleryThumbnailsAlignment=null===(i=a.galleryThumbnailsAlignment)||void 0===i?void 0:i.toLowerCase(),S=a)))))))))))))))))),Object(r.e)(d).map((function(t){return Object(r.e)(t).reverse()}))),S=f(S=function(t){var e,i=Object(r.a)({},t);return(i=b(i,c.gallery.horizontal.slideshowInfo.buttonsAlignment,"galleryTextAlign")).galleryTextAlign=null===(e=i.galleryTextAlign)||void 0===e?void 0:e.toLowerCase(),i}(S=function(t){var e=Object(r.a)({},t);switch(e[c.gallery.horizontal.autoSlide.behaviour]){case"OFF":e.isAutoSlideshow=!1,e.autoSlideshowType="interval";break;case"INTERVAL":e.isAutoSlideshow=!0,e.autoSlideshowType="interval";break;case"CONTINUOUS":e.isAutoSlideshow=!0,e.autoSlideshowType="continuous"}return delete e[c.gallery.horizontal.autoSlide.behaviour],e}(S=function(t){var e,i=Object(r.a)({},t);return(i=b(i,c.gallery.vertical.loadMore.amount,"loadMoreAmount")).loadMoreAmount=null===(e=i.loadMoreAmount)||void 0===e?void 0:e.toLowerCase(),i}(S=function(t){var e=Object(r.a)({},t);switch((e=b(e,c.gallery.layoutDirection,"isRTL")).isRTL){case"RIGHT_TO_LEFT":e.isRTL=!0;break;case"LEFT_TO_RIGHT":e.isRTL=!1}return e}(S=function(t){var e=Object(r.a)({},t);switch((e=b(e,l.info.placement,"titlePlacement")).titlePlacement){case"OVERLAY":e.titlePlacement="SHOW_ON_HOVER";break;case"BELOW":e.titlePlacement="SHOW_BELOW";break;case"ABOVE":e.titlePlacement="SHOW_ABOVE";break;case"RIGHT":e.titlePlacement="SHOW_ON_THE_RIGHT";break;case"LEFT":e.titlePlacement="SHOW_ON_THE_LEFT";break;case"ALTERNATE_HORIZONTALLY":e.titlePlacement="ALTERNATE_HORIZONTAL";break;case"ALTERNATE_VERTICALLY":e.titlePlacement="ALTERNATE_VERTICAL"}return e}(S=function(t){var e=Object(r.a)({},t);switch((e=b(e,c.item.overlay.hoveringBehaviour,"hoveringBehaviour")).hoveringBehaviour){case"ALWAYS_VISIBLE":e.hoveringBehaviour="NO_CHANGE";break;case"NEVER_VISIBLE":e.hoveringBehaviour="NEVER_SHOW"}return e}(S=function(t){var e=Object(r.a)({},t);return(e=b(e,c.item.video.speed,"videoSpeed")).videoSpeed=String(e.videoSpeed),e}(S=function(t){var e=Object(r.a)({},t);return(e=b(e,c.item.video.volume,"videoSound")).videoSound=!!e.videoSound,e}(S=function(t){var e,i=Object(r.a)({},t);return(i=b(i,c.item.video.playTrigger,"videoPlay")).videoPlay=null===(e=i.videoPlay)||void 0===e?void 0:e.toLowerCase(),i}(S=function(t){var e,i=Object(r.a)({},t);switch((i=b(i,c.item.clickAction,"itemClick")).itemClick=null===(e=i.itemClick)||void 0===e?void 0:e.toLowerCase(),i.itemClick){case"action":i.itemClick="expand"}return i}(S=y(S,Object(r.e)(g).map((function(t){return Object(r.e)(t).reverse()}))))))))))))),Object(r.e)(m).map((function(t){return Object(r.e)(t).reverse()}))),Object(o.b)(S));return Object(o.e)(v,t)}function _(t){var e,i,a,u,S,v,_,O=(v=t,_=f(_=s()(v),h),_=f(_=function(t){var e,i,o=Object(r.a)({},t);switch(o=b(o,"arrowsPosition",l.navigationArrows.position),null===(i=null===(e=o.layoutParams)||void 0===e?void 0:e.navigationArrows)||void 0===i?void 0:i.position){case 0:o.layoutParams.navigationArrows.position="ON_GALLERY";break;case 1:o.layoutParams.navigationArrows.position="OUTSIDE_GALLERY"}return o}(_=function(t){var e,i,o=Object(r.a)({},t);return delete(o=Object(n.b)("SLIDESHOW")({galleryLayout:t.galleryLayout>=-3?t.galleryLayout:null===(i=null===(e=t.layoutParams)||void 0===e?void 0:e.structure)||void 0===i?void 0:i.galleryLayout})?b(o,"slideshowInfoSize",l.info.height):b(o,"textBoxHeight",l.info.height)).slideshowInfoSize,delete o.textBoxHeight,o}(_=function(t){var e,i,n,a,s,c=Object(r.a)({},t);return(null===(e=c.layoutParams)||void 0===e?void 0:e.gallerySpacing)>=0&&!((null===(n=null===(i=c.layoutParams)||void 0===i?void 0:i.structure)||void 0===n?void 0:n.gallerySpacing)>=0)&&Object(o.a)(c,l.structure.gallerySpacing,null===(a=c.layoutParams)||void 0===a?void 0:a.gallerySpacing),null===(s=c.layoutParams)||void 0===s||delete s.gallerySpacing,c}(_=function(t){var e,i,o=Object(r.a)({},t);switch(o=b(o,"gridStyle",l.structure.responsiveMode),null===(i=null===(e=o.layoutParams)||void 0===e?void 0:e.structure)||void 0===i?void 0:i.responsiveMode){case 0:o.layoutParams.structure.responsiveMode="FIT_TO_SCREEN";break;case 1:o.layoutParams.structure.responsiveMode="SET_ITEMS_PER_ROW"}return o}(_=function(t){var e,i,o=Object(r.a)({},t);return(o=b(o,"cubeType",l.crop.method)).layoutParams.crop.method=null===(i=null===(e=o.layoutParams.crop)||void 0===e?void 0:e.method)||void 0===i?void 0:i.toUpperCase(),o}(_=function(t){var e,i,o,n,a,s,c,u,h,p,d,g,m,f=Object(r.a)({},t);return f=b(f,"columnWidths",l.structure.columnRatios),0===(null===(o=null===(i=null===(e=f.layoutParams)||void 0===e?void 0:e.structure)||void 0===i?void 0:i.columnRatios)||void 0===o?void 0:o.length)?f.layoutParams.structure.columnRatios=[]:f.layoutParams.structure.columnRatios=(null===(a=null===(n=f.layoutParams)||void 0===n?void 0:n.structure)||void 0===a?void 0:a.columnRatios)?(null===(u=null===(c=null===(s=f.layoutParams)||void 0===s?void 0:s.structure)||void 0===c?void 0:c.columnRatios)||void 0===u?void 0:u.split)?Object(r.e)(null===(d=null===(p=null===(h=f.layoutParams)||void 0===h?void 0:h.structure)||void 0===p?void 0:p.columnRatios)||void 0===d?void 0:d.split(",").map(Number)):null===(m=null===(g=f.layoutParams)||void 0===g?void 0:g.structure)||void 0===m?void 0:m.columnRatios:void 0,f}(_=function(t){var e=Object(r.a)({},t);switch((e=b(e,"calculateTextBoxWidthMode",l.info.sizeUnits)).layoutParams.info.sizeUnits){case"PERCENT":e.layoutParams.info.sizeUnits="PERCENT",delete(e=b(e,"textBoxWidthPercent",l.info.width)).textBoxWidth;break;case"MANUAL":e.layoutParams.info.sizeUnits="PIXEL",delete(e=b(e,"textBoxWidth",l.info.width)).textBoxWidthPercent}return e}(_=function(t){var e,i,o=Object(r.a)({},t),n=t.rotatingCropRatios,a=o.cubeRatio||(null===(e=o.layoutParams)||void 0===e?void 0:e.cropRatio);return i="string"==typeof n&&""!==n?n:a,o.layoutParams.crop.ratios=String(i).split(",").map(Number),delete o.cropRatio,delete o.layoutParams.cropRatio,delete o.rotatingCropRatios,o}(_=function(t){var e=Object(r.a)({},t);switch((e=b(e,"cubeFitPosition",l.crop.alignment)).layoutParams.crop.alignment){case"MIDDLE":e.layoutParams.crop.alignment="CENTER"}return e}(_=function(t){var e,i=Object(r.a)({},t);switch(i.layoutParams.targetItemSize.unit){case"PIXEL":e="gallerySizePx";break;case"SMART":e="gallerySize";break;case"PERCENT":e="gallerySizeRatio"}return delete(i=b(i,e,l.targetItemSize.value)).gallerySizePx,delete i.gallerySizeRatio,delete i.gallerySize,i}(_=function(t){var e=Object(r.a)({},t);switch((e=b(e,"gallerySizeType",l.targetItemSize.unit)).layoutParams.targetItemSize.unit){case"px":e.layoutParams.targetItemSize.unit="PIXEL";break;case"ratio":e.layoutParams.targetItemSize.unit="PERCENT";break;case"smart":e.layoutParams.targetItemSize.unit="SMART"}return e}(_=function(t){var e=Object(r.a)({},t),i=t.fixedColumns,o=t.numberOfImagesPerRow,n=o>=0?o:i>=0?i:0;return e.layoutParams.structure.numberOfColumns=n,delete e.fixedColumns,delete e.numberOfImagesPerRow,e}(_=function(t){var e,i=Object(r.a)({},t);return i.layoutParams.groups.allowedGroupTypes=i.groupTypes.split?null===(e=i.groupTypes)||void 0===e?void 0:e.split(","):i.groupTypes?i.groupTypes:"",delete i.groupTypes,i}(_=function(t){var e,i,n=Object(r.a)({},t),a=t.rotatingGroupTypes||(null===(e=t.layoutParams)||void 0===e?void 0:e.repeatingGroupTypes);return i="string"==typeof a&&""!==a?a.split(","):[],delete(n=Object(o.a)(n,l.groups.repeatingGroupTypes,i)).layoutParams.repeatingGroupTypes,delete n.repeatingGroupTypes,n}(_=function(t){var e=Object(r.a)({},t);switch((e=b(e,"placeGroupsLtr",l.structure.groupsOrder)).layoutParams.structure.groupsOrder){case!0:e.layoutParams.structure.groupsOrder="LEFT_TO_RIGHT";break;case!1:e.layoutParams.structure.groupsOrder="BY_HEIGHT"}return e}(_=function(t){var e=Object(r.a)({},t);switch((e=b(e,"isVertical",l.structure.layoutOrientation)).layoutParams.structure.layoutOrientation){case!0:e.layoutParams.structure.layoutOrientation="VERTICAL";break;case!1:e.layoutParams.structure.layoutOrientation="HORIZONTAL"}return e}(_=function(t){var e,i,o=Object(r.a)({},t);switch(o=b(o,"scrollDirection",l.structure.scrollDirection),null===(i=null===(e=o.layoutParams)||void 0===e?void 0:e.structure)||void 0===i?void 0:i.scrollDirection){case 0:o.layoutParams.structure.scrollDirection="VERTICAL";break;case 1:o.layoutParams.structure.scrollDirection="HORIZONTAL"}return o}((e=_=y(_,p),(S=b(S=Object(r.a)({},e),"galleryThumbnailsAlignment",l.thumbnails.alignment)).layoutParams.thumbnails.alignment=null===(u=null===(a=null===(i=S.layoutParams)||void 0===i?void 0:i.thumbnails)||void 0===a?void 0:a.alignment)||void 0===u?void 0:u.toUpperCase(),_=S)))))))))))))))))),d),delete(_=f(_=function(t){var e,i,o,n,a,s=Object(r.a)({},t);return(s=b(s,"galleryTextAlign",c.gallery.horizontal.slideshowInfo.buttonsAlignment)).behaviourParams.gallery.horizontal.slideshowInfo.buttonsAlignment=null===(a=null===(n=null===(o=null===(i=null===(e=s.behaviourParams)||void 0===e?void 0:e.gallery)||void 0===i?void 0:i.horizontal)||void 0===o?void 0:o.slideshowInfo)||void 0===n?void 0:n.buttonsAlignment)||void 0===a?void 0:a.toUpperCase(),s}(_=function(t){var e,i=Object(r.a)({},t),n=i.isAutoSlideshow,a=i.autoSlideshowType;return e=n?"interval"===a?"INTERVAL":"CONTINUOUS":"OFF",delete(i=Object(o.a)(i,c.gallery.horizontal.autoSlide.behaviour,e)).isAutoSlideshow,delete i.autoSlideshowType,i}(_=function(t){var e,i,o,n,a,s=Object(r.a)({},t);return(s=b(s,"loadMoreAmount",c.gallery.vertical.loadMore.amount)).behaviourParams.gallery.vertical.loadMore.amount=null===(a=null===(n=null===(o=null===(i=null===(e=s.behaviourParams)||void 0===e?void 0:e.gallery)||void 0===i?void 0:i.vertical)||void 0===o?void 0:o.loadMore)||void 0===n?void 0:n.amount)||void 0===a?void 0:a.toUpperCase(),s}(_=function(t){var e=Object(r.a)({},t);switch((e=b(e,"isRTL",c.gallery.layoutDirection)).behaviourParams.gallery.layoutDirection){case!0:e.behaviourParams.gallery.layoutDirection="RIGHT_TO_LEFT";break;case!1:e.behaviourParams.gallery.layoutDirection="LEFT_TO_RIGHT"}return e}(_=function(t){var e=Object(r.a)({},t);switch((e=b(e,"titlePlacement",l.info.placement)).layoutParams.info.placement){case"SHOW_ON_HOVER":e.layoutParams.info.placement="OVERLAY";break;case"SHOW_BELOW":e.layoutParams.info.placement="BELOW";break;case"SHOW_ABOVE":e.layoutParams.info.placement="ABOVE";break;case"SHOW_ON_THE_RIGHT":e.layoutParams.info.placement="RIGHT";break;case"SHOW_ON_THE_LEFT":e.layoutParams.info.placement="LEFT";break;case"ALTERNATE_HORIZONTAL":e.layoutParams.info.placement="ALTERNATE_HORIZONTALLY";break;case"ALTERNATE_VERTICAL":e.layoutParams.info.placement="ALTERNATE_VERTICALLY"}return e}(_=function(t){var e=Object(r.a)({},t);switch((e=b(e,"hoveringBehaviour",c.item.overlay.hoveringBehaviour)).behaviourParams.item.overlay.hoveringBehaviour){case"NO_CHANGE":e.behaviourParams.item.overlay.hoveringBehaviour="ALWAYS_VISIBLE";break;case"NEVER_SHOW":e.behaviourParams.item.overlay.hoveringBehaviour="NEVER_VISIBLE"}return e}(_=function(t){var e=Object(r.a)({},t);return(e=b(e,"videoSpeed",c.item.video.speed)).behaviourParams.item.video.speed=Number(e.behaviourParams.item.video.speed),e}(_=function(t){var e=Object(r.a)({},t);return(e=b(e,"videoSound",c.item.video.volume)).behaviourParams.item.video.volume=e.behaviourParams.item.video.volume?e.behaviourParams.item.video.volume:0,e}(_=function(t){var e,i,o,n,a=Object(r.a)({},t);return(a=b(a,"videoPlay",c.item.video.playTrigger)).behaviourParams.item.video.playTrigger=null===(n=null===(o=null===(i=null===(e=a.behaviourParams)||void 0===e?void 0:e.item)||void 0===i?void 0:i.video)||void 0===o?void 0:o.playTrigger)||void 0===n?void 0:n.toUpperCase(),a}(_=function(t){var e,i,o,n=Object(r.a)({},t);switch((n=b(n,"itemClick",c.item.clickAction)).behaviourParams.item.clickAction=null===(o=null===(i=null===(e=n.behaviourParams)||void 0===e?void 0:e.item)||void 0===i?void 0:i.clickAction)||void 0===o?void 0:o.toUpperCase(),n.behaviourParams.item.clickAction){case"FULLSCREEN":case"EXPAND":n.behaviourParams.item.clickAction="ACTION"}return n}(_=y(_,g))))))))))),m)).enableLeanGallery,delete _.fullscreen,delete _.magicLayoutSeed,_),I=Object(o.e)(O,t);return delete I.oldRefactoredOptionInCore,I}var O=new(function(){function t(){this._hash2int={}}return t.prototype.stripSlashes=function(t){var e="";return"string"==typeof t&&(e=t.replace(/\\\//g,"/").replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\0/g,"\0").replace(/\\\\/g,"\\")),e},t.prototype.parseStringObject=function(t){if("string"!=typeof t)return t;var e=this.stripSlashes(t);if("string"==typeof t&&/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))try{return JSON.parse(e)}catch(t){}return e},t.prototype.hashToInt=function(t,e,i){var r=0;if(void 0===t||0===t.length)return r;if(!this._hash2int[t]){for(var o=0;o<t.length;o++)r+=t.charCodeAt(o);this._hash2int[t]=r}return void 0===e||void 0===i?this._hash2int[t]:this._hash2int[t]%(i-e+1)+e},t.prototype.hashToRandomInt=function(t,e,i){return void 0===e&&(e=0),void 0===i&&(i=1e5),void 0===t||0===t.length?0:(e=Math.round(e),i=Math.round(i),t+=t.length+e+i,this._hash2int[t]||(this._hash2int[t]=Math.round(Math.random()*(i-e)+e)),this._hash2int[t])},t.prototype.addDefaultStyleParams=function(t){return v(_(Object(r.a)({},Object(o.e)({layoutParams:{gallerySpacing:0,cropRatio:1,repeatingGroupTypes:""},cubeImages:!1,cubeType:"fill",rotatingCropRatios:"",smartCrop:!1,imageMargin:10,scatter:0,rotatingScatter:"",chooseBestGroup:!0,groupSize:3,groupTypes:"1,2h,2v,3h,3v,3t,3b,3l,3r",isVertical:!0,minItemSize:120,scrollDirection:0,targetItemSize:500,collageDensity:50,fixedColumns:0,columnWidths:""},t))))},t.prototype.convertContainer=function(t,e){var i=Object(r.a)({bounds:{}},t);return t.width>=0&&!(t.galleryWidth>=0)&&(i.galleryWidth=t.width+2*((e.imageMargin/2||0)-(e.layoutParams.gallerySpacing||0)),delete i.width),t.height>=0&&!(t.galleryHeight>=0)&&(i.galleryHeight=t.height+((e.imageMargin/2||0)-(e.layoutParams.gallerySpacing||0)),delete i.height),e.externalInfoHeight>=0&&1===e.scrollDirection&&(i.galleryHeight-=e.externalInfoHeight),i},t}()),I=function(){function t(t){if(this.style={},this.visibility={},(t=t||{}).dto||(console.error("Item has no DTO",t),t.dto={}),this.config=t,this.dto=t.dto,this.idx=t.idx,this.inGroupIdx=t.inGroupIdx,this.container=t.container,this.cubeType="fill",t.styleParams){var e=t.styleParams;this.cubeType=e.cubeType,this.cubeImages=e.cubeImages,this._cropRatio=e.layoutParams.cropRatio,this.rotatingCropRatios=e.rotatingCropRatios,this.smartCrop=e.smartCrop,this.cropOnlyFill=e.cropOnlyFill,this.imageMargin=e.imageMargin,this.gallerySpacing=e.layoutParams.gallerySpacing,this.scatter=e.scatter,this.rotatingScatter=e.rotatingScatter,this.smartCrop=e.smartCrop,this.useMaxDimensions=e.useMaxDimensions&&"text"!==this.itemType,this.cubeFitPosition=e.cubeFitPosition}this._groupOffset={top:0,left:0,right:0,bottom:0},this._group={},this.calcPinOffset=function(){return 0},this.resize(1)}return t.prototype.fixMetadataVerticalVideoRatio=function(t){if(t.qualities&&t.qualities[0]){var e=t.qualities,i=e[e.length-1],r=i.height,o=i.width;t.height=r,t.width=o}},t.prototype.resize=function(t){var e=1;if(!1!==t){if(t>0)e=t;else if("object"==typeof t){if(t.width)e=Math.max(1,t.width)/this.width;else if(t.height){e=Math.max(1,t.height)/this.height}}return this.width*=e,this.height*=e,this.resized=!0,this}},t.prototype.pinToCorner=function(t,e){var i=this;void 0===e&&(e=!1);var r=t.indexOf("top")>=0,o=t.indexOf("left")>=0;this.style.top=r?0:"auto",this.style.bottom=r?"auto":0,this.style.left=o?0:"auto",this.style.right=o?"auto":0,this.pin=t,this.isPinnedTop=r,this.isPinnedLeft=o,this.pinAfter=e,this.pinAfterType=r?"top":o?"left":"",this.calcPinOffset=function(t,e){if(i.pinAfter){if(i.pin===e){var r=i.imageMargin/2;return"top"===e?i.pinAfter.height+2*r:"left"===e?i.pinAfter.width+2*r:0}return 0}return 0}},t.prototype.setPosition=function(t){this.style.position=t},t.prototype.getPosition=function(t){return parseInt(t,10)>=0?t:"auto"},t.prototype.calcScatter=function(t){var e=this.imageMargin/2,i=this.gallerySpacing,r=t.left>0?e:i,o=this.container.galleryWidth-t.right>2*e?e:i,n=t.top>0?e:i,a=this.container.galleryHeight-t.bottom>2*e?e:i;if(!(this.rotatingScatter.length>0)){if(this.scatter>0){var s=this.scatter/100*.4;l=O.hashToRandomInt(this.seed+t.right+"x",-r,o);l*=this.scatter/100,l*=1-s,l+=(l>0?s*o:s*r)*Math.sign(l),l=Math.round(l);c=O.hashToRandomInt(this.seed+t.right+"y",-n,a);return c*=this.scatter/100,c*=1-s,c+=(c>0?s*a:s*n)*Math.sign(c),{x:l,y:c=Math.round(c)}}return{x:0,y:0}}try{var l,c,u=this.rotatingScatter.split(","),h=u[this.idx%u.length].split("/").map((function(t){return parseInt(t)})).map((function(t){return t/100})),p=h[0],d=h[1];return{x:l=p*(p>0?o:r),y:c=d*(d>0?a:n)}}catch(t){console.error("Cannot calculate rotating scatter",t)}},Object.defineProperty(t.prototype,"top",{get:function(){return this.getPosition(this.style.top)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.getPosition(this.style.left)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.getPosition(this.style.right)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.getPosition(this.style.bottom)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"group",{get:function(){return this._group},set:function(t){Object.assign(this._group,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groupOffset",{set:function(t){Object.assign(this._groupOffset,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offset",{get:function(){var t,e={top:this._groupOffset.top+(this.isPinnedTop?this.calcPinOffset(this._group.height,"top"):this._group.height-this.outerHeight)||0,left:this._groupOffset.left+(this.isPinnedLeft?this.calcPinOffset(this._group.width,"left"):this._group.width-this.outerWidth)||0},i=this.dimensions,r=i.fixTop,o=void 0===r?0:r,n=i.fixLeft,a=void 0===n?0:n,s=i.fixRight,l=void 0===s?0:s,c=i.fixBottom,u=void 0===c?0:c;if(e.innerTop=o,e.innerLeft=a,e.innerRight=l,e.innerBottom=u,e.right=e.left+this.width,e.bottom=e.top+this.height,this.scatter>0||(null===(t=this.rotatingScatter)||void 0===t?void 0:t.length)>0){var h=this.calcScatter(e),p=h.x,d=h.y;e.left+=p,e.top+=d,e.right=e.left+this.width,e.bottom=e.top+this.height}return e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.dto.id||this.dto.photoId||this.dto.itemId},set:function(t){this.dto.itemId=this.dto.photoId=this.dto.id=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return this.dto.hash||this.dto.mediaUrl||this.dto.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.dto.seed||O.hashToInt(this.hash)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this.dto.metadata||this.dto.metaData||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"itemType",{get:function(){return this.metadata.type||"image"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this.dto.width||this.dto.w},set:function(t){this.dto.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outerWidth",{get:function(){return this.width+2*this.margins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infoWidth",{get:function(){return this.Group?this.Group.infoWidth:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"orgWidth",{get:function(){return this.style.orgWidth||this.dto.width||this.dto.w||1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){var t;return t=this.cubeImages&&this.ratio>=this.cropRatio?this.style.cubedWidth||this.orgHeight*this.cropRatio:this.orgWidth,Math.max(t,1)},set:function(t){this.style.cubedWidth=this.style.orgWidth=this.style.width=Math.max(1,t);var e=this.dimensions,i=e.fixLeft,r=void 0===i?0:i,o=e.fixRight,n=void 0===o?0:o;this.style.innerWidth=this.style.width-r-n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"outerHeight",{get:function(){return this.height+2*this.margins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"orgHeight",{get:function(){return this.style.orgHeight||this.dto.height||this.dto.h||1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var t;return t=this.cubeImages&&this.ratio<this.cropRatio?this.style.cubedHeight||this.orgWidth/this.cropRatio:this.orgHeight,Math.max(t,1)},set:function(t){this.style.cubedHeight=this.style.orgHeight=this.style.height=Math.max(1,t);var e=this.dimensions,i=e.fixTop,r=void 0===i?0:i,o=e.fixBottom,n=void 0===o?0:o;this.style.innerHeight=this.style.height-n-r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){return this.dto.height||this.dto.h},set:function(t){this.dto.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infoHeight",{get:function(){return this.Group?this.Group.infoHeight:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"margins",{get:function(){return this.imageMargin/2||0},set:function(t){this.imageMargin=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dimensions",{get:function(){var t=this,e=this.cubeImages&&"fit"===this.cubeType,i=this.width,r=this.height,o=function(e,o){e?(i=t.useMaxDimensions?Math.min(t.width,t.maxWidth):t.width,r=i/o):(r=t.useMaxDimensions?Math.min(t.height,t.maxHeight):t.height,i=r*o)},n=this.ratio>=this.cropRatio;e?o(n,this.ratio):this.useMaxDimensions&&(this.width>this.maxWidth||this.height>this.maxHeight)&&(this.cubeImages?o(!n,this.cropRatio):o(!n,this.ratio));var a={fixTop:(this.height-r)/2,fixLeft:(this.width-i)/2,fixRight:(this.width-i)/2,fixBottom:(this.height-r)/2};switch(this.cubeFitPosition){case"TOP":a.fixTop=0,a.fixBottom*=2;break;case"BOTTOM":a.fixTop*=2,a.fixBottom=0;break;case"LEFT":a.fixLeft=0,a.fixRight*=2;break;case"RIGHT":a.fixLeft*=2,a.fixRight=0}return a},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cropRatio",{get:function(){var t,e=this;if(this.rotatingCropRatio)t=this.rotatingCropRatio;else if(this.rotatingCropRatios&&this.rotatingCropRatios.length>0){var i=String(this.rotatingCropRatios).split(",");t=this.rotatingCropRatio=i[this.idx%i.length]}if(t||"function"!=typeof this._cropRatio||(t=this._cropRatio()),!t&&this.cropOnlyFill&&"fit"===this.cubeType&&(t=this.ratio),t||(t=this._cropRatio||this.ratio),null!==this.dynamicCropRatios&&"string"==typeof t){if(!this.dynamicCropRatios){var r=/^\d*\.?\d*(%|px)\/\d*\.?\d*(%|px)$/.exec(t);this.dynamicCropRatios=r?t.split("/").map((function(t,e){return t.indexOf("%")>0?{type:"%",val:parseFloat(t.replace("%",""))/100,dim:0===e?"galleryWidth":"galleryHeight"}:{type:"px",val:parseInt(t.replace("px",""))}})):null}if(this.dynamicCropRatios){var o=this.dynamicCropRatios.map((function(t){if("%"===t.type){var i=e.container[t.dim]+("galleryHeight"===t.dim?e.imageMargin/2:0);return t.val*i-e.imageMargin}return t.val}));t=o[0]/o[1]}}return t=Number(t),!0===this.smartCrop&&(t=this.isPortrait?Math.min(t,1/t):Math.max(t,1/t)),"min"===this.cubeType?t=Math.max(t,this.orgRatio):"max"===this.cubeType&&(t=Math.min(t,this.orgRatio)),t},set:function(t){"number"==typeof this._cropRatio&&(this._cropRatio=t,this.style.cubedHeight=this.style.cubedWidth=0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this.ratio<.999?"portrait":"landscape"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPortrait",{get:function(){return"portrait"===this.orientation},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLandscape",{get:function(){return"landscape"===this.orientation},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ratio",{get:function(){return this.orgRatio||(this.orgRatio=this.orgWidth/this.orgHeight),this.orgRatio},set:function(t){this.orgRatio=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundedStyle",{get:function(){return Object(r.a)(Object(r.a)({},this.style),{width:Math.round(this.style.width),height:Math.round(this.style.height)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scheme",{get:function(){return{id:this.id,idx:this.idx,inGroupIdx:this.inGroupIdx,dto:this.dto,type:this.type,style:this.style,roundedStyle:this.roundedStyle,width:this.width,maxWidth:this.maxWidth,outerWidth:this.outerWidth,infoWidth:this.infoWidth,margins:this.margins,ratio:this.ratio,dimensions:this.dimensions,cropRatio:this.cropRatio,isCropped:this.cubeImages,cropType:this.cubeType,height:this.height,maxHeight:this.maxHeight,outerHeight:this.outerHeight,infoHeight:this.infoHeight,group:this.group,offset:this.offset,groupOffset:this._groupOffset,orientation:this.orientation,isPortrait:this.isPortrait,isLandscape:this.isLandscape,visibility:this.visibility}},enumerable:!1,configurable:!0}),t}(),w={lll:"1,2h",llp:"1,3r",lpl:"1,2h",pll:"1,2h,3l",lpp:"1,2h,3r,3h",plp:"1,2h,3l,3r,3h",ppl:"1,2h,3l,3h",ppp:"1,2h,3l,3r,3h"},x={lll:"1,2v,3t,3b,3v",llp:"1,2v,3t,3v",lpl:"1,2v,3t,3b,3v",pll:"1,2v,3b,3v",lpp:"1,2v,3t",plp:"1,2v",ppl:"1,3b",ppp:"1,2h"},P={1:[[1]],2:[[1],[1,2],[2]],3:[[1],[1,2],[1,2,3],[2,3],[3]]},E=function(){function t(t){var e=this;if(this.idx=t.idx,this.stripIdx=t.stripIdx,this.inStripIdx=t.inStripIdx,this.top=t.top,this.showAllItems=t.showAllItems,this.isLastItems=t.isLastItems,this.dummyItems=[],this.targetItemSize=t.targetItemSize,this.items=t.items.map((function(t){return t.Group=e,t})),t.styleParams){var i=t.styleParams;this.scrollDirection=i.scrollDirection,this.cubeType=i.cubeType,this.cubeImages=i.cubeImages,this.isVertical=i.isVertical,this.minItemSize=i.minItemSize,this.collageAmount=i.collageAmount,this.collageDensity=i.collageDensity,this.groupTypes=String(i.groupTypes),this.repeatingGroupTypes=String(i.layoutParams.repeatingGroupTypes),this.rotatingCropRatios=String(i.rotatingCropRatios),this.chooseBestGroup=i.chooseBestGroup,this.externalInfoHeight=i.externalInfoHeight,this.externalInfoWidth=i.externalInfoWidth,this.imageMargin=i.imageMargin,this.groupSize=i.groupSize}this.visible=!0,this.rendered=!0,this.required=!0;for(var r=this.items.length;!this.isWithinMinItemSize&&r>0;)this.placeItems(r),this.resize(),r--}return t.prototype.resize=function(){this.isVertical?this.resizeToWidth(this.targetItemSize):this.resizeToHeight(this.targetItemSize),this.setLeft(this.left),this.setTop(this.top)},t.prototype.safeGetItem=function(t){if(this.items[t])return this.items[t];if(this.dummyItems[t])return this.dummyItems[t];var e=new I(Object(r.a)({},this.items[this.items.length-1].config));return e.idx=e.config.idx+t-(this.items.length-1),e.type="dummy",this.dummyItems[t]=e,e},t.prototype.setCubedHeight=function(t){var e=this.cubeImages&&1===this.groupSize&&["fill","fit"].includes(this.cubeType)&&0===this.repeatingGroupTypes.length&&0===this.rotatingCropRatios.length;this.cubedHeight=e?t:null},t.prototype.round=function(){this.isLastGroup&&0===this.scrollDirection?this.width=this.stripWidth-this.left:this.width=Math.round(this.width),this.height=Math.round(this.height);for(var t=0,e=this.items;t<e.length;t++){var i=e[t];i.width=Math.round(i.width),i.height=Math.round(i.height),i.group={width:this.width,height:this.height}}var r=this.imageMargin;switch(this.type){default:case"1":this.safeGetItem(0).width=this.width-r,this.safeGetItem(0).height=this.height-r;break;case"2v":this.safeGetItem(0).width=this.safeGetItem(1).width=this.width-r,this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*r;break;case"2h":this.safeGetItem(0).height=this.safeGetItem(1).height=this.height-r,this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*r;break;case"3t":this.safeGetItem(0).width=this.width-r,this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*r,this.safeGetItem(1).width=this.width-this.safeGetItem(2).width-2*r,this.safeGetItem(2).height=this.safeGetItem(1).height;break;case"3b":this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*r,this.safeGetItem(1).height=this.safeGetItem(0).height,this.safeGetItem(2).height=this.height-this.safeGetItem(1).height-2*r,this.safeGetItem(2).width=this.width-r;break;case"3l":this.safeGetItem(1).height=this.height-this.safeGetItem(2).height-2*r,this.safeGetItem(2).width=this.safeGetItem(1).width,this.safeGetItem(0).width=this.width-this.safeGetItem(1).width-2*r,this.safeGetItem(0).height=this.height-r;break;case"3r":this.safeGetItem(0).height=this.height-this.safeGetItem(1).height-2*r,this.safeGetItem(1).width=this.safeGetItem(0).width,this.safeGetItem(2).width=this.width-this.safeGetItem(1).width-2*r,this.safeGetItem(2).height=this.height-r;break;case"3v":this.safeGetItem(0).width=this.width-r,this.safeGetItem(1).width=this.width-r,this.safeGetItem(2).width=this.width-r,this.safeGetItem(2).height=this.height-this.safeGetItem(0).height-this.safeGetItem(1).height-3*r;break;case"3h":this.safeGetItem(0).height=this.height-r,this.safeGetItem(1).height=this.height-r,this.safeGetItem(2).height=this.height-r,this.safeGetItem(2).width=this.width-this.safeGetItem(0).width-this.safeGetItem(1).width-3*r}},t.prototype.getGroupType=function(t){if(this.repeatingGroupTypes){var e=String(this.repeatingGroupTypes).split(",");return e[this.idx%e.length]}var i=this.isVertical,r=void 0;if(this.chooseBestGroup){var o=this.items.map((function(t){return t.orientation.slice(0,1)})).join("");r=(i?w:x)[o]}else 3!==this.items.length&&3!==t||(r=i?"1,2h,3l,3r,3h":"1,2v,3t,3b,3v");2!==this.items.length&&2!==t||(r=i?"1,2h":"1,2v"),1!==this.items.length&&1!==t||(r="1");var n=r.length>0?r.split(","):[];if(this.groupTypes){var a=this.groupTypes.split(",");a.length>1?0===(n=n.filter((function(t){return a.indexOf(t)>=0}))).length&&(n=["1"]):n=a}if(this.collageDensity>=0){var s=this.collageDensity,l=parseInt(n[n.length-1]),c=P[l],u=c[Math.floor(s*(c.length-1))];0===(n=n.filter((function(t){return u.indexOf(parseInt(t))>=0}))).length&&(n=["1"])}return n[this.calculateRandomSeed(n.length)]||"1"},t.prototype.calculateRandomSeed=function(t){var e;return e=this.isVertical?this.items[0].seed%t:(this.inStripIdx+this.stripIdx)%t,Math.round(Math.min(Math.max(0,e),t-1))},t.prototype.placeItems=function(t){this.type=this.getGroupType(t);var e,i=[],r=0,o=0;switch(this.type){default:case"1":(e=this.safeGetItem(0)).pinToCorner("top-left"),i.push(e),r=e.width,o=e.height;break;case"2v":(e=this.safeGetItem(0)).pinToCorner("top-left"),i.push(e),r=e.width,o=e.height,(e=this.safeGetItem(1)).pinToCorner("bottom-left"),e.resize(r/e.width),o+=e.height,i.push(e);break;case"2h":(e=this.safeGetItem(0)).pinToCorner("top-left"),e.innerOffset=[0,0],i.push(e),r=e.width,o=e.height,(e=this.safeGetItem(1)).pinToCorner("top-right"),e.innerOffset=[0,0],e.resize(o/e.height),r+=e.width,i.push(e);break;case"3b":(e=this.safeGetItem(0)).pinToCorner("top-left"),i.push(e),r=e.width,o=e.height,(e=this.safeGetItem(1)).pinToCorner("top-right"),e.resize(o/e.height),r+=e.width,i.push(e),(e=this.safeGetItem(2)).pinToCorner("bottom-left"),e.resize(r/e.width),o+=e.height,i.push(e);break;case"3t":(e=this.safeGetItem(1)).pinToCorner("bottom-left"),i.push(e),r=e.width,o=e.height,(e=this.safeGetItem(2)).pinToCorner("bottom-right"),e.resize(o/e.height),r+=e.width,i.push(e),(e=this.safeGetItem(0)).pinToCorner("top-left"),e.resize(r/e.width),o+=e.height,i=[e].concat(i);break;case"3r":(e=this.safeGetItem(0)).pinToCorner("top-left"),i.push(e),r=e.width,o=e.height,(e=this.safeGetItem(1)).pinToCorner("bottom-left"),e.resize(r/e.width),o+=e.height,i.push(e),(e=this.safeGetItem(2)).pinToCorner("top-right"),e.resize(o/e.height),r+=e.width,i.push(e);break;case"3l":(e=this.safeGetItem(1)).pinToCorner("top-right"),i.push(e),r=e.width,o=e.height,(e=this.safeGetItem(2)).pinToCorner("bottom-right"),e.resize(r/e.width),o+=e.height,i.push(e),(e=this.safeGetItem(0)).pinToCorner("top-left"),e.resize(o/e.height),r+=e.width,i=[e].concat(i);break;case"3v":(e=this.safeGetItem(0)).pinToCorner("top-left"),e.setPosition("relative"),i.push(e),r=e.width,o=e.height,(e=this.safeGetItem(2)).pinToCorner("bottom-left"),e.setPosition("relative"),e.resize(r/e.width),o+=e.height,i.push(e),(e=this.safeGetItem(1)).setPosition("relative"),e.resize(r/e.width),o+=e.height,e.pinToCorner("top",i[0]),i=[i[0],e,i[1]];break;case"3h":(e=this.safeGetItem(0)).pinToCorner("top-left"),e.setPosition("relative"),i.push(e),r=e.width,o=e.height,(e=this.safeGetItem(2)).pinToCorner("top-right"),e.setPosition("relative"),e.resize(o/e.height),r+=e.width,i.push(e),(e=this.safeGetItem(1)).setPosition("relative"),e.resize(o/e.height),r+=e.width,e.pinToCorner("left",i[0]),i=[i[0],e,i[1]]}this.width=r,this.height=o,this.items=i,this.placed=!0},t.prototype.resizeToHeight=function(t){this.height=t,this.width=this.getWidthByHeight(t),this.resizeItems()},t.prototype.resizeToWidth=function(t){this.width=t,this.height=this.getHeightByWidth(t),this.resizeItems()},t.prototype.resizeItems=function(){var t=this,e=["3b","3r"].indexOf(this.type)>=0?this.items.slice().reverse():this.items;e.forEach((function(i,r){i.resize(t.getItemDimensions(e,r)),i.group={top:t.top,left:t.left,width:t.width,height:t.height},i.groupOffset={bottom:t.top+t.height,right:t.left+t.width}}))},t.prototype.getItemDimensions=function(t,e){var i=this.imageMargin;switch(this.type){default:case"1":case"2v":case"3v":return{width:this.width-i};case"2h":case"3h":return{height:this.height-i};case"3t":case"3b":return 0===e?{width:this.width-i}:{height:this.height-t[0].height-2*i};case"3r":case"3l":return 0===e?{height:this.height-i}:{width:this.width-t[0].width-2*i}}},t.prototype.getHeightByWidth=function(t){var e=1,i=1,r=this.imageMargin,o=this.items.map((function(t){return t.width/t.height}));switch(this.type){default:case"1":i=1-(e=1/o[0]);break;case"2h":i=1-2*(e=1/(o[0]+o[1]));break;case"2v":i=2-(e=1/o[0]+1/o[1]);break;case"3h":i=1-3*(e=1/(o[0]+o[1]+o[2]));break;case"3v":i=3-(e=1/o[0]+1/o[1]+1/o[2]);break;case"3t":e=1/(o[2]+o[1])+1/o[0],i=2-2/(o[2]+o[1])+1/o[0];break;case"3b":e=1/(o[0]+o[1])+1/o[2],i=2-2/(o[0]+o[1])+1/o[2];break;case"3l":i=2-(e=(o[1]+o[2])/(o[0]*o[1]+o[1]*o[2]+o[0]*o[2]))*(2+o[0]);break;case"3r":i=2-(e=(o[0]+o[1])/(o[0]*o[1]+o[1]*o[2]+o[0]*o[2]))*(2+o[2])}return t*e+r*i},t.prototype.getWidthByHeight=function(t){var e=1,i=1,r=this.imageMargin,o=this.items.map((function(t){return t.width/t.height}));switch(this.type){default:case"1":i=1-(e=o[0]);break;case"2h":i=2-(e=o[0]+o[1]);break;case"2v":i=1-2*(e=1/(1/o[0]+1/o[1]));break;case"3h":i=3-(e=o[0]+o[1]+o[2]);break;case"3v":i=1-3*(e=1/(1/o[0]+1/o[1]+1/o[2]));break;case"3t":e=1/(1/(o[2]+o[1])+1/o[0]),i=(2/(o[2]+o[1])+1/o[0]-2)*e;break;case"3b":e=1/(1/(o[0]+o[1])+1/o[2]),i=(2/(o[0]+o[1])+1/o[2]-2)*e;break;case"3l":e=(o[0]*o[1]+o[1]*o[2]+o[0]*o[2])/(o[1]+o[2]),i=2+o[0]-2*e;break;case"3r":e=(o[0]*o[1]+o[1]*o[2]+o[0]*o[2])/(o[0]+o[1]),i=2+o[2]-2*e}return t*e+r*i},t.prototype.setTop=function(t){this.top=t||0;for(var e=0,i=this.items;e<i.length;e++){i[e].groupOffset={top:t,bottom:t+this.height}}},t.prototype.setLeft=function(t){this.left=t||0;for(var e=0,i=this.items;e<i.length;e++){i[e].groupOffset={left:t,right:t+this.width}}},Object.defineProperty(t.prototype,"id",{get:function(){return"g"+this.idx+"_"+(this.items[0]||{}).id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ratio",{get:function(){return this.width/this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.cubedHeight||this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalHeight",{get:function(){return this.height+this.infoHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infoHeight",{get:function(){return this.externalInfoHeight||0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infoWidth",{get:function(){return this.Column?this.Column.infoWidth:this.externalInfoWidth||0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.left+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(t){this._items=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realItems",{get:function(){return this._items.filter((function(t){return"dummy"!==t.type}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWithinMinItemSize",{get:function(){var t=this;return!(0===this.items.length||!this.placed)&&(1===this.items.length||this.items.reduce((function(e,i){var r=Math.min(i.width,i.height)>=t.minItemSize;return e&&r}),!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scheme",{get:function(){return{id:this.id,idx:this.idx,stripIdx:this.stripIdx,inStripIdx:this.inStripIdx,isLastGroup:this.isLastGroup,items:this.items.map((function(t){return t.scheme})),type:this.type,width:this.width,height:this.height,infoHeight:this.infoHeight,infoWidth:this.infoWidth,ratio:this.ratio,top:this.top,left:this.left,right:this.right,bottom:this.bottom,visible:this.visible,rendered:this.rendered,required:this.required}},enumerable:!1,configurable:!0}),t}(),T=function(){function t(t){this.ratio=0,this.groups=[],this.width=0,this.height=0,this.isFullWidth=!0,this.idx=t.idx,this.groupsPerStrip=t.groupsPerStrip,this.scrollDirection=t.scrollDirection,this.targetItemSize=t.targetItemSize,this.container=t.container}return t.prototype.addGroup=function(t){this.hasGroups&&(this.lastGroup.isLastGroup=!1),this.groups.push(t),t.stripIdx=this.idx,t.Strip=this,this.lastGroup.isLastGroup=!0,this.lastGroup.stripWidth=this.height*this.ratio},t.prototype.markAsIncomplete=function(){this.isFullWidth=!1,this.lastGroup.isLastGroup=!1},t.prototype.canRemainIncomplete=function(){return!(this.groupsPerStrip>0)&&1.5*this.targetItemSize<this.height},t.prototype.setWidth=function(t){this.width=t,this.hasGroups&&(this.lastGroup.stripWidth=t)},t.prototype.resizeToHeight=function(t){this.height=t;for(var e=0,i=0,r=0,o=this.groups;r<o.length;r++){var n=o[r];n.setLeft(e),n.width+=i,n.resizeToHeight(t),i=n.width,n.round(),i-=n.width,e+=n.width}},t.prototype.isFull=function(t,e){if(!this.hasGroups)return!1;var i=this.groupsPerStrip,r=this.scrollDirection,o=this.targetItemSize;if(i>0)return this.groups.length>=i;var n,a=this.container.galleryWidth;if(1===r)n=!1;else{var s=a/(this.ratio+t.ratio)-o,l=a/this.ratio-o;(n=!isNaN(s)&&!isNaN(l)&&(l<0||s<0&&Math.abs(l)<Math.abs(s)))&&e&&(n=Number(Math.abs(l))<Math.abs(s))}return n},Object.defineProperty(t.prototype,"hasGroups",{get:function(){return this.groups.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastGroup",{get:function(){return this.groups[this.groups.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scheme",{get:function(){return{idx:this.idx,groups:this.groups.map((function(t){return t.scheme})),width:this.width,height:this.height,ratio:this.ratio,isFullWidth:this.isFullWidth}},enumerable:!1,configurable:!0}),t}(),C=function(){function t(t,e,i,r,o){this.idx=t,this.groups=[],this.height=0,this.width=e,this.left=i,this.cubedHeight=r,this.infoWidth=o||0}return t.prototype.addGroup=function(t){this.addGroups([t])},t.prototype.addGroups=function(t){var e=this;this.groups=this.groups.concat(t),t.forEach((function(t){t.columnIdx=e.idx,t.Column=e}))},Object.defineProperty(t.prototype,"totalWidth",{get:function(){return this.width+this.infoWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scheme",{get:function(){return{idx:this.idx,groups:this.groups.map((function(t){return t.scheme})),width:this.width,height:this.height}},enumerable:!1,configurable:!0}),t}(),D=new(function(){function t(){}return Object.defineProperty(t.prototype,"layout",{get:function(){return this._layout},set:function(t){this._layout=Object(r.a)({},t)},enumerable:!1,configurable:!0}),t}()),A=function(){function t(t){this.ready=!1,this.pointer=0,this.layoutItems=[],this.findNeighborItem=this.findNeighborItem.bind(this),this.updateParams(t),!1!==this.createLayoutOnInit&&this.createLayout(t)}return t.prototype.updateParams=function(t){this.srcItems=t.items,this.styleParams=O.addDefaultStyleParams(t.styleParams),this.container=O.convertContainer(t.container,this.styleParams);var e=t.options||{};this.useExistingLayout=!!e.useExistingLayout,this.createLayoutOnInit=e.createLayoutOnInit,this.showAllItems=!!e.showAllItems||!!t.showAllItems,this.useLayoutStore=!!e.useLayoutStore},t.prototype.verifyGalleryState=function(){if(!this.container.galleryWidth)throw this.ready=!1,new Error("Layouter: cannot create layout, galleryWidth is undefined or 0");if(!this.styleParams.targetItemSize)throw this.ready=!1,new Error("Layouter: cannot create layout, targetItemSize is undefined or 0")},t.prototype.calcNumberOfColumns=function(t,e){var i=1;if(this.styleParams.isVertical)if(this.styleParams.fixedColumns>0)i=this.styleParams.fixedColumns;else{var r=t/e,o=[Math.floor,Math.ceil],n=o.map((function(t){return t(r)})).map((function(e){return Math.round(t/e)})).map((function(t){return Math.abs(e-t)}));i=(0,o[n.indexOf(Math.min.apply(Math,n))])(r)||1}else i=1;return i},t.prototype.findShortestColumn=function(t,e){var i=t[0];if(this.styleParams.placeGroupsLtr)i=t[e%t.length];else for(var r=-1,o=0,n=t;o<n.length;o++){var a=n[o],s=a.height;(s<r||r<0)&&(r=s,i=a)}return i},t.prototype.saveExistingLayout=function(){this.useLayoutStore&&(D.layout={pointer:this.pointer,layoutItems:this.layoutItems,groups:this.groups,strips:this.strips,groupIdx:this.groupIdx,groupItems:this.groupItems,group:this.group,strip:this.strip,targetItemSize:this.targetItemSize,galleryHeight:this.galleryHeight,columns:this.columns})},t.prototype.prepareLayoutParams=function(){var t=this;if(this.useExistingLayout&&this.pointer>0){if(this.useLayoutStore)Object.assign(this,D.layout);else if(this.styleParams.isVertical){this.groups.slice(-3).forEach((function(e){var i=t.columns[e.columnIdx];i&&(i.height-=e.totalHeight,i.groups.splice(-1,1)),t.groups.splice(-1,1),e.realItems.forEach((function(){t.layoutItems.splice(-1,1),t.pointer--})),t.groupIdx--}))}else{if(1===this.scrollDirection){this.groups.slice(-1).forEach((function(e){var i=t.columns[0];i&&i.groups.splice(-1,1);var r=t.strips[0];r&&(r.setWidth(r.width-e.width),r.ratio=r.width/r.height,r.groups.splice(-1,1),t.strip=r),t.strips=[],t.groups.splice(-1,1),e.realItems.forEach((function(){t.layoutItems.splice(-1,1),t.pointer--})),t.groupIdx--})),this.galleryHeight=0}else{var e=this.strips.slice(-2);e&&(e.forEach((function(e){e&&(t.strips.splice(-1,1),e.groups.forEach((function(e){t.groups.splice(-1,1),e.items.forEach((function(){t.layoutItems.splice(-1,1),t.pointer--})),t.groupIdx--})))})),this.galleryHeight=this.strips.reduce((function(t,e){return t+e.height}),0),this.strip=new T({idx:this.strips.length+1,container:this.container,groupsPerStrip:this.styleParams.groupsPerStrip,scrollDirection:this.styleParams.scrollDirection,targetItemSize:this.targetItemSize}))}this.groupItems=[]}this.item={},this.pointer=Math.max(0,this.pointer),this.maxLoops=10*this.srcItems.length}else{if(this.pointer=0,this.firstGroup=!1,this.layoutItems=[],this.groups=[],this.strips=[],this.styleParams.forceFullHeight)this.targetItemSize=Math.sqrt(this.container.galleryHeight*this.container.galleryWidth/this.srcItems.length);else{var i=void 0;i="function"==typeof this.styleParams.targetItemSize?this.styleParams.targetItemSize():this.styleParams.targetItemSize,this.targetItemSize=Math.floor(i)+Math.ceil(2*(this.styleParams.imageMargin/2-this.styleParams.layoutParams.gallerySpacing))}this.galleryWidth=Math.floor(this.container.galleryWidth),this.maxGroupSize=this.getMaxGroupSize(),this.groupIdx=0,this.item={},this.groupItems=[],this.group={},this.bounds=this.container.bounds||{},this.strip=new T({idx:1,container:this.container,groupsPerStrip:this.styleParams.groupsPerStrip,scrollDirection:this.styleParams.scrollDirection,targetItemSize:this.targetItemSize}),this.galleryHeight=0,this.numOfCols=this.calcNumberOfColumns(this.galleryWidth,this.targetItemSize),this.targetItemSize=this.styleParams.isVertical?Math.floor(this.galleryWidth/this.numOfCols):this.targetItemSize;var r=this.styleParams,o=r.columnWidths,n=r.externalInfoWidth,a=r.imageMargin,s=this.styleParams.layoutParams.cropRatio,l=!1;if(o&&o.length>0){for(l=o.split(",").map(Number);l.length<this.numOfCols;)l.push.apply(l,l);l=l.slice(0,this.numOfCols);var c=this.galleryWidth/l.reduce((function(t,e){return t+e}),0);l=l.map((function(t){return Math.round(t*=c)}))}var u,h=0,p=this.galleryWidth;this.columns=Array(this.numOfCols).fill(0).map((function(e,i){var r=l?l[i]:Math.round(p/(t.numOfCols-i)),o=h;h+=r,p-=r;var c=Math.round(n>1?n:n*r)||0;return r-=c,u=u||(t.targetItemSize-c-a)/s+a,new C(i,r,o,u,c)})),this.maxLoops=10*this.srcItems.length}},t.prototype.createLayout=function(t){for(void 0!==t&&this.updateParams(t),this.verifyGalleryState(),this.prepareLayoutParams();this.srcItems[this.pointer];){if(6===this.imagesLeft&&this.saveExistingLayout(),this.maxLoops--,this.maxLoops<=0)return console.error("Cannot create layout, maxLoops reached!!!"),!1;if(this.item=new I({idx:this.pointer,inGroupIdx:this.groupItems.length+1,scrollTop:this.galleryHeight,dto:this.srcItems[this.pointer],container:this.container,styleParams:this.styleParams}),this.layoutItems[this.pointer]=this.item,this.groupItems.push(this.item),this.groupItems.length<this.maxGroupSize&&this.srcItems[this.pointer+1])this.pointer++;else{if(this.group=new E({idx:this.groupIdx,stripIdx:this.strip.idx,inStripIdx:this.strip.groups.length+1,top:this.galleryHeight,items:this.groupItems,isLastItems:this.isLastImages,targetItemSize:this.targetItemSize,showAllItems:this.showAllItems,container:this.container,styleParams:this.styleParams}),this.groups[this.groupIdx]=this.group,this.pointer+=this.group.realItems.length-this.groupItems.length,this.groupIdx++,this.groupItems=[],this.styleParams.isVertical){var e=this.findShortestColumn(this.columns,this.groups.length-1);this.group.setCubedHeight(e.cubedHeight),this.group.resizeToWidth(e.width),this.group.round(),this.group.setTop(e.height),this.group.setLeft(e.left),e.addGroup(this.group),e.height+=this.group.totalHeight,this.galleryHeight<e.height&&(this.galleryHeight=e.height)}else{if(this.strip.isFull(this.group,this.isLastImage)){this.strip.resizeToHeight(this.galleryWidth/this.strip.ratio),this.strip.setWidth(this.galleryWidth),this.galleryHeight+=this.strip.height,this.columns[0].addGroups(this.strip.groups),this.strips.push(this.strip),this.strip=new T({idx:this.strip.idx+1,container:this.container,groupsPerStrip:this.styleParams.groupsPerStrip,scrollDirection:this.styleParams.scrollDirection,targetItemSize:this.targetItemSize}),this.pointer-=this.group.realItems.length-1,this.groupIdx--;continue}this.group.setTop(this.galleryHeight),this.strip.ratio+=this.group.ratio,this.strip.height=this.galleryWidth/this.strip.ratio,this.strip.setWidth(this.galleryWidth),this.strip.addGroup(this.group),this.isLastImage&&this.strip.hasGroups&&(1===this.styleParams.scrollDirection?this.strip.height=this.container.galleryHeight+(this.styleParams.imageMargin/2-this.styleParams.layoutParams.gallerySpacing):this.strip.canRemainIncomplete()&&(this.strip.height=this.targetItemSize,this.strip.markAsIncomplete()),this.strip.resizeToHeight(this.strip.height),this.galleryHeight+=this.strip.height,this.columns[0].addGroups(this.strip.groups),this.strips.push(this.strip))}this.firstGroup||(this.firstGroup=this.group),this.pointer++}}if(this.styleParams.forceFullHeight){var i=this.container.galleryHeight/this.galleryHeight;this.items.map((function(t){return t.cubeImages=!0,t.cropRatio=t.ratio=t.width/(t.height*i),t.height*=i,t})),this.groups.map((function(t){return t.height*=i,t.setTop(t.top*i),t.resizeItems(),t}))}return this.lastGroup=this.group,this.colWidth=Math.floor(this.galleryWidth/this.numOfCols),this.height=this.galleryHeight-2*(this.styleParams.imageMargin/2-this.styleParams.layoutParams.gallerySpacing),this.width=this.lastGroup.left+this.lastGroup.width,this.ready=!0,this.scheme},t.prototype.lastVisibleItemIdxInHeight=function(t){for(var e=this.items.length-1;e>=0;e--){if(this.items[e].offset.top<t)return e}return this.items.length-1},t.prototype.lastVisibleItemIdx=function(){return this.lastVisibleItemIdxInHeight(this.container.galleryHeight-100)},t.prototype.findNeighborItem=function(t,e){var i,r=this,o=this.layoutItems[t],n=function(t,e,i){var o,n,a,s=null,l={};return r.layoutItems.forEach((function(r){o=r.offset.top+r.height/2,n=r.offset.left+r.width/2,a=Math.sqrt(Math.pow(o-e,2)+Math.pow(n-t,2)),(null===s||a>0&&a<s)&&i(t,e,n,o)&&(s=a,l=r)})),l};switch(e){case"up":i=n(o.offset.left+o.width/2,o.offset.top,(function(t,e,i,r){return r<e}));break;case"left":i=n(o.offset.left,o.offset.top+o.height/2,(function(t,e,i){return i<t}));break;case"down":i=n(o.offset.left+o.width/2,o.offset.bottom,(function(t,e,i,r){return r>e}));break;default:case"right":i=n(o.offset.right,o.offset.top+o.height/2,(function(t,e,i){return i>t}))}return i.idx>=0?i.idx:(console.warn("Could not find offset for itemIdx",t,e),t)},t.prototype.getMaxGroupSize=function(){var t=1;try{var e="string"==typeof this.styleParams.groupTypes&&this.styleParams.groupTypes.length>0?this.styleParams.groupTypes.split(","):this.styleParams.groupTypes;t=e.length>0?e.reduce((function(t,e){return Math.max(t,parseInt(e))}),1):Number(e),t=Math.min(t,this.styleParams.groupSize)}catch(e){console.error("couldn't calculate max group size - returing 3 (?)",e),t=3}return t},Object.defineProperty(t.prototype,"isLastImage",{get:function(){return!this.srcItems[this.pointer+1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLastImages",{get:function(){return!this.srcItems[this.pointer+1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imagesLeft",{get:function(){return this.srcItems.length-this.pointer-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this.layoutItems},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scheme",{get:function(){return{items:this.items.map((function(t){return t.scheme})),groups:this.groups.map((function(t){return t.scheme})),strips:this.strips.map((function(t){return t.scheme})),columns:this.columns.map((function(t){return t.scheme})),height:this.height,width:this.width}},enumerable:!1,configurable:!0}),t}(),L=i(1),M=i(9),R=i(15),j=i(17),B=function(){function t(t){this.uniqueId=M.a.generateUUID(),this.isGalleryItem=!0,this.createdBy=t.createdBy,this.createUrl=this.createUrl.bind(this),this.createMagnifiedUrl=this.createMagnifiedUrl.bind(this),this.update(t)}return t.prototype.update=function(t){if(this.createMediaUrl=t.createMediaUrl,t.dto&&t.dto.dto&&(t.dto=t.dto.dto,M.a.isDev()&&console.warn("Item core is created with already existing item core")),this.dto=Object(r.a)({},t.dto),t.scheme)this.processScheme(t.scheme);else{var e={};Object.assign(e,this.dto,this.metadata),this.processScheme(new I({dto:e}).scheme)}if(this.dto){var i=this.dto.metaData||this.dto.metadata;i&&(this.dto.metaData=M.a.parseStringObject(i))}this.sharpParams=Object(r.a)({},t.sharpParams),this.sharpParams.quality||(this.sharpParams.quality=90),this.sharpParams.usm||(this.sharpParams.usm={}),this.thumbnailSize=t.thumbnailSize||120,this.resetUrls(),this.updateSharpParams()},t.prototype.processScheme=function(t){this.id=t.id,this.idx=t.idx,this.type=t.type,this.style=t.style,this.width=t.width,this.maxWidth=t.maxWidth,this.infoWidth=t.infoWidth,this.height=t.height,this.maxHeight=t.maxHeight,this.infoHeight=t.infoHeight,this.margins=t.margins,this.ratio=t.ratio,this.cropRatio=t.cropRatio,this.cubeImages=t.isCropped,this.cubeType=t.cropType||R.a.FILL,this.offset=t.offset,this.group=t.group,this.orientation=t.orientation,this.visibility=t.visibility,this.magnificationLevel=t.magnificationLevel},t.prototype.renderProps=function(t){return Object(r.a)({className:"image",key:this.key,idx:this.idx,photoId:this.photoId,id:this.id,hash:this.id,html:this.html,type:this.type,isVideoPlaceholder:this.isVideoPlaceholder,url:this.url,alt:this.alt,directLink:this.directLink,directShareLink:this.directShareLink,linkUrl:this.linkUrl,linkType:this.linkType,linkOpenType:this.linkOpenType,linkData:this.linkData,title:this.title,fileName:this.fileName,description:this.description,createUrl:this.createUrl,createMagnifiedUrl:this.createMagnifiedUrl,cubeImages:this.cubeImages,cubeType:this.cubeType,cropRatio:this.cropRatio,isTransparent:this.isTransparent,offset:this.offset,style:Object(r.a)({ratio:this.ratio,bgColor:this.bgColor,maxWidth:this.maxWidth,maxHeight:this.maxHeight,infoWidth:this.infoWidth,infoHeight:this.infoHeight,orientation:this.orientation},this.style),isDemo:this.isDemo,videoUrl:this.videoUrl,isExternalVideo:this.isExternalVideo},t)},t.prototype.getDataForShop=function(){var t=this.focalPoint,e=this.metadata;return{isDemo:e.isDemo,orderIndex:this.orderIndex,itemId:this.dto.itemId,itemUrl:this.url,itemHeight:e.height,title:e.title,itemWidth:e.width,itemType:e.type||"image",imageUrl:this.processedMediaUrl(R.a.FIT,200,200,null,null).img(),imagePurchasedUrl:this.dto.mediaUrl,fpX:t[0],fpY:t[1]}},t.prototype.getHighestMp4Resolution=function(t){var e=t.filter((function(t){return"mp4"===t.formats[0]})).sort((function(t,e){return e.width-t.width}))[0];return{width:e.width,height:e.height}},t.prototype.processedMediaUrl=function(t,e,i,o,n){var a,s=this;void 0===n&&(n=!1);var l=function(t,e,i,r,o,a,l){var c;if(void 0===a&&(a=null),void 0===l&&(l=null),"function"==typeof s.createMediaUrl)try{var u=String(M.a.hashCode(JSON.stringify({url:e,resizeMethod:i,requiredWidth:r,requiredHeight:o,sharpParams:a,focalPoint:l})));s._cachedUrls[u]||(s._cachedUrls[u]=s.createMediaUrl({item:t,originalUrl:e,resizeMethod:i,requiredWidth:r,requiredHeight:o,sharpParams:a,focalPoint:l,createMultiple:n})||""),c=s._cachedUrls[u]}catch(n){console.error("Cannot create url",n,t,e,i,r,o,a,l),c=String(e)}else c=String(e);return c};e=Math.ceil(e),i=Math.ceil(i);var c=t===R.a.FILL&&this.isCropped&&this.focalPoint,u={},h=this.url;return this.isText?Object.assign.apply(Object,Object(r.e)([{}],Object.values(j.b).map((function(t){var e;return(e={})[t]=function(){return""},e})))):((this.isVideo||this.isVideoPlaceholder)&&(h=null===(a=this.poster)||void 0===a?void 0:a.url,M.a.isExternalUrl(this.url)?u[j.b.VIDEO]=function(){return s.url}:u[j.b.VIDEO]=function(){return l(s,s.url,R.a.VIDEO,e,i)}),u[j.b.HIGH_RES]=function(){return l(s,h,t,e,i,o,c)},u[j.b.LOW_RES]=function(){return l(s,h,s.cubeImages&&t!==R.a.FIT?R.a.FILL:R.a.FIT,250,250,Object(r.a)(Object(r.a)({},o),{quality:30,blur:30}),c)},u)},t.prototype.resetUrls=function(){var t=this.maxWidth||this.dto.width||this.metadata.width,e=this.maxHeight||this.dto.height||this.metadata.height;this.resizeWidth=Math.min(t,Math.ceil(this.width)),this.resizeHeight=Math.min(e,Math.ceil(this.height)),this._cachedUrls={},this.urls={}},t.prototype.createUrl=function(t,e){try{return this[t+"_url"][e]()}catch(t){return""}},t.prototype.createMagnifiedUrl=function(t){void 0===t&&(t=1);try{if(!this.urls.magnified_url){var e=this.style,i=e.innerWidth,r=e.innerHeight;this.urls.magnified_url=this.processedMediaUrl(this.cubeType,i*t,r*t,this.sharpParams,!0)}return this.urls.magnified_url[j.b.HIGH_RES]()}catch(t){return""}},Object.defineProperty(t.prototype,"resized_url",{get:function(){return this.urls.resized_url||(this.urls.resized_url=this.processedMediaUrl(this.cubeType,this.resizeWidth,this.resizeHeight,this.sharpParams)),this.urls.resized_url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multi_url",{get:function(){return this.urls.multi_url||(this.urls.multi_url=this.processedMediaUrl(this.cubeType,this.resizeWidth,this.resizeHeight,this.sharpParams,!0)),this.urls.multi_url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaled_url",{get:function(){if(!this.urls.scaled_url){var t=this.maxWidth/this.maxHeight,e=this.resizeWidth/this.resizeHeight<t;this.urls.scaled_url=this.processedMediaUrl(R.a.FILL,e?t*this.resizeHeight:this.resizeWidth,e?this.resizeHeight:this.resizeWidth/t,this.sharpParams)}return this.urls.scaled_url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pixel_url",{get:function(){return this.urls.pixel_url||(this.urls.pixel_url=this.processedMediaUrl(R.a.FILL,1,1,{quality:5})),this.urls.pixel_url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"thumbnail_url",{get:function(){return this.urls.thumbnail_url||(this.urls.thumbnail_url=this.processedMediaUrl(R.a.FILL,this.thumbnailSize,this.thumbnailSize,{quality:70})),this.urls.thumbnail_url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"square_url",{get:function(){return this.urls.square_url||(this.urls.square_url=this.processedMediaUrl(R.a.FILL,100,100,{quality:80})),this.urls.square_url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"full_url",{get:function(){return this.urls.full_url||(this.urls.full_url=this.processedMediaUrl(R.a.FULL,this.maxWidth,this.maxHeight,this.sharpParams)),this.urls.full_url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sample_url",{get:function(){return this.urls.sample_url||(this.urls.sample_url=this.processedMediaUrl(R.a.FIT,500,500,this.sharpParams)),this.urls.sample_url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"preload_url",{get:function(){return this.urls.preload_url||(this.urls.preload_url=this.processed_url),this.urls.preload_url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"download_url",{get:function(){return this.createDownloadUrl(this.full_url)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"download_sample_url",{get:function(){return this.createDownloadUrl(this.sample_url)},enumerable:!1,configurable:!0}),t.prototype.createDownloadUrl=function(t){var e=this;return this.urls.download_url||(this.urls.download_url=t,this.urls.download_url._img=this.urls.download_url.img,this.urls.download_url.img=function(){var t=e.urls.download_url._img();return t+(t.includes("?")?"&":"?")+"dn="+e.fileName}),this.urls.download_url},t.prototype.updateSharpParams=function(){if(this.dto.metaData&&this.dto.metaData.sharpParams&&this.dto.metaData.sharpParams.L){var t=this.dto.metaData.sharpParams.L;t.quality&&!0===t.overrideQuality&&(this.sharpParams.quality=t.quality),t.usm&&!0===t.overrideUsm&&(this.sharpParams.usm=t.usm)}},Object.defineProperty(t.prototype,"itemId",{get:function(){return this.id},enumerable:!1,configurable:!0}),t.prototype.updateId=function(t){this.dto.itemId=this.id=t},Object.defineProperty(t.prototype,"metadata",{get:function(){var t=this.dto.metaData||this.dto.metadata;return M.a.isUndefined(t)&&(t={}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metaData",{get:function(){return this.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bgColor",{get:function(){return this.isText?this.metadata&&(this.metadata.textStyle&&this.metadata.textStyle.backgroundColor||this.metadata.backgroundColor):"none"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCropped",{get:function(){return this.cubeImages&&this.cubeType===R.a.FILL},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"focalPoint",{get:function(){return this.metadata.focalPoint||[.5,.5]},set:function(t){this.metadata.focalPoint=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"photoId",{get:function(){return this.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this._key||(this._key=(this.dto.key||this.id||this.dto.url||"no_key_found").replace(/\W/g,"")),this._key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"orderIndex",{get:function(){return this.dto.orderIndex||this.dto.o||0},set:function(t){this.dto.orderIndex=t},enumerable:!1,configurable:!0}),t.prototype.updateOrderIndex=function(t){var e=this.orderIndex!==t;return this.orderIndex=t,e},Object.defineProperty(t.prototype,"url",{get:function(){return this.dto.file_url||this.dto.mediaUrl||this.dto.url||this.dto.src||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mediaUrl",{get:function(){return this.url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"html",{get:function(){return this.dto.html||this.dto.text||this.metadata.html||this.metadata.text},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastModified",{get:function(){return this.metadata.lastModified},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return M.a.hashToInt(this.url)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isImage",{get:function(){return"image"===this.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isImportant",{get:function(){return!!this.dto.i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"videoUrl",{get:function(){return this.metadata.videoUrl},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"poster",{get:function(){return this.metadata.poster||this.metadata.customPoster&&this.metadata.customPoster||(this.metadata.posters?this.metadata.posters[this.metadata.posters.length-1]:null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"qualities",{get:function(){return this.metadata.qualities},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isExternalVideo",{get:function(){return this.metadata.isExternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isExternal",{get:function(){return!0===this.metadata.isExternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){switch(this._type||this.dto.type||this.metadata.type||this.dto.media_type){case"dummy":return"dummy";case"v":case"video":return"video";case"h":case"html":case"text":return"text";case"i":case"image":default:return"image"}},set:function(t){this._type=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVideoPlaceholder",{get:function(){return!!(this.dto.isVideoPlaceholder||this.metadata.isVideoPlaceholder||this.dto.media_isVideoPlaceholder)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alt",{get:function(){return M.a.isMeaningfulString(this.metadata.alt)&&this.metadata.alt||this.title||this.description||this.fileName||""},set:function(t){this.metadata.alt=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this.metadata.title||""},set:function(t){this.metadata.title=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fileName",{get:function(){return this.metadata.fileName||"file"},set:function(t){this.metadata.fileName=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"description",{get:function(){return this.metadata.description||""},set:function(t){this.metadata.description=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exif",{get:function(){return this.metadata.exif||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasLink",{get:function(){switch(this.linkType){case"wix":return!!this.linkData.type;default:return!!this.linkUrl}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"link",{get:function(){return this.metadata.link||{}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkData",{get:function(){return this.metadata.link&&this.metadata.link.data?this.metadata.link.data:this.isWixUrl?{type:"web",url:this.linkUrl}:{}},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.data=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkType",{get:function(){return this.metadata.link&&!M.a.isUndefined(this.metadata.link.type)?this.metadata.link.type:this.linkUrl?"web":"none"},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link={type:t,url:void 0,text:void 0,title:void 0,target:"_blank"}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultLinkText",{get:function(){var t=this.linkData;switch(this.linkType){case"wix":if(!t)return"Go to Link";switch(t.type){case"PageLink":return"Go to Page "+t.pageName;case"AnchorLink":return"Scroll to "+t.anchorName;case"ExternalLink":return""+t.url;case"EmailLink":return"Email "+t.recipient;case"PhoneLink":return"Call "+t.phoneNumber;case"DocumentLink":return"Open "+t.name;default:return"Go to Link"}case"web":return this.linkTitleFromUrl||this.linkUrl;case"page":return this.linkTitle;default:return""}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultLinkValue",{get:function(){var t=this.linkData;switch(this.linkType){case"wix":if(!t)return"Add a Link";switch(t.type){case"PageLink":return t.pageName?"PAGE - "+t.pageName:"PAGE";case"AnchorLink":return"ANCHOR - "+t.anchorName;case"ExternalLink":return"LINK - "+t.url;case"EmailLink":return"EMAIL - "+t.recipient;case"PhoneLink":return"PHONE - "+t.phoneNumber;case"DocumentLink":return"DOCUMENT - "+t.name;default:return"Add a Link"}case"web":return this.linkUrl;case"page":return this.linkTitle;default:return""}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkText",{get:function(){return this.metadata.link&&this.metadata.link.text||this.defaultLinkText},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.text=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkTitle",{get:function(){return this.metadata.link&&this.metadata.link.title},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.title=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkUrl",{get:function(){return this.metadata.link&&this.metadata.link.url},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.url=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isWixUrl",{get:function(){return this.linkUrl&&0===this.linkUrl.indexOf("wix")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkTitleFromUrl",{get:function(){var t=/[^/]*\.\w+$/g.exec(this.linkUrl),e=t&&t[0];return e&&e.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unprotectedLinkOpenType",{get:function(){return M.a.get(this,"metadata.link.target")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkOpenType",{get:function(){return this.metadata.link&&!M.a.isUndefined(this.metadata.link.target)?this.unprotectedLinkOpenType:this.metadata.link&&!M.a.isUndefined(this.metadata.link.targetBlank)?this.metadata.link.targetBlank?"_blank":"_top":"_blank"},set:function(t){this.metadata.link||(this.metadata.link={}),this.metadata.link.target=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"initialLinkObject",{get:function(){return{type:"none",url:void 0,text:void 0,title:void 0,target:"_blank"}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDemo",{get:function(){return this.metadata.isDemo||this.dto.isDemo||"public"===this.metadata.sourceName||this.metadata.tags&&Array.isArray(this.metadata.tags)&&this.metadata.tags.indexOf("_paid")>=0},set:function(t){this.metadata.isDemo=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isText",{get:function(){return"text"===this.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVideo",{get:function(){return"video"===this.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRendered",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDimensionless",{get:function(){return!(this.maxWidth>1||this.maxHeight>1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTransparent",{get:function(){return this.url&&(this.url.indexOf(".png")>0||this.url.indexOf(".gif")>0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"directLink",{get:function(){return this.dto.directLink||""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"directShareLink",{get:function(){return this.dto.directShareLink||""},enumerable:!1,configurable:!0}),t}(),k=function(){function t(t){this.uniqueId=M.a.generateUUID(),this.isGalleryGroup=!0,t.dto&&t.dto.dto&&(t.dto=t.dto.dto,M.a.isDev()&&console.warn("Item core is created with already existing item core")),this.dto=Object.assign({},t.dto),t.scheme?this.processScheme(t.scheme):this.processScheme(new E({dto:t.dto}).scheme),t.items?this.items=t.items:console.warn("Pro Gallery created Gallery Group without items",t)}return t.prototype.processScheme=function(t){this.id=t.id,this.idx=t.idx,this.width=t.width,this.height=t.height,this.totalHeight=t.totalHeight,this.ratio=t.ratio,this.top=t.top,this.left=t.left,this.right=t.right,this.bottom=t.bottom,this.visible=t.visible,this.rendered=t.rendered,this.required=t.required},t.prototype.renderProps=function(t){return{className:"group",id:this.id,idx:this.idx,key:this.key,type:this.type,top:this.top,left:this.left,right:this.right,bottom:this.bottom,width:this.width,height:this.height,totalHeight:this.totalHeight,items:this.items,visible:this.visible,rendered:this.rendered,required:this.required,galleryConfig:t}},Object.defineProperty(t.prototype,"key",{get:function(){return"group_"+this.id},enumerable:!1,configurable:!0}),t}(),N=function(){function t(){}return t.convertDtoToLayoutItem=function(t){if(!!(t.id&&t.width>0&&t.height>0))return t;var e=t.metadata||t.metaData,i="object"==typeof e?e:M.a.parseStringObject(e)||{};return Object(r.a)({id:t.itemId||t.photoId,width:i.width,height:i.height},t)},t.convertToGalleryItems=function(t,e,i){void 0===e&&(e={}),void 0===i&&(i=[]),t.galleryItems=[];for(var o=0;o<t.columns.length;o++){var n=t.columns[o];n.galleryGroups=[];for(var a=n.groups||n,s=0;s<a.length;s++){for(var l=a[s],c=[],u=0;u<l.items.length;u++){var h=l.items[u],p=Object(r.a)({scheme:h,dto:h.dto},e),d=i[h.idx],g=void 0;d&&d.id&&d.id===h.id?(g=d).update(p):g=new B(p),c[u]=g,t.galleryItems[h.idx]=c[u]}n.galleryGroups[s]=new k({scheme:l,dto:l.dto,items:c})}}return t},t.convertExistingStructureToGalleryItems=function(t,e,i){void 0===i&&(i={}),M.a.isVerbose()&&console.time("convertToGalleryItems"),t.galleryItems||(t.galleryItems=[]);var r=t.columns.slice(-1)[0].galleryGroups.pop();r&&t.galleryItems.splice(-r.items.length);for(var o=0;o<e.columns.length;o++){var n=e.columns[o],a=t.columns[o]||n;a.galleryGroups||(a.galleryGroups=[]);for(var s=n.groups||n,l=0;l<s.length;l++){for(var c=s[l],u=[],h=0;h<c.items.length;h++){var p=c.items[h];t.galleryItems[p.idx]?t.galleryItems[p.idx].processScheme(p):(u[h]=new B(Object.assign({scheme:p,dto:p.dto},i)),t.galleryItems[p.idx]=u[h])}a.galleryGroups[l]?a.galleryGroups[l].processScheme(c):a.galleryGroups[l]=new k({scheme:c,dto:c.dto,items:u})}n.galleryGroups=a.galleryGroups}return e.galleryItems=t.galleryItems,M.a.isVerbose()&&console.timeEnd("convertToGalleryItems"),e},t}(),U=i(58),F=Object(o.e)(U.a,{layoutParams:{repeatingGroupTypes:""},galleryLayout:-1,gallerySizePx:0,gallerySizeRatio:0,gallerySizeType:L.a.gallerySizeType.SMART,itemShadowOpacityAndColor:"",arrowsColor:"",textBoxBorderColor:"",allowContextMenu:!1,hidePlay:!1,gallerySize:30,cropOnlyFill:!1,rotatingCropRatios:"",columnWidths:"",numberOfImagesPerCol:1,groupsPerStrip:0,imageMargin:10,scatter:0,rotatingScatter:"",placeGroupsLtr:!1,enableInfiniteScroll:!0,thumbnailSpacings:4,enableScroll:!0,scrollSnap:!1,itemClick:L.a.itemClick.NOTHING,slideAnimation:L.a.slideAnimations.SCROLL,scrollDuration:400,arrowsPosition:L.a.arrowsPosition.ON_GALLERY,arrowsVerticalPosition:L.a.arrowsVerticalPosition.ITEM_CENTER,arrowsPadding:23,thumbnailSize:120,magicLayoutSeed:1,imagePlacementAnimation:L.a.imagePlacementAnimations.NO_EFFECT,calculateTextBoxWidthMode:L.a.textBoxWidthCalculationOptions.PERCENT,textBoxWidth:200,textBoxWidthPercent:50,loadMoreButtonText:"",videoSpeed:"1",showVideoControls:!1,shouldIndexDirectShareLinkInSEO:!0,slideTransition:L.a.slideTransition.ease,useMaxDimensions:!1,enableVideoPlaceholder:!0,overlayPosition:L.a.overlayPositions.LEFT,overlaySize:100,overlaySizeType:L.a.overlaySizeType.PERCENT,overlayPadding:0,cubeFitPosition:L.a.cubeFitPosition.MIDDLE,magnificationLevel:2}),W=i(7),G=i(158),H=new(function(){function t(){this.options={},this.container={},this.id="",this._cache={}}return t.prototype.getOrPutInCache=function(t,e){return this._cache[t]||(this._cache[t]=e()),this._cache[t]},t.prototype.dumpCache=function(){this._cache={}},t.prototype.updateParams=function(t){var e=t.options,i=t.container,r=t.id;this.dumpCache(),this.id=r||this.id,this.options=e||this.options,this.container=i||this.container},t.prototype.getGalleryDimensions=function(){var t=this;return this.getOrPutInCache("galleryDimensions",(function(){var e={galleryWidth:Math.ceil(t.getGalleryWidth()),galleryHeight:Math.ceil(t.getGalleryHeight()),scrollBase:t.container.scrollBase?Math.ceil(t.container.scrollBase):0,height:Math.ceil(t.container.height),width:Math.ceil(t.container.width)};if(t.container.externalScrollBase&&(e.scrollBase+=t.container.externalScrollBase),t.options.hasThumbnails){var i=t.options.thumbnailSize+t.options.layoutParams.gallerySpacing+3*t.options.thumbnailSpacings;switch(t.options.galleryThumbnailsAlignment){case"top":case"bottom":e.galleryHeight-=i;break;case"left":case"right":e.galleryWidth-=i}}else L.a.isLayout("SLIDESHOW")(t.options)&&(e.galleryHeight-=t.options.slideshowInfoSize);return e}))},t.prototype.getGalleryWidth=function(){var t=this;return this.getOrPutInCache("galleryWidth",(function(){var e=Math.floor(t.container.width)+2*t.getDimensionFix();return t.options.arrowsPosition===L.a.arrowsPosition.OUTSIDE_GALLERY&&t.options.scrollDirection===L.a.scrollDirection.HORIZONTAL&&(e-=2*(t.options.arrowsSize+40+t.options.imageMargin/2)),e}))},t.prototype.getGalleryHeight=function(){var t=this;return this.getOrPutInCache("galleryHeight",(function(){return Math.floor((t.container.height>0?t.container.height:0)+(t.options.scrollDirection===L.a.scrollDirection.HORIZONTAL?t.getDimensionFix():0))}))},t.prototype.getDimensionFix=function(){var t=this;return this.getOrPutInCache("dimensionFix",(function(){return Number(t.options.imageMargin/2)-Number(t.options.layoutParams.gallerySpacing)}))},t.prototype.getGalleryRatio=function(){var t=this;return this.getOrPutInCache("galleryRatio",(function(){var e=t.getGalleryDimensions();return e.galleryWidth/e.galleryHeight}))},t}()),z=new(function(){function t(){}return t.prototype.createBlueprint=function(t){var e=t.params,i=t.lastParams,r=t.existingBlueprint,o=t.blueprintManagerId,n=t.isUsingCustomInfoElements,a={};try{var s=e.container,l=e.items,c=e.options,u=i.container,h=i.items,p=i.options,d=this.formatItemsIfNeeded(l,h),g=d.formattedItems,m=d.changed,f=this.formatOptionsIfNeeded(c,p,n),y=f.formattedOptions,b=f.changed,S=this.formatContainerIfNeeded(s,u,p,y||r.options,b),v=S.formattedContainer,_=S.changed,O=m||b||_;if(a={itemsChanged:m,optionsChanged:b,containerChanged:_},O||!r){r||(r={});var I=this.createStructure({formattedContainer:v||r.container,formattedItems:g||r.items,formattedOptions:y||r.options},O);y&&(r.options=y),g&&(r.items=g),v&&(r.container=v),r.structure=I,r.options.scrollDirection===L.a.scrollDirection.VERTICAL&&r.options.enableInfiniteScroll&&(r.container.height=r.container.galleryHeight=I.height)}}catch(t){console.error("Could not create blueprint, error:",t)}return{blueprint:r,changedParams:a,blueprintManagerId:o}},t.prototype.formatItemsIfNeeded=function(t,e){var i,r={items:"",itemsAdded:""},o=e,n=!1;return!function(t,e){if(t===e)return r.itemsAdded="items are the same object.",!1;if(!t)return r.itemsAdded="new items do not exist.",!1;if(!e||e&&0===e.length)return r.itemsAdded="old items do not exist.",!1;if(e.length>=t.length)return r.itemsAdded="more old items than new items.",!1;var i=e.reduce((function(e,i,r){return e&&i.id===t[r].itemId}),!0);return i||(r.itemsAdded="items ids were changed. "),i}(t,o)?function(t,e){return t===e?(r.items="items are the same object.",!1):t?!e||e&&0===e.length?(r.items="old items do not exist.",!0):e.length!==t.length?(r.items="more new items than old items (or vice versa).",!0):t.some((function(t,i){var o=e[i];try{var n=!t||!o||t.itemId!==o.itemId||t.mediaUrl!==o.mediaUrl||t.measured!==o.measured||t.metaData&&o.metaData&&(t.metaData.type!==o.metaData.type||t.metaData.title!==o.metaData.title||t.metaData.description!==o.metaData.description)||t.metaData&&"text"===t.metaData.type&&o.metaData&&"text"===o.metaData.type&&(t.metaData.width!==o.metaData.width||t.metaData.height!==o.metaData.height||t.metaData.html!==o.metaData.html||t.metaData.textStyle!==o.metaData.textStyle||t.metaData.editorHtml!==o.metaData.editorHtml);return n&&(r.items="items #"+i+" id was changed."),n}catch(t){return r.items="an error occured",!0}}),!1):(r.items="new items do not exist.",!1)}(t,o)&&(i=t.map((function(t){return Object.assign(N.convertDtoToLayoutItem(t))})),this.gettingMoreItems=!1,n=!0):(i=o.concat(t.slice(o.length).map((function(t){return N.convertDtoToLayoutItem(t)}))),this.gettingMoreItems=!1,n=!0),{formattedItems:i,changed:n}},t.prototype.formatOptionsIfNeeded=function(t,e,i){var o,n={options:""},a=!1;return function(t,e){if(!t)return n.options="no new options.",!1;if(!e)return n.options="no old options.",!0;try{var i={};Object.keys(e).sort().forEach((function(t){return i[t]=e[t]}));var r={};Object.keys(t).sort().forEach((function(e){return r[e]=t[e]}));var o=JSON.stringify(r)!==JSON.stringify(i);return o&&(n.options="options were changed."),o}catch(t){return console.error("Could not compare options",t),!1}}(t,e)&&(t=Object(r.a)(Object(r.a)({},F),t),o=v(_(Object(W.b)(Object(G.a)(t),i))),a=!0),{formattedOptions:o,changed:a}},t.prototype.formatContainerIfNeeded=function(t,e,i,r,o){var n,a={container:""},s=!1;return(o||function(t){var e=t.newContainerParams,i=t.oldContainerParams;if(!t.oldOptions||!i)return a.container="no old container or options. ",!0;if(!e)return a.container="no new container.",!1;var o={height:(r.scrollDirection!==L.a.scrollDirection.VERTICAL||!r.enableInfiniteScroll)&&(!!e.height&&e.height!==i.height),width:!i||!!e.width&&e.width!==i.width};return Object.keys(o).reduce((function(t,e){return o[e]&&(a.container+="container."+e+" has changed. "),t||o[e]}),!1)}({newContainerParams:t,oldContainerParams:e,oldOptions:i}))&&(H.updateParams({options:r,container:t}),s=!0,n=Object.assign({},t,H.getGalleryDimensions())),{formattedContainer:n,changed:s}},t.prototype.createStructure=function(t){var e=t.formattedContainer,i=t.formattedOptions,r={items:t.formattedItems,container:e,styleParams:i,options:{showAllItems:!0,skipVisibilitiesCalc:!0,useLayoutStore:!1}};return r.options.createLayoutOnInit=!1,this.layouter=new A(r),this.layouter.createLayout(r)},t}()),V=i(30),K=function(){function t(t){var e=t.id;this.id=e+"'s blueprintsManager",this.currentState={},this.existingBlueprint={},this.cache={},this.api={},this.currentState.totalItemsCount=1/0,this.onBlueprintReady=function(){},this.loopingItems=!1}return t.prototype.init=function(t){this.api=t.api,this.currentState.totalItemsCount=t&&t.totalItemsCount||this.currentState.totalItemsCount,V.d.setDeviceType(t.deviceType)},t.prototype.createBlueprint=function(t){return void 0===t&&(t={}),Object(r.b)(this,void 0,void 0,(function(){var e,i,o,n,a,s,l=this;return Object(r.c)(this,(function(c){switch(c.label){case 0:return this.currentState.totalItemsCount=t.totalItemsCount||this.api.getTotalItemsCount&&this.api.getTotalItemsCount()||this.currentState.totalItemsCount,this.currentState.isUsingCustomInfoElements=t.isUsingCustomInfoElements||this.api.isUsingCustomInfoElements&&this.api.isUsingCustomInfoElements()||this.currentState.isUsingCustomInfoElements,e=[Object(r.a)({},t)],[4,this.completeParams(t)];case 1:return t=r.a.apply(void 0,e.concat([c.sent()])),[4,function(t){return Object(r.b)(l,void 0,void 0,(function(){return Object(r.c)(this,(function(e){switch(e.label){case 0:return this.api.createBlueprintImp?[4,this.api.createBlueprintImp(t)]:[3,2];case 1:return[2,e.sent()];case 2:return[4,z.createBlueprint(t)];case 3:return[2,e.sent()]}}))}))}({params:t,lastParams:this.currentState,existingBlueprint:this.existingBlueprint,blueprintManagerId:this.id,isUsingCustomInfoElements:this.currentState.isUsingCustomInfoElements})];case 2:return i=c.sent(),o=i.blueprint,n=i.changedParams,a=Object.values(n).some((function(t){return!!t})),s=Object.keys(o).length>0,this.updateLastParamsIfNeeded(t,n,s),s&&this.api.onBlueprintReady&&this.api.onBlueprintReady({blueprint:o,blueprintChanged:a}),[2,this.cache[t]=this.existingBlueprint=o]}}))}))},t.prototype.getMoreItems=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(i){switch(i.label){case 0:return t<this.currentState.totalItemsCount?[4,this.api.fetchMoreItems(t)]:[3,2];case 1:return(e=i.sent())&&this.createBlueprint({items:e}),[3,3];case 2:this.existingBlueprint.options.slideshowLoop&&this.duplicateGalleryItems(),i.label=3;case 3:return[2]}}))}))},t.prototype.resetItemLooping=function(){this.loopingItems=!1},t.prototype.createInitialBlueprint=function(t){this.currentState.totalItemsCount=t.totalItemsCount||this.api.getTotalItemsCount&&this.api.getTotalItemsCount()||this.currentState.totalItemsCount,this.currentState.isUsingCustomInfoElements=t.isUsingCustomInfoElements||this.api.isUsingCustomInfoElements&&this.api.isUsingCustomInfoElements()||this.currentState.isUsingCustomInfoElements;var e=z.createBlueprint({params:t,lastParams:this.currentState,existingBlueprint:this.existingBlueprint,blueprintManagerId:this.id,isUsingCustomInfoElements:this.currentState.isUsingCustomInfoElements}),i=e.blueprint,r=e.changedParams,o=Object.values(r).some((function(t){return!!t})),n=Object.keys(i).length>0;return this.updateLastParamsIfNeeded(t,r,n),n&&this.api.onBlueprintReady&&this.api.onBlueprintReady({blueprint:i,blueprintChanged:o,initialBlueprint:!0}),n&&(this.cache[t]=this.existingBlueprint=i)},t.prototype.createSingleBlueprint=function(t){void 0===t&&(t={});var e=t.isUsingCustomInfoElements;return z.createBlueprint({params:t,lastParams:{},existingBlueprint:{},blueprintManagerId:this.id+"_singleBlueprint",isUsingCustomInfoElements:e}).blueprint},t.prototype.duplicateGalleryItems=function(){var t,e=(t=this.currentState.items).concat.apply(t,this.currentState.items.slice(0,this.currentState.totalItemsCount));this.loopingItems=!0,this.createBlueprint({items:e})},t.prototype.completeParams=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e,i,o,n,a;return Object(r.c)(this,(function(r){switch(r.label){case 0:return i=(e=t||{}).container,o=e.items,n=e.options,a=e.id,[4,this.fetchContainerIfNeeded(i)];case 1:return i=r.sent(),[4,this.fetchItemsIfNeeded(o)];case 2:return o=r.sent(),[4,this.fetchOptionsIfNeeded(n)];case 3:return n=r.sent(),[2,{container:i,items:o,options:n,id:a}]}}))}))},t.prototype.fetchContainerIfNeeded=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(i){switch(i.label){case 0:return function(t){var e=!0;return t&&Object.keys(t).length>0&&(e=!1),e}(t)?(e=this.api.fetchContainer)?[4,this.api.fetchContainer()]:[3,2]:[3,3];case 1:e=i.sent(),i.label=2;case 2:t=e||this.currentState.container,i.label=3;case 3:return[2,t]}}))}))},t.prototype.fetchItemsIfNeeded=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(i){switch(i.label){case 0:return function(t){var e=!0;return t&&t.length>0&&(e=!1),e}(t)?(e=!this.loopingItems&&this.api.fetchItems)?[4,this.api.fetchItems()]:[3,2]:[3,3];case 1:e=i.sent(),i.label=2;case 2:t=e||this.currentState.items,i.label=3;case 3:return[2,t]}}))}))},t.prototype.fetchOptionsIfNeeded=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(i){switch(i.label){case 0:return function(t){var e=!0;return t&&Object.keys(t).length>0&&(e=!1),e}(t)?(e=this.api.fetchOptions)?[4,this.api.fetchOptions()]:[3,2]:[3,3];case 1:e=i.sent(),i.label=2;case 2:t=e||this.currentState.options,i.label=3;case 3:return[2,t]}}))}))},t.prototype.updateLastParamsIfNeeded=function(t,e,i){var o=t.items,n=t.container,a=t.options;i&&(this.currentState.items=e.itemsChanged?o:this.currentState.items,this.currentState.container=e.containerChanged?Object(r.a)({},n):this.currentState.container,this.currentState.options=e.optionsChanged?Object(r.a)({},a):this.currentState.options)},t.prototype.needMoreItems=function(t){this.getMoreItems(t)},t}(),q=i(11),Y=i(43),Z=i(79),X=i(26),$=i(162),J=i(3),Q=function(t,e){var i=e.dto.imageToken||e.dto.token;return i?(t=t.replace(/,wm_.+\//g,"/"))+"?token="+i:t},tt=i(19),et=function(t){var e=void 0===t?{}:t,i=e.imageToken,o=e.staticMediaUrls;return function(t){return st(Object(r.a)(Object(r.a)({},t),{imageToken:i,staticMediaUrls:o}))}},it=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i=t[0],r=1;r<t.length;++r)i=i.replace(/\/$/,"")+"/"+t[r].replace(/^\//,"");return i},rt=function(t,e){var i=/(^https?)|(^data)|(^blob)/.test(t),r=0===t.indexOf(e),o=t.indexOf("preventResize")>0;return i&&(!r||o)},ot=function(t,e){return rt(t,e)?t:it(e,t)},nt=function(t){var e=t.item,i=t.originalUrl,r=t.resizeMethod,o=t.requiredWidth,n=t.requiredHeight,a=t.sharpParams,s=t.focalPoint,l=t.useWebp,c=void 0!==l&&l,u=t.devicePixelRatio,h=void 0===u?1:u,p=t.WIX_MEDIA_PREFIX,d=Math.max(tt.a.isMobile()&&!tt.a.isSSR()?J.a.screen.width/320:1,1);o=Math.ceil(o*h*d),n=Math.ceil(n*h*d);var g=ot(i,p);return g+=function(){if(!s||s.every((function(t){return.5===t})))return r="fit"===r?"fit":"fill",n<=1&&o<=1&&(r="fill"),"/v1/"+r+"/w_"+o+",h_"+n;var t=s.map((function(t){return String(Math.floor(100*t)/100).slice(0,4)})).join("_");return"/v1/fill/w_"+o+",h_"+n+",fp_"+t}(),g+=function(){(a=a||{}).quality||(a.quality=90),a.quality=Math.min(90,a.quality),!0===a.allowUsm&&(a.usm.usm_a=Math.min(5,Math.max(0,a.usm.usm_a||0)),a.usm.usm_r=Math.min(128,Math.max(0,a.usm.usm_r||0)),a.usm.usm_t=Math.min(1,Math.max(0,a.usm.usm_t||0)));var t="";return t+=",q_"+a.quality,a.blur&&!(i.indexOf(".png")>0||i.indexOf(".gif")>0)&&(t+=",blur_"+a.blur),t+=a.usm&&a.usm.usm_r?",usm_"+a.usm.usm_r.toFixed(2)+"_"+a.usm.usm_a.toFixed(2)+"_"+a.usm.usm_t.toFixed(2):""}(),g+="/"+(c?i.replace(/[^.]\w*$/,"webp"):i).match(/[^/][\w.~]*$/)[0],g=Q(g,e)},at=function(t){return{jpg:"jpeg",jpeg:"jpeg",png:"png",gif:"gif"}[t.match(/[^\.]\w*$/)[0]]||"jpeg"},st=function(t){var e=t.item,i=t.originalUrl,o=t.resizeMethod,n=t.requiredWidth,a=t.requiredHeight,s=t.sharpParams,l=void 0===s?{}:s,c=t.focalPoint,u=void 0===c?[.5,.5]:c,h=t.createMultiple,p=void 0!==h&&h,d=t.imageToken,g=void 0===d?"":d,m=t.staticMediaUrls,f=void 0===m?{}:m,y=(null==f?void 0:f.staticMediaUrl)?f.staticMediaUrl:"https://static.wixstatic.com/media/",b=(null==f?void 0:f.staticVideoUrl)?f.staticVideoUrl:"https://video.wixstatic.com/",S=e.dto.imageToken||e.dto.token||g,v={item:e,originalUrl:i=function(t,e){if(t.indexOf("preventResize")>=0)return t;t=t.replace(e,"");var i=/(\/v\d\/(fill|fit|crop)\/(((w|h|x|y|scl|al|q)_[cf\d]*)\,?)*){1,}/.exec(t);return i&&i.index>0?t.substr(0,i.index):t}(i,y),resizeMethod:o,requiredWidth:n,requiredHeight:a,sharpParams:l,focalPoint:u};return"video"===o?function(t,e){var i=t.item,r=t.originalUrl,o=t.requiredHeight,n=r;if(i.qualities&&i.qualities.length){var a="/",s=i.qualities.filter((function(t){return"mp4"===t.formats[0]}));s.length>1&&s[0].height>s[1].height&&s.reverse();for(var l=void 0,c=0;l=s[c];c++)if(l.height>=o||!s[c+1]){a+=l.quality;for(var u=void 0,h=0;u=l.formats[h];h++)n=it(e,"video/",i.url,a,u,"/file."+u);break}return n}}(v,b):rt(i,y)?i:"full"!==o||S?p?[{type:"webp",url:nt(Object(r.a)(Object(r.a)({},v),{useWebp:!0,devicePixelRatio:1,WIX_MEDIA_PREFIX:y})),dpr:[1,2].map((function(t){return nt(Object(r.a)(Object(r.a)({},v),{useWebp:!0,devicePixelRatio:t,WIX_MEDIA_PREFIX:y}))+" "+t+"x"})).join(", ")},{type:at(i),url:nt(Object(r.a)(Object(r.a)({},v),{useWebp:!1,devicePixelRatio:1,WIX_MEDIA_PREFIX:y})),dpr:[1,2].map((function(t){return nt(Object(r.a)(Object(r.a)({},v),{useWebp:!1,devicePixelRatio:t,WIX_MEDIA_PREFIX:y}))+" "+t+"x"})).join(", ")}]:nt(Object(r.a)(Object(r.a)({},v),{WIX_MEDIA_PREFIX:y})):ot(i,y)},lt=i(6),ct=i.n(lt),ut=i(8),ht=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=tt.a.isMobile());var o=t&&(t.numbers||t.colors||t.booleans||t.fonts)?Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},t.numbers),t.colors),t.booleans),t.fonts):t,n={allowDownload:!1,allowSocial:!0,loveButton:!0,isStoreGallery:e,loveCounter:!0,allowTitle:!0,allowTitleExpand:!0,allowDescriptionExpand:!0,allowLinkExpand:!0,allowFullscreenExpand:!0,allowExifExpand:!1,defaultShowInfoExpand:!0,showInfoExpandButton:!0,expandInfoPosition:"SIDE",addToCartButtonText:"",galleryAlignExpand:"left",fullscreenLoop:!1,mobileSwipeAnimation:ut.a.mobileSwipeAnimations.EXPAND,enableFullscreenVideoPlaceholder:!0,allowFullscreenMagnifyImage:!1,fullscreenMagnificationLevel:2};if(i&&(o=function(t){return Object.keys(t).forEach((function(e){e.startsWith("m_")&&(t[e.slice(2)]=t[e])})),t}(o)),ct.a.merge(n,ct.a.pick(o,["isRTL","isAccessible","actionsColorExpand","addToCartColorExpand","addToCartBackColorExpand","addToCartBorderColor","addToCartFontExpand","addToCartBorderWidth","bgColorExpand","titleColorExpand","descriptionColorExpand","titleFontExpand","descriptionFontExpand","allowDownload","allowSocial","loveButton","allowTitle","allowTitleExpand","allowDescriptionExpand","allowExifExpand","allowLinkExpand","allowFullscreenExpend","addToCartButtonText","fullscreenLoop","expandInfoPosition"])),ct.a.isUndefined(o.expandInfoPosition)||(n.expandInfoPosition=o.expandInfoPosition?"BOTTOM":"SIDE"),ct.a.isUndefined(o.loveCounter)||(n.loveCounter=0===o.loveCounter),!ct.a.isUndefined(o.galleryAlignExpand))switch(o.galleryAlignExpand){case 0:default:n.galleryAlignExpand="left",n.galleryAlignExpandIcons={float:"left"};break;case 1:n.galleryAlignExpand="center",n.galleryAlignExpandIcons={margin:"auto"};break;case 2:n.galleryAlignExpand="right",n.galleryAlignExpandIcons={float:"right"}}if(ct.a.isUndefined(o.videoSpeed)||(n.videoSpeed=o.videoSpeed),ct.a.isUndefined(o.videoLoop)||(n.videoLoop=o.videoLoop),ct.a.isUndefined(o.enableFullscreenVideoPlaceholder)||(n.enableFullscreenVideoPlaceholder=o.enableFullscreenVideoPlaceholder),ct.a.isUndefined(o.mobileSwipeAnimation)||("1"===String(o.mobileSwipeAnimation)?n.mobileSwipeAnimation=ut.a.mobileSwipeAnimations.FADE:"2"===String(o.mobileSwipeAnimation)?n.mobileSwipeAnimation=ut.a.mobileSwipeAnimations.CAROUSEL:n.mobileSwipeAnimation=ut.a.mobileSwipeAnimations.EXPAND),i?n.defaultShowInfoExpand=!1:ct.a.isUndefined(o.defaultShowInfoExpand)?n.showInfoExpandButton=!1:(n.defaultShowInfoExpand=1===o.defaultShowInfoExpand||o.expandInfoPosition,n.showInfoExpandButton=0===o.defaultShowInfoExpand&&!o.expandInfoPosition),ct.a.isUndefined(o.addToCartButtonText)||(n.addToCartButtonText=String(o.addToCartButtonText)),ct.a.isUndefined(o.allowFullscreenExpand)||(n.allowFullscreenExpand=o.allowFullscreenExpand),ct.a.isUndefined(o.allowFullscreenMagnifyImage)||(n.allowFullscreenMagnifyImage=o.allowFullscreenMagnifyImage),ct.a.isUndefined(o.fullscreenMagnificationLevel)||(n.fullscreenMagnificationLevel=o.fullscreenMagnificationLevel/100),!ct.a.isUndefined("itemClick"))if("number"==typeof o.itemClick)switch(o.itemClick){case 0:default:n.itemClick="expand";break;case 1:n.itemClick="link";break;case 2:n.itemClick="nothing";break;case 3:n.itemClick="fullscreen"}else"expand"===o.itemClick||"link"===o.itemClick||"nothing"===o.itemClick||"fullscreen"===o.itemClick?n.itemClick=o.itemClick:n.itemClick="expand";return n.sharpParams={quality:90,usm:{}},ct.a.isUndefined(o.usmToggle)||!0!==o.usmToggle||(n.sharpParams.allowUsm=o.usmToggle,ct.a.isUndefined(o.imageQuality)||(n.sharpParams.quality=o.imageQuality),ct.a.isUndefined(o.usm_a)||(n.sharpParams.usm.usm_a=(o.usm_a||0)/100),ct.a.isUndefined(o.usm_r)||(n.sharpParams.usm.usm_r=o.usm_r),ct.a.isUndefined(o.usm_t)||(n.sharpParams.usm.usm_t=(o.usm_t||0)/255)),n};var pt=function(){function t(t){var e=t.getMoreItems,i=t.getItems,r=t.getContainer,o=t.getOptions,n=t.onBlueprintReady,a=t.getTotalItemsCount,s=t.createBlueprintImp;this.getMoreItems=e||function(){},this.getItems=i||function(){},this.getOptions=o||function(){},this.getContainer=r||function(){},this.getTotalItemsCount=a||function(){},this.onBlueprintReadyCallback=n||function(){},this.createBlueprintImp=s}return t.prototype.updateFunctions=function(t){var e=t.getMoreItems,i=t.getItems,r=t.getContainer,o=t.getOptions,n=t.onBlueprintReady,a=t.getTotalItemsCount,s=t.createBlueprintImp;this.getMoreItems=e||function(){},this.getItems=i||function(){},this.getOptions=o||function(){},this.getContainer=r||function(){},this.getTotalItemsCount=a||function(){},this.onBlueprintReadyCallback=n||function(){},this.createBlueprintImp=s},t.prototype.fetchMoreItems=function(t){this.getMoreItems(t)},t.prototype.fetchItems=function(){return this.getItems()},t.prototype.fetchOptions=function(){return this.getOptions()},t.prototype.fetchContainer=function(){return this.getContainer()},t.prototype.onBlueprintReady=function(t){var e=t.blueprint,i=t.blueprintChanged;this.onBlueprintReadyCallback(e,i)},t.prototype.isUsingCustomInfoElements=function(){return!0},t}(),dt="love",gt=function(){function t(){this.getEncodedContextToken=this.getEncodedContextToken.bind(this)}return t.prototype.getItemsLoveData=function(t,e,i,o,n,a){return Object(r.b)(this,void 0,void 0,(function(){var s,l,c,u,h,p,d;return Object(r.c)(this,(function(r){switch(r.label){case 0:s=this.getEncodedContextToken(o,n),l=t.map((function(t){return t.itemId})),c=l.join("&resourceIds="),u=i+"/_api/reactions-server/v1/reactions?contextToken="+s+"&resourceIds="+c,r.label=1;case 1:return r.trys.push([1,6,,7]),[4,fetch(u,{method:"GET",headers:{"Content-Type":"application/json",Authorization:e}})];case 2:return 200!==(h=r.sent()).status?[3,4]:[4,h.json()];case 3:return[2,r.sent().responses];case 4:return d="Reaction-Service error - Worker - GET call response status: "+h.status,q.b.isVerbose()&&console.error(d),a(d),[2,{error:d}];case 5:return[3,7];case 6:return p=r.sent(),d="Reaction-Service error - Worker - some error when requesting data from reaction-service: "+p.message,a(d),q.b.isVerbose()&&console.error(d),[2,{error:d}];case 7:return[2]}}))}))},t.prototype.shouldUseReactionService=function(){return X.a.getExperimentBoolean("specs.pro-gallery.useReactionService")},t.prototype.getEncodedContextToken=function(t,e){var i={authorizerAppDefId:e,contextId:t,contextType:dt};return encodeURIComponent(JSON.stringify(i))},t}(),mt=new gt,ft=Object(o.e)(U.a,{layoutParams:{cropRatio:1},gotStyleParams:!0,selectedLayout:0,gallerySize:45,cubeType:"fit",allowSocial:!0,allowDownload:!0,allowTitle:!0,allowDescription:!0,loveButton:!0,loveCounter:!1,videoPlay:"auto",gallerySliderImageRatio:1.3333333333333333,galleryImageRatio:2,sharpParams:{quality:90,usm:{}},collageAmount:.8,collageDensity:1,floatingImages:0,viewMode:"preview",galleryHorizontalAlign:"center",galleryVerticalAlign:"center",enableInfiniteScroll:1,itemClick:"link",fixedColumns:0,scrollDirection:L.a.scrollDirection.VERTICAL,showArrows:!1,thumbnailSpacings:5,gridStyle:1,mobilePanorama:!1,expandAnimation:"NO_EFFECT",itemBorderColor:{themeName:"color_15",value:"rgba(0,0,0,1)"},itemShadowOpacityAndColor:{themeName:"color_15",value:"rgba(0,0,0,0.2)"},textBoxBorderColor:{themeName:"color_15",value:"rgba(0,0,0,1)"},titleDescriptionSpace:6,textsVerticalPadding:0,textsHorizontalPadding:0,textBoxFillColor:{themeName:"color_12",value:"rgba(230,230,230,1)"},textImageSpace:10,alwaysShowHover:!1,isStoreGallery:!1,previewHover:!1,calculateTextBoxHeightMode:"AUTOMATIC",galleryLayout:5,thumbnailSize:120,useCustomButton:!1,itemOpacity:{themeName:"color_14",value:"rgba(155,155,155,0.6)"},itemFont:{style:{bold:!0,italic:!1,underline:!1},family:"open sans",preset:"Heading-M",editorKey:"font_5",size:22,fontStyleParam:!0,displayName:"Basic Heading",value:'font:normal normal bold 22px/1.4em "open sans",sans-serif;'},itemFontSlideshow:{family:"avenir-lt-w01_85-heavy1475544",displayName:"Basic Heading",style:{bold:!1,italic:!1,underline:!1},size:22,preset:"Custom",editorKey:"font_5",fontStyleParam:!0,value:"font:normal normal normal 22px/27px avenir-lt-w01_85-heavy1475544,sans-serif;"},itemDescriptionFontSlideshow:{family:"avenir-lt-w01_35-light1475496",displayName:"Paragraph 2",style:{bold:!1,italic:!1,underline:!1},size:15,preset:"Custom",editorKey:"font_8",fontStyleParam:!0,value:"font:normal normal normal 15px/18px avenir-lt-w01_35-light1475496,sans-serif;"},itemDescriptionFont:{family:"avenir-lt-w01_35-light1475496",displayName:"Paragraph 2",style:{bold:!1,italic:!1,underline:!1},size:15,preset:"Custom",editorKey:"font_8",fontStyleParam:!0,value:"font:normal normal normal 15px/18px avenir-lt-w01_35-light1475496,sans-serif;"},itemFontColor:{themeName:"color_11",value:"rgba(255,255,255,1)"},itemFontColorSlideshow:{themeName:"color_15",value:"rgba(0,0,0,1)"},itemDescriptionFontColor:{themeName:"color_11",value:"rgba(255,255,255,1)"},itemDescriptionFontColorSlideshow:{themeName:"color_15",value:"rgba(0,0,0,1)"},loadMoreButtonText:"Load More",loadMoreButtonFont:{family:"open sans",displayName:"Paragraph 2",style:{bold:!1,italic:!1,underline:!1},size:15,preset:"Body-M",editorKey:"font_8",fontStyleParam:!0,value:'font:normal normal normal 15px/1.4em "open sans",sans-serif;'},loadMoreButtonFontColor:{themeName:"color_15",value:"rgba(0,0,0,1)"},loadMoreButtonColor:{themeName:"color_11",value:"rgba(255,255,255,1)"},loadMoreButtonBorderColor:{themeName:"color_15",value:"rgba(0,0,0,1)"},arrowsColor:{themeName:"color_11",value:"rgba(255,255,255,1)"},oneColorAnimationColor:{themeName:"color_11",value:"rgba(255,255,255,1)"},isAccessible:!1});delete ft.pauseAutoSlideshowOnHover,delete ft.scrollDirection,delete ft.slideAnimation,delete ft.jsonStyleParams;var yt=function(){var t=this;this.promise=new Promise((function(e,i){t.reject=i,t.resolve=e}))},bt={totalItemsCount:0,items:[]},St={desktop:{avoidGallerySelfMeasure:!0,width:980,height:500,screen:{width:1920,height:1080},mobilePreviewFrame:{width:1920,height:1080}},mobile:{avoidGallerySelfMeasure:!0,width:320,height:640,screen:{width:320,height:640},mobilePreviewFrame:{width:320,height:640}}},vt=function(){function t(t){var e=this,i=t.context,r=t.wixCodeApi,o=t.platformServices,n=t.scopedGlobalSdkApis,a=t.APP_DEFINITION_ID,s=t.GALLERY_WIDGET_ID,l=t.isArtStore,c=t.setBlueprintCallback,u=t.setKnownDimensionsCallback,h=t.avoidGettingItemsFromPGServer,p=t.setItemsLoveDataCallback,d=t.sentryReport,g=t.fetcher,m=t.SSRWorkerLog;this.createFedopsLogger=function(t){var i=t.fedOpsLoggerFactory;e.fedopsLogger=i.getLoggerForWidget({appId:e.APP_DEFINITION_ID,widgetId:e.GALLERY_WIDGET_ID})},this.tryToReportAppLoaded=function(){if(e.isAppLoadStartReported&&!e.isAppLoadedReported)try{e.isSSR()?e.fedopsLogger.appLoaded():e.fedopsLogger.appLoaded(e.getFedopsCustomParams()),e.isAppLoadedReported=!0}catch(t){q.b.isVerbose()&&console.log("cant run fedopsLogger.appLoaded()",t)}},this.initFlowPromises(),this.setBlueprintCallback=c,this.setItemsLoveDataCallback=p,this.setKnownDimensionsCallback=u,this.context=i,this.fetcher=g,this.setItemsCurrentId=0,this.setStyles(i.styles),this.wixCodeApi=r,this.directfullscreenItem="init",this.SSRWorkerLog=m,this.APP_DEFINITION_ID=a,this.GALLERY_WIDGET_ID=s,this.isArtStore=l,this.avoidGettingItemsFromPGServer=h,this.isAccessible=!1,this.getMoreItemsFromServer=this.getMoreItemsFromServer.bind(this),this.getMoreWixCodeItems=this.getMoreWixCodeItems.bind(this),this.loadInitialWixCodeItems=this.loadInitialWixCodeItems.bind(this),this.getItemsFromWixCode=this.getItemsFromWixCode.bind(this),this.setBlueprintIfNeeded=this.setBlueprintIfNeeded.bind(this),this.loadDirectFullscreenItemFromWixCode=this.loadDirectFullscreenItemFromWixCode.bind(this),this.prepareAndSetItems=this.prepareAndSetItems.bind(this),this.prepareItems=this.prepareItems.bind(this),this.getItems=this.getItems.bind(this),this.setDirectFullscreenItem=this.setDirectFullscreenItem.bind(this),this.setDirectFullscreenMockBlueprint=this.setDirectFullscreenMockBlueprint.bind(this),this.createDirectFullscreenBlueprintMockIfNeeded=this.createDirectFullscreenBlueprintMockIfNeeded.bind(this),this.createDirectFullscreenMockBlueprint=this.createDirectFullscreenMockBlueprint.bind(this),this.itemDimensionsCache={},this.viewMode=q.a.parseViewMode(this.wixCodeApi.window.viewMode),this.deviceType=q.a.formFactorToDeviceType(this.wixCodeApi.window.formFactor),this.isMobile=q.b.isMobile(this.deviceType),this.initDefaultDimensions(),this.initSavedUserDimensions(),this.baseUrl=q.a.getBaseUrl(this.wixCodeApi,this.viewMode),this.SSRWorkerLog.push("baseUrl: "+this.baseUrl),this.scopedGlobalSdkApis=n,this.pgRenderStart=Date.now(),this.sentryReport=d,this.setDirectfullscreenOnce=!1,this.ITEMS_BATCH_SIZE=50,this.INITIAL_ITEMS_BATCH_SIZE=50,this.shouldUseBlueprintsFromServer=!1,this.directFullscreenMockBlueprint=!1;try{this.createFedopsLogger(o),this.fedopsLogger.appLoadStarted(),this.isAppLoadStartReported=!0}catch(t){console.error("Cannot create fedops logger",t),this.fedopsLogger={appLoaded:function(){},appLoadStarted:function(){}},this.isAppLoadStartReported=!0}this.fullListOfItemsLoveData=[],this.SSRWorkerLog.push("finnished the pgStore constructor. this isSSR?: "+(this.isSSR()?"TRUE":"FALSE"))}return t.prototype.initDefaultDimensions=function(){this.isKnownHeight=!1,this.isKnownWidth=!1,this.dimensions=Object(r.a)({},St[this.isMobile?"mobile":"desktop"])},t.prototype.initSavedUserDimensions=function(){this.viewMode!==L.a.viewMode.EDIT&&(this.predefinedUserDimensions=this.context.dimensions?q.a.onlyNumericValues(this.context.dimensions):{},this.prerenderContainer=Object(r.a)(Object(r.a)({isPrerenderContainer:!0},this.predefinedUserDimensions.width&&{width:this.predefinedUserDimensions.width}),this.predefinedUserDimensions.height&&{height:this.predefinedUserDimensions.height}),this.setDimensions(this.prerenderContainer))},t.prototype.isSSR=function(){return"backend"===this.wixCodeApi.window.rendering.env},t.prototype.isSEO=function(){return this.wixCodeApi.seo.isInSEO()},t.prototype.getFedopsCustomParams=function(){return{customParams:JSON.stringify({gallery_id:this.fetcher.galleryId||"galleryId is undefined"})}},t.getSiteUrl=function(t){return t.location.baseUrl},t.getPageUrl=function(t){return t.location.url.split("?")[0]},t.prototype.createShareUrl=function(e,i){return this.isArtStore?null:t.getPageUrl(i)+"?pgid="+this.context.compId.replace("comp-","")+"-"+e},t.getCurrentDirectFullscreenUrl=function(e){var i=t.getPageUrl(e),r=e.location.query,o=r&&r.pgid;return o?i+"?pgid="+o:null},t.getTranslations=function(t){return fetch(t).then((function(t){return t.json()})).catch((function(){return{}}))},t.prototype.getConnectedProvidersFromServer=function(t){void 0===t&&(t=!1);var e=this.context.instance;t&&(e=t);var i=this.baseUrl+"/_api/pro-gallery-webapp/v1/store/providers?instance="+e;return fetch(i).then((function(t){return t.json()}))},t.prototype.getQueryParams=function(){return this.wixCodeApi.location.query},t.prototype.isValidUUID=function(t){return!!t.match(/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i)},t.prototype.getMoreItemsFromServer=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e;return Object(r.c)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.fetcher.getGalleryDataFromServer({from:t})];case 1:return[2,i.sent().items];case 2:return e=i.sent(),console.error("couldnt get more items from server",e),[2,bt];case 3:return[2]}}))}))},t.prototype.navigateToLink=function(t){var e=t&&t.dto&&t.dto.metaData&&t.dto.metaData.link;try{if(e)if("web"===e.type)this.wixCodeApi.location.to(e.url);else if("page"===e.type)try{var i=this.wixCodeApi.site.getSiteStructure({includePageId:!0}).pages.find((function(t){return t.id===e.url})).url;this.wixCodeApi.location.to(i)}catch(t){console.warn("Cannot navigate to page",t)}else if("wix"===e.type){var r=e.data;if(r)this.wixCodeApi.location.getExternalUrl(r)?console.error("this should have been handled by <a href>"):this.wixCodeApi.location.navigateTo(r)}}catch(t){console.error(t)}},t.prototype.getVideoMediaId=function(t){return t.metaData.videoUrl&&t.metaData.videoUrl.includes("wix:video://")?t.metaData.videoUrl.split("/")[3]||t.itemId:t.mediaUrl},t.prototype.getItemWithVideoUrls=function(t){var e=this.getVideoMediaId(t);return Z.getVideoURLs(e).then((function(e){if(t.metaData.qualities=e.filter((function(t){return"MP4"===t.type})).map((function(e){var i=e.url,r=e.quality,o=parseInt(r);return{url:i,height:o,width:Math.floor(o*t.metaData.width/t.metaData.height),quality:r,formats:["mp4"]}})),t.metaData.videoUrl=void 0,X.a.getExperimentBoolean("specs.pro-gallery.excludeFromHlsVideos"))t.metaData.ghostItem=!0;else{var i=e.filter((function(t){return"HLS"===t.type}));i.length>0&&(t.metaData.videoUrl=i[0].url)}return t})).catch((function(e){return t.metaData.ghostItem=!0,t}))},t.prototype.getItemsWithWixVideosUrls=function(t){var e=this,i=t.map((function(t){return e.isUnreadyVideoFile(t)?e.getItemWithVideoUrls(t):Promise.resolve(t)}));return Promise.all(i)},t.prototype.replaceByPlaceHolder=function(t){return{itemId:t.itemId,mediaUrl:t.metaData.posters[0].url,orderIndex:0,metaData:Object(r.a)(Object(r.a)({},t.metaData),{type:"image",isVideoPlaceholder:!0,height:t.metaData.posters[0].height,width:t.metaData.posters[0].width})}},t.prototype.isUnreadyVideoFile=function(t){return!t.metaData.ghostItem&&(t.metaData.videoUrl&&t.metaData.videoUrl.includes("wix:video://")||"video"===t.metaData.type&&t.mediaUrl&&!t.metaData.videoUrl)},t.prototype.addItemProperties=function(t){var e,i,r,o=!1;this.isUnreadyVideoFile(t)&&(t=this.replaceByPlaceHolder(t),o=!0);try{if(this.sitePages||(this.sitePages=this.wixCodeApi.site.getSiteStructure({includePageId:!0}).pages),"PageLink"===(null===(r=null===(i=null===(e=t.metaData)||void 0===e?void 0:e.link)||void 0===i?void 0:i.data)||void 0===r?void 0:r.type)){var n=this.sitePages.find((function(e){return t.metaData.link.data.pageId.endsWith(e.id)}));n&&"name"in n&&(t.metaData.link.data.pageName=n.name)}}catch(t){console.log("ProGalleryStore, addItemProperties, try to add a pageName to an item if needed, error:",t)}var a={url:void 0,target:void 0};if(t.metaData&&t.metaData.link){var s=t.metaData.link;if("web"===s.type&&"string"==typeof s.url)("http"===s.url.slice(0,4)||"//"===s.url.slice(0,2)||this.wixCodeApi.seo.isInSEO())&&(a={url:s.url,target:"_blank"});else if("wix"===s.type){var l=s.data;if(l)try{var c=this.wixCodeApi.location.getExternalUrl(l);if(c)a={url:c,target:l.target||s.target||"_blank"};else if(l.pageName&&"_blank"===l.target&&"PageLink"===l.type){var u=this.wixCodeApi.site.getSiteStructure({includePageId:!0}).pages.find((function(t){return t.name===l.pageName})),h=u&&u.url&&this.wixCodeApi.location.baseUrl&&this.wixCodeApi.location.baseUrl+u.url;a=h?{url:h,target:"_blank"}:a}}catch(t){console.error(t)}}}t.directLink=a;return t.directShareLink=X.a.getExperimentBoolean("specs.pro-gallery.itemDeeplinks")?this.createShareUrl(t.id||t.photoId||t.itemId,this.wixCodeApi):null,{item:t,convertedToPlaceholder:o}},t.prototype.prepareItems=function(t){var e,i=this,o=!1,n=[],a=mt.shouldUseReactionService();return t&&t.length>=0?e=t.map((function(t){var e=i.addItemProperties(t),s=e.item,l=e.convertedToPlaceholder;if(!o&&l&&(o=!0),q.b.isDimensionless(s)){var c=i.addDimensionsFromCache(s);c&&(s=c)}if("string"==typeof s.metaData)try{s=Object(r.a)(Object(r.a)({},s),{metaData:JSON.parse(s.metaData)})}catch(t){console.error("Failed parse item metaData",t)}return!s.isVisitedLoveData&&a&&(n.push({itemId:t.itemId}),s.isVisitedLoveData=!0),s})):(console.error("corrupt items",t,"returning old items instead"),e=this.items),this.getItemsLoveDataIfNeeded(n),{itemsToSet:e,shouldGetVideoUrls:o}},t.prototype.getItemsFromWixCode=function(t){var e=t.from,i=t.batchSize,r=void 0===i?this.ITEMS_BATCH_SIZE:i;return this.allWixCodeItems.slice(e,e+r)},t.prototype.loadInitialWixCodeItems=function(){var t=this.getItemsFromWixCode({from:0,batchSize:this.INITIAL_ITEMS_BATCH_SIZE});this.prepareAndSetItems({newItems:t}),this.loadDirectFullscreenItemFromWixCode()},t.prototype.loadDirectFullscreenItemFromWixCode=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.c)(this,(function(e){switch(e.label){case 0:return[4,Y.a.getDirectFullscreenItemFromItemsList(this.wixCodeApi.location.query,this.allWixCodeItems,this.context.compId,this.fetcher)];case 1:return(t=e.sent())?this.prepareAndSetDirectFullscreenItem(t):this.directFullscreenReadyDeferred.resolve(),[2]}}))}))},t.prototype.prepareAndSetItems=function(t){var e=t.newItems,i=t.setItemsId,r=t.currentItems,o=void 0===r?[]:r;if(!i||i===this.setItemsCurrentId){i||this.setItemsCurrentId++;var n=this.prepareItems(e),a=n.itemsToSet;n.shouldGetVideoUrls&&this.buildVideoUrlsAndSet({newItems:e,setItemsId:this.setItemsCurrentId,currentItems:o}),this.setItems(o.concat(a))}},t.prototype.getItemsLoveDataIfNeeded=function(t){var e=this,i=this.styles,o=Object($.a)(i).loveButton;if(mt.shouldUseReactionService()&&o&&t.length>0){var n=this.context.instance,a=this.fetcher.galleryId,s=this.APP_DEFINITION_ID;mt.getItemsLoveData(t,n,this.baseUrl,a,s,this.sentryReport).then((function(t){e.fullListOfItemsLoveData=Object(r.a)(Object(r.a)({},e.fullListOfItemsLoveData),t),e.setItemsLoveDataCallback(e.fullListOfItemsLoveData)}))}},t.prototype.buildVideoUrlsAndSet=function(t){var e=this,i=t.newItems,r=t.setItemsId,o=t.currentItems;this.getItemsWithWixVideosUrls(i).then((function(t){e.prepareAndSetItems({newItems:t,setItemsId:r,currentItems:o})}))},t.prototype.setItems=function(t){var e,i=t.filter((function(t){return!!t.mediaUrl||t.metaData&&!!t.metaData.html}));this.SSRWorkerLog.push("setting items, first item id is: "+(null===(e=i[0])||void 0===e?void 0:e.itemId)),this.SSRWorkerLog.push("items src is: "+this.itemsSrc),this.items=i||this.items,this.itemsAreAvailableDeferred.resolve(),this.triggerBlueprintCreation({settingNewItems:!0})},t.prototype.setAllWixCodeItems=function(t){var e;this.SSRWorkerLog.push("trying to set "+(null==t?void 0:t.length)+" wixCode items, first item id: "+(null===(e=t[0])||void 0===e?void 0:e.itemId));var i=t.filter((function(t){return!!t.mediaUrl||t.metaData&&!!t.metaData.html}));this.allWixCodeItems=i},t.prototype.getItems=function(){return this.items||[]},t.prototype.getBlueprint=function(){return this.blueprint},t.prototype.setBlueprint=function(t){this.blueprint=t,"Velo"===this.itemsSrc?(this.SSRWorkerLog.push("setting a blueprint while currentItems are wixCode"),this.wixCodeBlueprintDeferred.resolve()):this.SSRWorkerLog.push("setting a server-items blueprint"),this.blueprintReadyDeferred.resolve(),this.setBlueprintCallback()},t.prototype.itemToGalleryItem=function(t,e){return new B({dto:t,watermark:void 0,createMediaUrl:et({staticMediaUrls:e})})},t.prototype.constructMetaTagsItemData=function(t,e,i){return{item:{id:t.id,type:t.type,title:t.title,description:t.description,page_url:e,fullscreen_url:i,image:{url:t.createUrl(L.a.urlSizes.RESIZED,L.a.urlTypes.HIGH_RES),width:t.width,height:t.height},video_url:t.videoUrl||t.createUrl(L.a.urlSizes.RESIZED,L.a.urlTypes.VIDEO),thumbnail:{url:t.createUrl(L.a.urlSizes.RESIZED,L.a.urlTypes.LOW_RES),width:250,height:250}}}},t.prototype.setMetaTagsInSSR=function(t,e,i,r,o){var n=this.itemToGalleryItem(t,o),a=this.constructMetaTagsItemData(n,e,i);this.setMetaTags(a,r)},t.prototype.setMetaTags=function(t,e){t.item?e.seo.renderSEOTags({itemType:"PRO_GALLERY_ITEM",itemData:t,asNewPage:!0}):e.seo.resetSEOTags()},t.prototype.prepareAndSetDirectFullscreenItem=function(t){var e=this,i=this.prepareItems([t]),r=i.itemsToSet;i.shouldGetVideoUrls&&this.getItemWithVideoUrls(t).then((function(t){e.prepareAndSetDirectFullscreenItem(t)}));var o=r[0];o.itemId&&!o.metaData.isVideoPlaceholder&&this.setDirectFullscreenItem(o)},t.prototype.createDirectFullscreenMockBlueprint=function(){return z.createBlueprint({params:{items:[this.directFullscreenItem],container:this.isMobile?St.mobile.screen:St.desktop.screen,options:ft},lastParams:{},existingBlueprint:{},blueprintManagerId:"direct fullscreen item blueprints",isUsingCustomInfoElements:!0})},t.prototype.createDirectFullscreenBlueprintMockIfNeeded=function(){var t=this;this.isSSR()&&this.isSEO()?this.directFullscreenItemReadyDeferred.promise.then((function(){var e=t.createDirectFullscreenMockBlueprint();t.setDirectFullscreenMockBlueprint(e)})).catch((function(){t.directFullscreenBlueprintMockReadyDeferred.resolve()})):this.directFullscreenBlueprintMockReadyDeferred.resolve()},t.prototype.setDirectFullscreenMockBlueprint=function(t){this.directFullscreenMockBlueprint=t||this.directFullscreenMockBlueprint,this.directFullscreenBlueprintMockReadyDeferred.resolve()},t.prototype.setDirectFullscreenItem=function(t){this.directFullscreenItem=t||this.directFullscreenItem,this.directFullscreenItemReadyDeferred.resolve()},t.prototype.getDirectFullscreenItem=function(){return!!this.directFullscreenItem&&this.directFullscreenItem},t.prototype.getDirectFullscreenMockBlueprint=function(){return!!this.directFullscreenMockBlueprint&&this.directFullscreenMockBlueprint},t.prototype.getTestType=function(){var t=this.getQueryParams(),e=t&&t.pgTestType;return e||null},t.prototype.getSSRWorkerLog=function(){return this.SSRWorkerLog.push(" ######## requesting the worker log ######### (and setting props to the component"),this.SSRWorkerLog},t.prototype.addItems=function(t,e){var i=this.getItems();this.prepareAndSetItems({newItems:t,currentItems:i.slice(0,e)})},t.prototype.loadInitialItems=function(){return Object(r.b)(this,void 0,void 0,(function(){var t,e,i,o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return this.SSRWorkerLog.push("Fn loadIntialItems"),q.b.isVerbose()&&console.log("Getting initial items from server",this.items,this.totalItemsCount),this.items&&this.items.length>0?[2,Promise.resolve(this.items)]:[3,1];case 1:return t=void 0,this.avoidGettingItemsFromPGServer?(t=bt,[3,5]):[3,2];case 2:return r.trys.push([2,4,,5]),[4,this.fetcher.getGalleryDataFromServer({from:0,batchSize:this.INITIAL_ITEMS_BATCH_SIZE})];case 3:return t=r.sent(),[3,5];case 4:return e=r.sent(),console.error("couldnt get items",e),t=bt,[3,5];case 5:q.b.isVerbose()&&console.log("Got initial items from server",t);try{i=t.items,o=t.totalItemsCount,"Velo"!==this.itemsSrc&&(this.prepareAndSetItems({newItems:i}),this.totalItemsCount=Number(o))}catch(e){console.error("Could not fetch initial items from server",e,t),this.totalItemsCount=1}return[2,this.getItems()]}}))}))},t.prototype.getBlueprintFromServer=function(t){var e,i;return Object(r.b)(this,void 0,void 0,(function(){var o,n;return Object(r.c)(this,(function(a){switch(a.label){case 0:this.SSRWorkerLog.push("getting blueprint from server first itemId:",null===(i=null===(e=null==t?void 0:t.params)||void 0===e?void 0:e.items[0])||void 0===i?void 0:i.itemId),this.SSRWorkerLog.push("Sending a request the blueprints server: "),a.label=1;case 1:return a.trys.push([1,4,,5]),o=this.baseUrl+"/_serverless/pro-gallery-blueprints-server/createBlueprint",[4,fetch(o,{method:"POST",credentials:"omit",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(r.a)({},t))})];case 2:return[4,a.sent().json()];case 3:return[2,a.sent()];case 4:return n=a.sent(),console.error("couldnt get blueprint from server ",n),[3,5];case 5:return[2]}}))}))},t.prototype.isServerBlueprintsForcedByQuery=function(){var t=this.wixCodeApi.location.query;return t&&"true"===t.forceServerBlueprints},t.prototype.createInitialBlueprint=function(){return Object(r.b)(this,void 0,void 0,(function(){var t,e,i=this;return Object(r.c)(this,(function(o){switch(o.label){case 0:return this.SSRWorkerLog.push("Creating initial blueprint"),t=this.viewMode===L.a.viewMode.PREVIEW&&X.a.getExperimentBoolean("specs.pro-gallery.useServerBlueprints-preview"),e=this.viewMode!==L.a.viewMode.PREVIEW&&X.a.getExperimentBoolean("specs.pro-gallery.useServerBlueprints-viewer"),this.shouldUseBlueprintsFromServer=e||t||this.isServerBlueprintsForcedByQuery(),this.blueprintsManager=new K({id:"pgStore "+this.context.compId}),this.generateBlueprintsApi(),[4,this.loadInitialItems()];case 1:return o.sent(),this.blueprintsManagerReadyDeferred.resolve(),[2,Promise.all([this.dimensionsAreAvailableDeferred.promise,this.stylesAreAvailableDeferred.promise,this.itemsAreAvailableDeferred.promise,this.viewMode===L.a.viewMode.EDIT?Promise.reject():Promise.resolve()]).then((function(){return Object(r.b)(i,void 0,void 0,(function(){return Object(r.c)(this,(function(t){return this.triggerBlueprintCreation(!0),[2]}))}))}),(function(){return Object(r.b)(i,void 0,void 0,(function(){return Object(r.c)(this,(function(t){return this.setBlueprint({}),[2]}))}))}))]}}))}))},t.prototype.initFlowPromises=function(){var t=this;this.blueprintReadyDeferred=new yt,this.wixCodeBlueprintDeferred=new yt,this.blueprintsManagerReadyDeferred=new yt,this.dimensionsAreAvailableDeferred=new yt,this.stylesAreAvailableDeferred=new yt,this.itemsAreAvailableDeferred=new yt,this.readyToCreateBlueprintsDeferred=new yt,this.directFullscreenReadyDeferred=new yt,this.directFullscreenItemReadyDeferred=new yt,this.directFullscreenBlueprintMockReadyDeferred=new yt,Promise.all([this.dimensionsAreAvailableDeferred.promise,this.stylesAreAvailableDeferred.promise,this.itemsAreAvailableDeferred.promise,this.blueprintsManagerReadyDeferred.promise]).then((function(){t.readyToCreateBlueprintsDeferred.resolve()})),Promise.all([this.directFullscreenItemReadyDeferred.promise,this.directFullscreenBlueprintMockReadyDeferred.promise]).then((function(){t.directFullscreenReadyDeferred.resolve()}))},t.prototype.setDimensions=function(t){this.SSRWorkerLog.push("setting dimensions: w: "+t.width+",h: "+t.height),this.setKnownDimensions(t),this.dimensions=Object(r.a)(Object(r.a)({},this.dimensions),t),this.dimensionsAreAvailableDeferred.resolve()},t.prototype.setKnownDimensions=function(t){this.isKnownHeight=!!t.height,this.isKnownWidth=!!t.width,t.isPrerenderContainer||this.setKnownDimensionsCallback()},t.prototype.setIsAccessible=function(t){this.isAccessible=t},t.prototype.addDimensionsToCache=function(t){var e=this;t.forEach((function(t){e.itemDimensionsCache[t.mediaUrl]=t}))},t.prototype.addDimensionsFromCache=function(t){var e=this.itemDimensionsCache[t.mediaUrl];return e?Object(r.a)(Object(r.a)({},t),{metaData:Object(r.a)(Object(r.a)({},t.metaData),{width:e.width,height:e.height}),measured:!0}):null},t.prototype.handleNewItemDimensions=function(t){var e=this;this.addDimensionsToCache(t);var i=this.getItems(),r=!1,o=i.map((function(t){if(q.b.isDimensionless(t)){var i=e.addDimensionsFromCache(t);i&&(t=i,r=!0)}return t}));r&&this.setItems(o)},t.prototype.getDimensions=function(){return this.dimensions},t.prototype.handleDimensions=function(t){this.setDimensions(t),this.triggerBlueprintCreation({settingNewItems:!1})},t.prototype.handleAccessibilityChange=function(t){this.setIsAccessible(t),this.triggerBlueprintCreation({settingNewItems:!1})},t.prototype.setStyles=function(t){this.styles=t||this.styles,this.stylesAreAvailableDeferred.resolve()},t.prototype.handleStylesChange=function(t){this.setStyles(t),this.triggerBlueprintCreation({settingNewItems:!1})},t.prototype.getMoreItems=function(t){this.blueprintsManager.getMoreItems(t)},t.prototype.getMoreItemsFromItemsSource=function(t){return Object(r.b)(this,void 0,void 0,(function(){var e=this;return Object(r.c)(this,(function(i){return[2,("Velo"===this.itemsSrc?this.getMoreWixCodeItems:this.getMoreItemsFromServer)(t).then((function(t){e.addItems(t)}))]}))}))},t.prototype.getMoreWixCodeItems=function(t){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(e){return[2,this.getItemsFromWixCode({from:t,batchSize:this.ITEMS_BATCH_SIZE})]}))}))},t.prototype.getTotalItemsCount=function(){return this.totalItemsCount||1337},t.prototype.createBlueprintImp=function(t){return this.shouldUseBlueprintsFromServer?(t.deviceType=this.deviceType,this.getBlueprintFromServer(t)):z.createBlueprint(t)},t.prototype.isBlueprintOfCurrentItems=function(t){var e,i;return(null===(e=null==t?void 0:t.items[0])||void 0===e?void 0:e.itemId)===(null===(i=this.items[0])||void 0===i?void 0:i.itemId)},t.prototype.setBlueprintIfNeeded=function(t,e){void 0===e&&(e=!0),t&&(this.SSRWorkerLog.push("LOGIC got a blueprint, are there changes from the last one?"+(e?" TRUE":" FALSE")),this.SSRWorkerLog.push(this.isBlueprintOfCurrentItems(t)?"LOGIC blueprint contains current items":"LOGIC blueprint contains older items and will not be set"),e&&this.isBlueprintOfCurrentItems(t)&&this.setBlueprint(t))},t.prototype.generateBlueprintsApi=function(){var t=this,e={createBlueprintImp:function(e){return t.createBlueprintImp(e)},getItems:function(){return t.getItems()},getMoreItems:function(e){return t.getMoreItemsFromItemsSource(e).then((function(){return t.getItems()}))},getTotalItemsCount:function(){return t.totalItemsCount},getOptions:function(){return t.getPGStyles()},getContainer:function(){return t.getDimensions()},onBlueprintReady:this.setBlueprintIfNeeded},i=new pt(e);this.blueprintsManager.init({api:i,deviceType:this.deviceType})},t.prototype.loadInitialBlueprint=function(){return Object(r.b)(this,void 0,void 0,(function(){return Object(r.c)(this,(function(t){switch(t.label){case 0:return this.SSRWorkerLog.push("Fn loadInitialBlueprint"),[4,q.a.verifyExperiments(this.scopedGlobalSdkApis)];case 1:t.sent(),this.SSRWorkerLog.push("Experiments are here, can create a blueprint"),q.b.isVerbose()&&console.log("Getting initial blueprint");try{this.createInitialBlueprint()}catch(t){console.error("couldnt get blueprint",t)}return[2]}}))}))},t.prototype.loadDirectFullscreenItem=function(t,e){return Object(r.b)(this,void 0,void 0,(function(){var i,o;return Object(r.c)(this,(function(r){switch(r.label){case 0:return e?[4,this.fetcher.fetchGalleryId()]:[3,2];case 1:if(r.sent(),e!==this.fetcher.galleryId)return this.directFullscreenReadyDeferred.resolve(),[2];this.isValidUUID(t)||(console.error("used requestedItemId is not valid"),this.directFullscreenReadyDeferred.resolve()),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this.fetcher.getItemByIdFromServer(t)];case 3:return i=r.sent(),[3,5];case 4:return o=r.sent(),q.b.isVerbose()&&console.warn("Could not get direct fullscreen from server (could be velo item)",o),i=null,[3,5];case 5:return i&&i.itemId?"Velo"!==this.itemsSrc&&this.prepareAndSetDirectFullscreenItem(i):("Velo"!==this.itemsSrc&&this.directFullscreenReadyDeferred.resolve(),q.b.isVerbose()&&console.log("Could not fetch direct fullscreen item from server",i,""+this.directFullscreenItem?"The directFullscreen was loaded from wixCode":"")),[2]}}))}))},t.prototype.pageReady=function(t){this.setProps=t},t.prototype.handleManualStyleParams=function(t){this.setManualStyleParams(t),this.triggerBlueprintCreation({settingNewItems:!1})},t.prototype.triggerBlueprintCreation=function(t){var e=this,i=t.settingNewItems;this.readyToCreateBlueprintsDeferred.promise.then((function(){!0===i&&e.blueprintsManager.resetItemLooping(),e.blueprintsManager.createBlueprint()}))},t.prototype.setManualStyleParams=function(t){this.manualStyleParams=t},t.prototype.getManualStyleParams=function(){return this.manualStyleParams||{}},t.prototype.shouldDisableStoreExpandMode=function(){if(this.isArtStore&&this.fetcher.settings){var t=this.fetcher.settings,e=t.freeArtStore,i=t.ignoreFullscreen;return!(!e||!i)}return!1},t.prototype.isStoreGallery=function(){var t,e=null===(t=this.fetcher.settings)||void 0===t?void 0:t.freeArtStore;return this.isArtStore&&!e},t.prototype.getPGStyles=function(){return Object(r.b)(this,void 0,void 0,(function(){var t,e,i,n,a,s,l;return Object(r.c)(this,(function(c){switch(c.label){case 0:return[4,q.a.verifyExperiments(this.scopedGlobalSdkApis)];case 1:return c.sent(),t=this.styles,e=this.isMobile,i=this.isStoreGallery(),this.shouldDisableStoreExpandMode()&&(t.numbers.itemClick=2),n=Object($.a)(t,{isMobile:e,isStoreGallery:i}),a=Object(r.a)({},ht(t,i,e)),s=Object(o.e)(a,n,this.getManualStyleParams(),{isAccessible:this.isAccessible}),e&&!this.isSSR()&&"number"==typeof s.gallerySize&&(l=void 0,l=this.viewMode===L.a.viewMode.PREVIEW?320/this.getDimensions().mobilePreviewFrame.width:320/this.getDimensions().screen.width,s.gallerySize*=l,s.imageMargin*=l),[2,s]}}))}))},t}();e.a=vt},function(t,e,i){var r=i(99),o=i(104);t.exports=function(t,e){var i=o(t,e);return r(i)?i:void 0}},function(t,e,i){"use strict";e.a={APPEARS:"APPEARS",DISAPPEARS:"DISAPPEARS",NO_CHANGE:"NO_CHANGE",NEVER_SHOW:"NEVER_SHOW"}},function(t,e,i){"use strict";e.a={DESKTOP:"desktop",MOBILE:"mobile",TABLET:"tablet"}},function(t,e,i){"use strict";e.a={SMART:"smart",PIXELS:"px",RATIO:"ratio"}},function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var r=i(0),o=i(3),n=i(19),a=function(){function t(){this.getExperiment=this.getExperiment.bind(this),this.getExperiments=this.getExperiments.bind(this),this.setExperiments=this.setExperiments.bind(this),this.getExperimentBoolean=this.getExperimentBoolean.bind(this),this._experiments=Object.assign({},Object(r.a)({},o.a.petri)),this.experimentsAreReady=Object.keys(this._experiments)>0,this.onExperimentReadyCb=[]}return t.prototype.setExperiments=function(t){if(t)try{Object.assign(this._experiments,Object(r.a)({},t)),n.a.isDev()&&(o.a.petri=this._experiments),this.triggerExperimentsReady(),this.experimentsAreReady=!0}catch(t){console.error("Could not set experiments",t)}},Object.defineProperty(t.prototype,"experiments",{get:function(){return this.getExperiments()},enumerable:!1,configurable:!0}),t.prototype.getExperiments=function(){return n.a.isDev()?Object(r.a)(Object(r.a)({},this._experiments),o.a.petri):this._experiments},t.prototype.getExperiment=function(t){return this.experiments[t]},t.prototype.getExperimentBoolean=function(t){return"true"===this.getExperiment(t)||!0===this.getExperiment(t)},Object.defineProperty(t.prototype,"isReady",{get:function(){return this.experimentsAreReady||Object.keys(this._experiments)>0},enumerable:!1,configurable:!0}),t.prototype.triggerExperimentsReady=function(){var t=this;try{this.onExperimentReadyCb.forEach((function(e){return e(t.experiments)}))}catch(t){console.error("Could not trigger experiments callback",t)}},t.prototype.onExperimentsReady=function(t){"function"==typeof t&&(this.isReady?t(this.experiments):this.onExperimentReadyCb.push(t))},t}(),s=function(){if(n.a.isDev()){if(!o.a.proGalleryExperimentsWrapper){var t=new a;o.a.proGalleryExperimentsWrapper=t}return o.a.proGalleryExperimentsWrapper}return new a}();s.getExperiment},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,i){"use strict";e.a={BLUR:"BLUR",COLOR:"COLOR",MAIN_COLOR:"MAIN_COLOR"}},function(t,e,i){"use strict";i.d(e,"d",(function(){return n})),i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return l}));var r=i(20),o=i(24),n=new(function(){function t(){this.setViewMode=this.setViewMode.bind(this),this.isSiteMode=this.isSiteMode.bind(this),this.isEditMode=this.isEditMode.bind(this),this.isPreviewMode=this.isPreviewMode.bind(this),this.isSEOMode=this.isSEOMode.bind(this),this.setDeviceType=this.setDeviceType.bind(this),this.isDeviceTypeDesktop=this.isDeviceTypeDesktop.bind(this),this.isDeviceTypeMobile=this.isDeviceTypeMobile.bind(this),this.isDeviceTypeTablet=this.isDeviceTypeTablet.bind(this),this.isDeviceTypeTouch=this.isDeviceTypeTouch.bind(this),this._viewMode=r.a.SITE,this._deviceType=o.a.DESKTOP}return t.prototype.setViewMode=function(t){this._viewMode=t},t.prototype.setDeviceType=function(t){this._deviceType=t},t.prototype.isDeviceTypeMobile=function(){return this._deviceType===o.a.MOBILE},t.prototype.isDeviceTypeTablet=function(){return this._deviceType===o.a.TABLET},t.prototype.isDeviceTypeDesktop=function(){return this._deviceType===o.a.DESKTOP},t.prototype.isDeviceTypeTouch=function(){return this.isMobile()||this.isTablet()},t.prototype.isSiteMode=function(){return this._viewMode===r.a.SITE},t.prototype.isEditMode=function(){return this._viewMode===r.a.EDIT},t.prototype.isPreviewMode=function(){return this._viewMode===r.a.PREVIEW},t.prototype.isSEOMode=function(){return this._viewMode===r.a.SEO},t}()),a=(n.isSiteMode,n.isEditMode),s=n.isPreviewMode,l=(n.isSEOMode,n.isDeviceTypeMobile);n.isDeviceTypeTablet,n.isDeviceTypeDesktop,n.isDeviceTypeTouch},,function(t,e,i){var r=i(89),o=i(90),n=i(91),a=i(92),s=i(93);function l(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=n,l.prototype.has=a,l.prototype.set=s,t.exports=l},function(t,e,i){var r=i(62);t.exports=function(t,e){for(var i=t.length;i--;)if(r(t[i][0],e))return i;return-1}},function(t,e,i){var r=i(46),o=i(100),n=i(101),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):n(t)}},function(t,e,i){var r=i(22)(Object,"create");t.exports=r},function(t,e,i){var r=i(114);t.exports=function(t,e){var i=t.__data__;return r(e)?i["string"==typeof e?"string":"hash"]:i.map}},function(t,e,i){var r=i(66),o=i(67);t.exports=function(t,e,i,n){var a=!i;i||(i={});for(var s=-1,l=e.length;++s<l;){var c=e[s],u=n?n(i[c],t[c],c,i,t):void 0;void 0===u&&(u=t[c]),a?o(i,c,u):r(i,c,u)}return i}},function(t,e,i){"use strict";e.a={ON_GALLERY:0,OUTSIDE_GALLERY:1}},function(t,e,i){"use strict";e.a={NO_BACKGROUND:"NO_BACKGROUND",ATTACHED_BACKGROUND:"ATTACHED_BACKGROUND",SEPARATED_BACKGROUND:"SEPARATED_BACKGROUND",DONT_SHOW:"DONT_SHOW"}},function(t,e,i){"use strict";e.a={PICKED_COLOR:"PICKED_COLOR",MAIN_COLOR:"MAIN_COLOR"}},function(t,e,i){"use strict";e.a={SCROLL:"SCROLL",FADE:"FADE",DECK:"DECK"}},function(t,e,i){"use strict";e.a={PERCENT:"PERCENT",MANUAL:"MANUAL"}},function(t,e,i){"use strict";var r=i(0),o=function(){function t(){}return t.prototype.getDirectFullscreenFromParams=function(t){var e=t&&t.pgid;if(e){var i=e.includes("_")?e.split("_"):e.split(/-(.+)/);return{galleryIdent:i[0],itemId:i[1]}}return!1},t.prototype.getDirectFullscreenItemFromItemsList=function(t,e,i,o){return Object(r.b)(this,void 0,void 0,(function(){var n;return Object(r.c)(this,(function(r){switch(r.label){case 0:return(n=this.getDirectFullscreenFromParams(t))&&e?i.includes(n.galleryIdent)?[3,3]:o.galleryId?[3,2]:[4,o.fetchGalleryId()]:[2,void 0];case 1:r.sent(),r.label=2;case 2:if(o.galleryId!==n.galleryIdent)return[2,void 0];r.label=3;case 3:return[2,e[e.findIndex((function(t){return t.itemId===n.itemId&&!t.metaData.isVideoPlaceholder}))]]}}))}))},t.prototype.loadDirectFullscreen=function(t,e,i,r){var o=this.getDirectFullscreenFromParams(i);o?t.includes(o.galleryIdent)?(r.loadDirectFullscreenItem(o.itemId),r.createDirectFullscreenBlueprintMockIfNeeded()):r.isValidUUID(o.galleryIdent)?(r.loadDirectFullscreenItem(o.itemId,o.galleryIdent),r.createDirectFullscreenBlueprintMockIfNeeded()):r.directFullscreenReadyDeferred.resolve():r.directFullscreenReadyDeferred.resolve()},t.prototype.setMetaTagsForItemIfNeeded=function(t,e){var i=t.isInSEO;if(e&&i){var r=e.metaData;t.setMetaTags&&t.setMetaTags("image",r)}},t}();e.a=new o},function(t,e,i){var r=i(87);t.exports=function(t){return r(t,5)}},function(t,e,i){var r=i(22)(i(16),"Map");t.exports=r},function(t,e,i){var r=i(16).Symbol;t.exports=r},function(t,e,i){var r=i(68),o=i(128),n=i(72);t.exports=function(t){return n(t)?r(t):o(t)}},function(t,e){var i=Array.isArray;t.exports=i},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,i){(function(t){var r=i(64),o=e&&!e.nodeType&&e,n=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=n&&n.exports===o&&r.process,s=function(){try{var t=n&&n.require&&n.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s}).call(this,i(49)(t))},function(t,e){var i=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||i)}},function(t,e,i){var r=i(68),o=i(131),n=i(72);t.exports=function(t){return n(t)?r(t,!0):o(t)}},function(t,e,i){var r=i(136),o=i(73),n=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return n.call(t,e)})))}:o;t.exports=s},function(t,e,i){var r=i(140),o=i(45),n=i(141),a=i(142),s=i(143),l=i(34),c=i(65),u=c(r),h=c(o),p=c(n),d=c(a),g=c(s),m=l;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=m(new o)||n&&"[object Promise]"!=m(n.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(t){var e=l(t),i="[object Object]"==e?t.constructor:void 0,r=i?c(i):"";if(r)switch(r){case u:return"[object DataView]";case h:return"[object Map]";case p:return"[object Promise]";case d:return"[object Set]";case g:return"[object WeakMap]"}return e}),t.exports=m},function(t,e,i){var r=i(146);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e,i){"use strict";var r=i(85),o=i(86);function n(t,e){return e.encode?e.strict?r(t):encodeURIComponent(t):t}e.extract=function(t){return t.split("?")[1]||""},e.parse=function(t,e){var i=function(t){var e;switch(t.arrayFormat){case"index":return function(t,i,r){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=i):r[t]=i};case"bracket":return function(t,i,r){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],i):r[t]=[i]:r[t]=i};default:return function(t,e,i){void 0!==i[t]?i[t]=[].concat(i[t],e):i[t]=e}}}(e=o({arrayFormat:"none"},e)),r=Object.create(null);return"string"!=typeof t?r:(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach((function(t){var e=t.replace(/\+/g," ").split("="),o=e.shift(),n=e.length>0?e.join("="):void 0;n=void 0===n?null:decodeURIComponent(n),i(decodeURIComponent(o),n,r)})),Object.keys(r).sort().reduce((function(t,e){var i=r[e];return Boolean(i)&&"object"==typeof i&&!Array.isArray(i)?t[e]=function t(e){return Array.isArray(e)?e.sort():"object"==typeof e?t(Object.keys(e)).sort((function(t,e){return Number(t)-Number(e)})).map((function(t){return e[t]})):e}(i):t[e]=i,t}),Object.create(null))):r},e.stringify=function(t,e){var i=function(t){switch(t.arrayFormat){case"index":return function(e,i,r){return null===i?[n(e,t),"[",r,"]"].join(""):[n(e,t),"[",n(r,t),"]=",n(i,t)].join("")};case"bracket":return function(e,i){return null===i?n(e,t):[n(e,t),"[]=",n(i,t)].join("")};default:return function(e,i){return null===i?n(e,t):[n(e,t),"=",n(i,t)].join("")}}}(e=o({encode:!0,strict:!0,arrayFormat:"none"},e));return t?Object.keys(t).sort().map((function(r){var o=t[r];if(void 0===o)return"";if(null===o)return n(r,e);if(Array.isArray(o)){var a=[];return o.slice().forEach((function(t){void 0!==t&&a.push(i(r,t,a.length))})),a.join("&")}return n(r,e)+"="+n(o,e)})).filter((function(t){return t.length>0})).join("&"):""}},function(t,e,i){"use strict";var r=i(1),o={layoutParams:{gallerySpacing:0,cropRatio:1},isRTL:!1,isVertical:!1,minItemSize:120,groupSize:3,chooseBestGroup:!0,groupTypes:"1,2h,2v,3t,3b,3l,3r",cubeImages:!1,cubeType:"fill",smartCrop:!1,fullscreen:!0,videoLoop:!0,videoSound:!1,videoPlay:"hover",videoSpeed:1,numberOfImagesPerRow:3,collageDensity:.8,galleryTextAlign:"center",imageMargin:10,fixedColumns:0,showArrows:!0,hasThumbnails:!1,galleryThumbnailsAlignment:"bottom",gridStyle:0,titlePlacement:r.a.placements.SHOW_ON_HOVER,hoveringBehaviour:r.a.infoBehaviourOnHover.APPEARS,isAutoSlideshow:!1,slideshowLoop:!1,playButtonForAutoSlideShow:!1,pauseAutoSlideshowOnHover:!0,allowSlideshowCounter:!1,autoSlideshowInterval:4,arrowsSize:23,slideshowInfoSize:200,imageLoadingMode:r.a.loadingMode.BLUR,scrollAnimation:r.a.scrollAnimations.NO_EFFECT,overlayAnimation:r.a.overlayAnimations.NO_EFFECT,imageHoverAnimation:r.a.imageHoverAnimations.NO_EFFECT,itemBorderWidth:0,itemBorderRadius:0,itemEnableShadow:!1,itemShadowBlur:20,loadMoreAmount:"all",itemShadowDirection:135,itemShadowSize:10,imageInfoType:r.a.infoType.NO_BACKGROUND,textBoxBorderRadius:0,textBoxBorderWidth:0,textBoxHeight:200,textImageSpace:10,scrollDirection:0,slideAnimation:r.a.slideAnimations.SCROLL,autoSlideshowType:r.a.autoSlideshowTypes.INTERVAL,autoSlideshowContinuousSpeed:200};e.a=o},,function(t,e,i){var r=function(t){"use strict";var e=Object.prototype,i=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",n=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,i){return t[e]=i}}function l(t,e,i,r){var o=e&&e.prototype instanceof h?e:h,n=Object.create(o.prototype),a=new I(r||[]);return n._invoke=function(t,e,i){var r="suspendedStart";return function(o,n){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw n;return x()}for(i.method=o,i.arg=n;;){var a=i.delegate;if(a){var s=v(a,i);if(s){if(s===u)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===r)throw r="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r="executing";var l=c(t,e,i);if("normal"===l.type){if(r=i.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r="completed",i.method="throw",i.arg=l.arg)}}}(t,i,a),n}function c(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u={};function h(){}function p(){}function d(){}var g={};s(g,o,(function(){return this}));var m=Object.getPrototypeOf,f=m&&m(m(w([])));f&&f!==e&&i.call(f,o)&&(g=f);var y=d.prototype=h.prototype=Object.create(g);function b(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){var r;this._invoke=function(o,n){function a(){return new e((function(r,a){!function r(o,n,a,s){var l=c(t[o],t,n);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&i.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}(o,n,r,a)}))}return r=r?r.then(a,a):a()}}function v(t,e){var i=t.iterator[e.method];if(void 0===i){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,v(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function w(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=d,s(y,"constructor",d),s(d,"constructor",p),p.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(S.prototype),s(S.prototype,n,(function(){return this})),t.AsyncIterator=S,t.async=function(e,i,r,o,n){void 0===n&&(n=Promise);var a=new S(l(e,i,r,o),n);return t.isGeneratorFunction(i)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),s(y,a,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var r=e.pop();if(r in t)return i.value=r,i.done=!1,i}return i.done=!0,i}},t.values=w,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(i,r){return a.type="throw",a.arg=t,e.next=i,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var n=this.tryEntries[o],a=n.completion;if("root"===n.tryLoc)return r("end");if(n.tryLoc<=this.prev){var s=i.call(n,"catchLoc"),l=i.call(n,"finallyLoc");if(s&&l){if(this.prev<n.catchLoc)return r(n.catchLoc,!0);if(this.prev<n.finallyLoc)return r(n.finallyLoc)}else if(s){if(this.prev<n.catchLoc)return r(n.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return r(n.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var n=o;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var a=n?n.completion:{};return a.type=t,a.arg=e,n?(this.method="next",this.next=n.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),O(i),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var o=r.arg;O(i)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:w(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,i){var r=i(34),o=i(27);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,i){(function(e){var i="object"==typeof e&&e&&e.Object===Object&&e;t.exports=i}).call(this,i(61))},function(t,e){var i=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,i){var r=i(67),o=i(62),n=Object.prototype.hasOwnProperty;t.exports=function(t,e,i){var a=t[e];n.call(t,e)&&o(a,i)&&(void 0!==i||e in t)||r(t,e,i)}},function(t,e,i){var r=i(119);t.exports=function(t,e,i){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}},function(t,e,i){var r=i(121),o=i(122),n=i(48),a=i(69),s=i(125),l=i(126),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var i=n(t),u=!i&&o(t),h=!i&&!u&&a(t),p=!i&&!u&&!h&&l(t),d=i||u||h||p,g=d?r(t.length,String):[],m=g.length;for(var f in t)!e&&!c.call(t,f)||d&&("length"==f||h&&("offset"==f||"parent"==f)||p&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||s(f,m))||g.push(f);return g}},function(t,e,i){(function(t){var r=i(16),o=i(124),n=e&&!e.nodeType&&e,a=n&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===n?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;t.exports=l}).call(this,i(49)(t))},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e){t.exports=function(t,e){return function(i){return t(e(i))}}},function(t,e,i){var r=i(63),o=i(70);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e){t.exports=function(){return[]}},function(t,e,i){var r=i(75),o=i(76),n=i(54),a=i(73),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,n(t)),t=o(t);return e}:a;t.exports=s},function(t,e){t.exports=function(t,e){for(var i=-1,r=e.length,o=t.length;++i<r;)t[o+i]=e[i];return t}},function(t,e,i){var r=i(71)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,i){var r=i(75),o=i(48);t.exports=function(t,e,i){var n=e(t);return o(t)?n:r(n,i(t))}},function(t,e,i){"use strict";i.d(e,"a",(function(){return r}));var r=function(){function t(){this.log=[],this.creationTime=Date.now(),this.push=this.push.bind(this),this.push("created worker log")}return t.prototype.push=function(t){var e=Date.now()-this.creationTime+"ms";this.log.push("["+e+"]: "+t)},t}()},function(t,e,i){var r;"undefined"!=typeof self&&self,r=function(){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(r,o,function(e){return t[e]}.bind(null,o));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="https://static.parastorage.com/services/video-gallery-sdk/1.489.0/",i(i.s=1)}([function(t,e,i){(function(t){var i=["responseType","withCredentials","timeout","onprogress"];function r(t,e,i){t[e]=t[e]||i}e.ajax=function(e,o){var n=e.headers||{},a=e.body,s=e.method||(a?"POST":"GET"),l=!1,c=e.cors&&t.XDomainRequest&&!/MSIE 1/.test(navigator.userAgent)?new XDomainRequest:t.XMLHttpRequest?new XMLHttpRequest:void 0;function u(t,e){return function(){l||(o(void 0===c.status?t:c.status,0===c.status?"Error":c.response||c.responseText||e,c),l=!0)}}c.open(s,e.url,!0);var h=c.onload=u(200);c.onreadystatechange=function(){4===c.readyState&&h()},c.onerror=u(null,"Error"),c.ontimeout=u(null,"Timeout"),c.onabort=u(null,"Abort"),a&&(r(n,"X-Requested-With","XMLHttpRequest"),t.FormData&&a instanceof t.FormData||r(n,"Content-Type","application/x-www-form-urlencoded"));for(var p=0,d=i.length;p<d;p++)void 0!==e[g=i[p]]&&(c[g]=e[g]);for(var g in n)c.setRequestHeader(g,n[g]);return c.send(a),c}}).call(this,i(2))},function(t,e,i){"use strict";i.r(e),i.d(e,"getInfo",(function(){return l})),i.d(e,"getVideoURLs",(function(){return c})),i.d(e,"getVideoMetadata",(function(){return u})),i.d(e,"getVideoId",(function(){return s})),i.d(e,"getVideoImage",(function(){return h}));var r=i(0),o=function(){return(o=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},n=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<i;e++)for(var n=arguments[e],a=0,s=n.length;a<s;a++,o++)r[o]=n[a];return r},a=/([0-9A-Za-z_]+)/,s=function(t){var e=t.split("/");return 1===e.length?a.test(e[0])?e[0]:(console.error("Wrong format was passed to VideoGallerySDK.getVideoId"),t):a.test(e[1])?e[1]:(console.error("Wrong format was passed to VideoGallerySDK.getVideoId"),t)},l=function(t){return t=s(t),new Promise((function(e,i){Object(r.ajax)({url:"https://files.wix.com/site/media/files/"+t+"/info"},(function(t,r){200===t?e(JSON.parse(r)):i({statusCode:t,response:r})}))}))},c=function(t){return("object"==typeof t?Promise.resolve(t):l(t)).then((function(t){return n((void 0===(i=t.file_output.video)&&(i=[]),i.map((function(t){return{type:t.format.toUpperCase(),quality:t.quality,url:"https://video.wixstatic.com/"+t.url}}))),(void 0===(e=t.file_output.adaptive_video)&&(e=[]),e.map((function(t){return{type:t.format.toUpperCase(),quality:"ADAPTIVE",url:"https://files.wixstatic.com/"+t.url}}))));var e,i}))},u=function(t){return("object"==typeof t?Promise.resolve(t):l(t)).then((function(t){return o(o({},t.file_input),{size:t.file_size})}))},h=function(t,e){var i=e.previewIndex,r=void 0===i?0:i,o=e.resizeType,n=void 0===o?"fill":o,a=e.quality,l=void 0===a?85:a,c=e.width,u=e.height;return"https://static.wixstatic.com/media/"+s(t)+"f00"+r+".jpg/v1/"+n+"/w_"+c+",h_"+u+",al_c,q_"+l+"/image.jpg"}},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i}])},t.exports=r()},function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var r=i(0),o=i(2),n=i(1),a="VERTICAL",s="HORIZONTAL",l={1:{id:1,layoutOrientation:s,desktop:function(t){var e=Object(r.a)({},t);return(e=Object(o.a)(e,"layoutParams_repeatingGroupTypes","1,2v,2v")).cubeImages=!0,(e=Object(o.a)(e,"layoutParams_cropRatio","50%/100%")).imageMargin=0,e.gridStyle=1,e.scrollDirection=n.a.scrollDirection.HORIZONTAL,e.titlePlacement="SHOW_ON_HOVER",e.cubeType="crop",e},mobile:function(t){var e=Object(r.a)({},t);return(e=Object(o.a)(e,"layoutParams_repeatingGroupTypes","1,2v,2v")).cubeImages=!0,e.imageMargin=0,e.scrollDirection=n.a.scrollDirection.HORIZONTAL,e.titlePlacement="SHOW_ON_HOVER",e.cubeType="crop",e}},2:{id:2,layoutOrientation:a,desktop:function(t){var e=Object(r.a)({},t);return(e=Object(o.a)(e,"layoutParams_repeatingGroupTypes","1,2v,2v,2v,2v,1")).cubeImages=!0,(e=Object(o.a)(e,"layoutParams_cropRatio",.75)).groupsPerStrip=3,e.imageMargin=5,e.gridStyle=1,e.scrollDirection=n.a.scrollDirection.VERTICAL,e.enableInfiniteScroll=!0,e.cubeType="crop",e.isVertical=!1,e},mobile:function(t){var e=Object(r.a)({},t);return e.isVertical=!0,e.groupSize=2,(e=Object(o.a)(e,"layoutParams_repeatingGroupTypes","1,2h,2h")).cubeImages=!0,e.rotatingCropRatios=.75,e.fixedColumns=1,e.imageMargin=2,e.gridStyle=1,e.scrollDirection=n.a.scrollDirection.VERTICAL,e}},3:{id:3,layoutOrientation:s,desktop:function(t){var e=Object(r.a)({},t);return e.groupSize=1,e.cubeImages=!0,(e=Object(o.a)(e,"layoutParams_cropRatio","100%/50%")).rotatingCropRatios="25%/100%,50%/100%",e.scrollDirection=n.a.scrollDirection.HORIZONTAL,e.isVertical=!0,e.cubeType="crop",e.calculateTextBoxHeightMode="AUTOMATIC",e},mobile:function(t){var e=Object(r.a)({},t);return e.cubeImages=!1,e.groupSize=1,e.scrollDirection=n.a.scrollDirection.HORIZONTAL,e.isVertical=!1,e.groupTypes="1",e.enableInfiniteScroll=!0,e}},4:{id:4,layoutOrientation:a,desktop:function(t){var e=Object(r.a)({},t);return e.isVertical=!0,e.groupSize=1,e.cubeImages=!0,(e=Object(o.a)(e,"layoutParams_cropRatio",4/3)).fixedColumns=1,e.imageMargin=0,e.gridStyle=1,e.titlePlacement="ALTERNATE_HORIZONTAL",e.textBoxWidthPercent=35,e.scrollDirection=n.a.scrollDirection.VERTICAL,e.hoveringBehaviour="NO_CHANGE",e.cubeType="crop",e.imageInfoType="NO_BACKGROUND",e},mobile:function(t){var e=Object(r.a)({},t);return e.titlePlacement="SHOW_BELOW",e.cubeImages=!0,e.isVertical=!0,e.groupSize=1,e.hasThumbnails=!1,e.groupTypes="1",e.scrollDirection=n.a.scrollDirection.VERTICAL,e}},5:{id:5,layoutOrientation:s,desktop:function(t){var e=Object(r.a)({},t);return(e=Object(o.a)(e,"layoutParams_repeatingGroupTypes","2v")).cubeImages=!0,e.rotatingCropRatios="25%/40%,25%/60%,25%/60%,25%/40%",e.imageMargin=2,e.gridStyle=1,e.scrollDirection=n.a.scrollDirection.HORIZONTAL,e.titlePlacement="SHOW_ON_HOVER",e.cubeType="crop",e},mobile:function(t){var e=Object(r.a)({},t);return e.groupTypes="2v",(e=Object(o.a)(e,"layoutParams_repeatingGroupTypes","2v")).cubeImages=!0,e.rotatingCropRatios="50%/35%,50%/65%,50%/65%,50%/35%",e.imageMargin=2,e.gridStyle=1,e.scrollDirection=n.a.scrollDirection.HORIZONTAL,e.titlePlacement="SHOW_ON_HOVER",e}},6:{id:6,layoutOrientation:s,desktop:function(t){var e=Object(r.a)({},t);return(e=Object(o.a)(e,"layoutParams_repeatingGroupTypes","2v,2v")).imageMargin=150,e.rotatingScatter="-50%/80%,7%/70%,-280%/-220%,100%/-100%,-150%/-50%",e.gridStyle=1,e.scrollDirection=n.a.scrollDirection.HORIZONTAL,e.titlePlacement="SHOW_ON_HOVER",e},mobile:function(t){var e=Object(r.a)({},t);return e.cubeImages=!1,e.arrowsPosition=1,e.titlePlacement="SHOW_BELOW",e.hoveringBehaviour="NEVER_SHOW",e.scrollDirection=n.a.scrollDirection.HORIZONTAL,(e=Object(o.a)(e,"layoutParams_gallerySpacing",0)).isVertical=!1,e.groupSize=1,e.groupTypes="1",e}},7:{id:7,layoutOrientation:a,desktop:function(t){var e=Object(r.a)({},t);return e.isVertical=!0,e.groupSize=1,e.cubeImages=!0,e.fixedColumns=1,e.imageMargin=80,e.gridStyle=1,e.titlePlacement="SHOW_ON_THE_RIGHT",e.textBoxWidthPercent=66,e.scrollDirection=n.a.scrollDirection.VERTICAL,e.cubeType="crop",e.imageInfoType="NO_BACKGROUND",e},mobile:function(t){var e=Object(r.a)({},t);return e.isVertical=!0,e.groupSize=1,e.cubeImages=!0,e.fixedColumns=1,e.imageMargin=20,(e=Object(o.a)(e,"layoutParams_gallerySpacing",10)).gridStyle=1,e.titlePlacement="SHOW_ON_THE_RIGHT",e.scrollDirection=n.a.scrollDirection.VERTICAL,e.cubeType="crop",e.imageInfoType="NO_BACKGROUND",e}},8:{id:8,layoutOrientation:a,desktop:function(t){var e=Object(r.a)({},t);return e.groupTypes="1,2v",(e=Object(o.a)(e,"layoutParams_repeatingGroupTypes","2v,1,2v")).cubeImages=!0,e.groupsPerStrip=3,e.imageMargin=20,e.gridStyle=1,e.scrollDirection=n.a.scrollDirection.VERTICAL,e.cubeType="crop",e.isVertical=!1,e},mobile:function(t){var e=Object(r.a)({},t);return e.groupTypes="2h,1",(e=Object(o.a)(e,"layoutParams_repeatingGroupTypes","2h,1")).cubeImages=!0,e.groupsPerStrip=1,e.imageMargin=10,e.gridStyle=1,e.scrollDirection=n.a.scrollDirection.VERTICAL,e.gallerySize=60,e.cubeType="crop",e.titlePlacement="SHOW_ON_HOVER",e}},9:{id:9,layoutOrientation:a,desktop:function(t){var e=Object(r.a)({},t);return(e=Object(o.a)(e,"layoutParams_repeatingGroupTypes","3t,3b")).cubeImages=!0,e.rotatingCropRatios="1.41,.7,.7,.7,.7,1.41",e.groupsPerStrip=2,e.imageMargin=5,e.gridStyle=1,e.scrollDirection=n.a.scrollDirection.VERTICAL,e.cubeType="crop",e.isVertical=!1,e},mobile:function(t){var e=Object(r.a)({},t);return e.groupTypes="2h,1",(e=Object(o.a)(e,"layoutParams_repeatingGroupTypes","1,2h")).cubeImages=!0,e.groupsPerStrip=1,e.gridStyle=1,e.scrollDirection=n.a.scrollDirection.VERTICAL,e.cubeType="crop",e.titlePlacement="SHOW_ON_HOVER",e}},10:{id:10,layoutOrientation:a,desktop:function(t){var e=Object(r.a)({},t);return(e=Object(o.a)(e,"layoutParams_repeatingGroupTypes","1,2v,1,1")).cubeImages=!0,e.rotatingCropRatios="1.6,1.2,1.2,1.2,1.6",e.groupsPerStrip=2,e.imageMargin=5,e.gridStyle=1,e.scrollDirection=n.a.scrollDirection.VERTICAL,e.cubeType="crop",e.isVertical=!1,e},mobile:function(t){var e=Object(r.a)({},t);return e.groupTypes="2h,1",(e=Object(o.a)(e,"layoutParams_repeatingGroupTypes","1,2h")).cubeImages=!0,e.groupsPerStrip=1,e.gridStyle=1,e.scrollDirection=n.a.scrollDirection.VERTICAL,e.cubeType="crop",e.titlePlacement="SHOW_ON_HOVER",e}},11:{id:11,layoutOrientation:a,desktop:function(t){var e=Object(r.a)({},t);return e.isVertical=!0,e.minItemSize=80,e.groupTypes="2h,3h",(e=Object(o.a)(e,"layoutParams_repeatingGroupTypes","2h,3h")).collageDensity=0,e.cubeImages=!0,e.fixedColumns=1,e.imageMargin=80,(e=Object(o.a)(e,"layoutParams_gallerySpacing",80)).gridStyle=1,e.scrollDirection=n.a.scrollDirection.VERTICAL,e.cubeType="crop",e},mobile:function(t){var e=Object(r.a)({},t);return e.titlePlacement="SHOW_BELOW",e.hoveringBehaviour="NEVER_SHOW",e.scrollDirection=n.a.scrollDirection.HORIZONTAL,(e=Object(o.a)(e,"layoutParams_gallerySpacing",0)).isVertical=!1,e.groupSize=1,e.groupTypes="1",e}},12:{id:12,layoutOrientation:a,desktop:function(t){var e=Object(r.a)({},t);return e.isVertical=!0,(e=Object(o.a)(e,"layoutParams_repeatingGroupTypes","2v,2v")).fixedColumns=3,e.imageMargin=100,(e=Object(o.a)(e,"layoutParams_gallerySpacing",100)).rotatingScatter="-50%/-40%,0%/-10%,40%/100%",e.gridStyle=1,e.scrollDirection=n.a.scrollDirection.VERTICAL,e},mobile:function(t){var e=Object(r.a)({},t);return e.cubeImages=!1,e.arrowsPosition=1,e.titlePlacement="SHOW_BELOW",e.hoveringBehaviour="NEVER_SHOW",e.scrollDirection=n.a.scrollDirection.HORIZONTAL,(e=Object(o.a)(e,"layoutParams_gallerySpacing",0)).isVertical=!1,e.groupSize=1,e.groupTypes="1",e}},13:{id:13,layoutOrientation:a,desktop:function(t){var e=Object(r.a)({},t);return e.isVertical=!0,e.groupSize=1,e.cubeImages=!0,e.rotatingCropRatios="0.7,1.77,0.9,1.77,1.77,0.7,0.9",e.fixedColumns=2,e.imageMargin=97,e.gridStyle=1,e.titlePlacement="SHOW_BELOW",e.scrollDirection=0,e},mobile:function(t){var e=Object(r.a)({},t);return e.isVertical=!0,e.groupSize=1,e.cubeImages=!0,e.rotatingCropRatios="0.7,1.77,0.9,1.77,1.77,0.7,0.9",e.fixedColumns=2,e.imageMargin=97,e.gridStyle=1,e.titlePlacement="SHOW_BELOW",e.scrollDirection=0,e}}},c=function(t){var e,i,r=t.styles,o=t.presetId,n=t.isMobile;return void 0!==n&&n?(null===(e=l[o])||void 0===e?void 0:e.mobile(r))||r:(null===(i=l[o])||void 0===i?void 0:i.desktop(r))||r}},function(t,e,i){"use strict";i.r(e),i.d(e,"pick",(function(){return r})),i.d(e,"throttle",(function(){return o})),i.d(e,"debounce",(function(){return n})),i.d(e,"get",(function(){return a})),i.d(e,"isFunction",(function(){return s})),i.d(e,"isEqual",(function(){return l})),i.d(e,"isNumber",(function(){return c}));var r=function(t,e){var i={};return Object.entries(t||{}).forEach((function(t){var r=t[0],o=t[1];e.indexOf(r)>=0&&(i[r]=o)})),i},o=function(t,e){var i=!1,r=!1;return function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];i?r=!0:(r=!1,t.apply(void 0,o),i=!0,setTimeout((function(){r&&t.apply(void 0,o),i=!1}),e))}},n=function(t,e){var i;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];clearTimeout(i),i=setTimeout((function(){t.apply(void 0,r)}),e)}},a=function(t,e,i){var r=String.prototype.split.call(e,/[,[\].]+?/).filter(Boolean).reduce((function(t,e){return null!=t?t[e]:t}),t);return void 0===r||r===t?i:r},s=function(t){return"function"==typeof t},l=function(t,e){try{return JSON.stringify(t)===JSON.stringify(e)}catch(t){return!1}},c=function(t){return!isNaN(parseFloat(t))&&isFinite(t)}},function(t,e,i){"use strict";var r=i(0),o=i(3),n=function(){function t(){this._translations=Object.assign({},Object(r.a)({},o.a.translations))}return t.prototype.setTranslations=function(t){Object.assign(this._translations,Object(r.a)({},t))},Object.defineProperty(t.prototype,"translations",{get:function(){return this._translations},enumerable:!1,configurable:!0}),t.prototype.getByKey=function(t){try{var e=null;return this.translations&&(e=this.translations[t]||o.a.translations[t]),e||(e=t),o.a&&(o.a.isClientDev&&(e=t),o.a.unescape&&(e=o.a.unescape(e))),e}catch(e){return t}},t}();e.a=new n},,,function(t,e,i){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}},function(t,e,i){"use strict";var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function a(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var i,s,l=a(t),c=1;c<arguments.length;c++){for(var u in i=Object(arguments[c]))o.call(i,u)&&(l[u]=i[u]);if(r){s=r(i);for(var h=0;h<s.length;h++)n.call(i,s[h])&&(l[s[h]]=i[s[h]])}}return l}},function(t,e,i){var r=i(88),o=i(118),n=i(66),a=i(120),s=i(130),l=i(133),c=i(134),u=i(135),h=i(137),p=i(138),d=i(139),g=i(55),m=i(144),f=i(145),y=i(151),b=i(48),S=i(69),v=i(153),_=i(27),O=i(155),I=i(47),w=i(53),x={};x["[object Arguments]"]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object DataView]"]=x["[object Boolean]"]=x["[object Date]"]=x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Map]"]=x["[object Number]"]=x["[object Object]"]=x["[object RegExp]"]=x["[object Set]"]=x["[object String]"]=x["[object Symbol]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x["[object Error]"]=x["[object Function]"]=x["[object WeakMap]"]=!1,t.exports=function t(e,i,P,E,T,C){var D,A=1&i,L=2&i,M=4&i;if(P&&(D=T?P(e,E,T,C):P(e)),void 0!==D)return D;if(!_(e))return e;var R=b(e);if(R){if(D=m(e),!A)return c(e,D)}else{var j=g(e),B="[object Function]"==j||"[object GeneratorFunction]"==j;if(S(e))return l(e,A);if("[object Object]"==j||"[object Arguments]"==j||B&&!T){if(D=L||B?{}:y(e),!A)return L?h(e,s(D,e)):u(e,a(D,e))}else{if(!x[j])return T?e:{};D=f(e,j,A)}}C||(C=new r);var k=C.get(e);if(k)return k;C.set(e,D),O(e)?e.forEach((function(r){D.add(t(r,i,P,r,e,C))})):v(e)&&e.forEach((function(r,o){D.set(o,t(r,i,P,o,e,C))}));var N=R?void 0:(M?L?d:p:L?w:I)(e);return o(N||e,(function(r,o){N&&(r=e[o=r]),n(D,o,t(r,i,P,o,e,C))})),D}},function(t,e,i){var r=i(32),o=i(94),n=i(95),a=i(96),s=i(97),l=i(98);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=n,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,t.exports=c},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,i){var r=i(33),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,i=r(e,t);return!(i<0)&&(i==e.length-1?e.pop():o.call(e,i,1),--this.size,!0)}},function(t,e,i){var r=i(33);t.exports=function(t){var e=this.__data__,i=r(e,t);return i<0?void 0:e[i][1]}},function(t,e,i){var r=i(33);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,i){var r=i(33);t.exports=function(t,e){var i=this.__data__,o=r(i,t);return o<0?(++this.size,i.push([t,e])):i[o][1]=e,this}},function(t,e,i){var r=i(32);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,i){var r=i(32),o=i(45),n=i(105);t.exports=function(t,e){var i=this.__data__;if(i instanceof r){var a=i.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++i.size,this;i=this.__data__=new n(a)}return i.set(t,e),this.size=i.size,this}},function(t,e,i){var r=i(63),o=i(102),n=i(27),a=i(65),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,p=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!n(t)||o(t))&&(r(t)?p:s).test(a(t))}},function(t,e,i){var r=i(46),o=Object.prototype,n=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=n.call(t,s),i=t[s];try{t[s]=void 0;var r=!0}catch(t){}var o=a.call(t);return r&&(e?t[s]=i:delete t[s]),o}},function(t,e){var i=Object.prototype.toString;t.exports=function(t){return i.call(t)}},function(t,e,i){var r,o=i(103),n=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!n&&n in t}},function(t,e,i){var r=i(16)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,i){var r=i(106),o=i(113),n=i(115),a=i(116),s=i(117);function l(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=n,l.prototype.has=a,l.prototype.set=s,t.exports=l},function(t,e,i){var r=i(107),o=i(32),n=i(45);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(n||o),string:new r}}},function(t,e,i){var r=i(108),o=i(109),n=i(110),a=i(111),s=i(112);function l(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=n,l.prototype.has=a,l.prototype.set=s,t.exports=l},function(t,e,i){var r=i(35);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,i){var r=i(35),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var i=e[t];return"__lodash_hash_undefined__"===i?void 0:i}return o.call(e,t)?e[t]:void 0}},function(t,e,i){var r=i(35),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,i){var r=i(35);t.exports=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,i){var r=i(36);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,i){var r=i(36);t.exports=function(t){return r(this,t).get(t)}},function(t,e,i){var r=i(36);t.exports=function(t){return r(this,t).has(t)}},function(t,e,i){var r=i(36);t.exports=function(t,e){var i=r(this,t),o=i.size;return i.set(t,e),this.size+=i.size==o?0:1,this}},function(t,e){t.exports=function(t,e){for(var i=-1,r=null==t?0:t.length;++i<r&&!1!==e(t[i],i,t););return t}},function(t,e,i){var r=i(22),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e,i){var r=i(37),o=i(47);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e){t.exports=function(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}},function(t,e,i){var r=i(123),o=i(28),n=Object.prototype,a=n.hasOwnProperty,s=n.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},function(t,e,i){var r=i(34),o=i(28);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e){var i=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&i.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e,i){var r=i(127),o=i(50),n=i(51),a=n&&n.isTypedArray,s=a?o(a):r;t.exports=s},function(t,e,i){var r=i(34),o=i(70),n=i(28),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return n(t)&&o(t.length)&&!!a[r(t)]}},function(t,e,i){var r=i(52),o=i(129),n=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var i in Object(t))n.call(t,i)&&"constructor"!=i&&e.push(i);return e}},function(t,e,i){var r=i(71)(Object.keys,Object);t.exports=r},function(t,e,i){var r=i(37),o=i(53);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,i){var r=i(27),o=i(52),n=i(132),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return n(t);var e=o(t),i=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&i.push(s);return i}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var i in Object(t))e.push(i);return e}},function(t,e,i){(function(t){var r=i(16),o=e&&!e.nodeType&&e,n=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=n&&n.exports===o?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var i=t.length,r=s?s(i):new t.constructor(i);return t.copy(r),r}}).call(this,i(49)(t))},function(t,e){t.exports=function(t,e){var i=-1,r=t.length;for(e||(e=Array(r));++i<r;)e[i]=t[i];return e}},function(t,e,i){var r=i(37),o=i(54);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e){t.exports=function(t,e){for(var i=-1,r=null==t?0:t.length,o=0,n=[];++i<r;){var a=t[i];e(a,i,t)&&(n[o++]=a)}return n}},function(t,e,i){var r=i(37),o=i(74);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,i){var r=i(77),o=i(54),n=i(47);t.exports=function(t){return r(t,n,o)}},function(t,e,i){var r=i(77),o=i(74),n=i(53);t.exports=function(t){return r(t,n,o)}},function(t,e,i){var r=i(22)(i(16),"DataView");t.exports=r},function(t,e,i){var r=i(22)(i(16),"Promise");t.exports=r},function(t,e,i){var r=i(22)(i(16),"Set");t.exports=r},function(t,e,i){var r=i(22)(i(16),"WeakMap");t.exports=r},function(t,e){var i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&i.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,i){var r=i(56),o=i(147),n=i(148),a=i(149),s=i(150);t.exports=function(t,e,i){var l=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new l(+t);case"[object DataView]":return o(t,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,i);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(t);case"[object RegExp]":return n(t);case"[object Set]":return new l;case"[object Symbol]":return a(t)}}},function(t,e,i){var r=i(16).Uint8Array;t.exports=r},function(t,e,i){var r=i(56);t.exports=function(t,e){var i=e?r(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}},function(t,e){var i=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,i.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,i){var r=i(46),o=r?r.prototype:void 0,n=o?o.valueOf:void 0;t.exports=function(t){return n?Object(n.call(t)):{}}},function(t,e,i){var r=i(56);t.exports=function(t,e){var i=e?r(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}},function(t,e,i){var r=i(152),o=i(76),n=i(52);t.exports=function(t){return"function"!=typeof t.constructor||n(t)?{}:r(o(t))}},function(t,e,i){var r=i(27),o=Object.create,n=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();t.exports=n},function(t,e,i){var r=i(154),o=i(50),n=i(51),a=n&&n.isMap,s=a?o(a):r;t.exports=s},function(t,e,i){var r=i(55),o=i(28);t.exports=function(t){return o(t)&&"[object Map]"==r(t)}},function(t,e,i){var r=i(156),o=i(50),n=i(51),a=n&&n.isSet,s=a?o(a):r;t.exports=s},function(t,e,i){var r=i(55),o=i(28);t.exports=function(t){return o(t)&&"[object Set]"==r(t)}},,function(t,e,i){"use strict";i.d(e,"a",(function(){return L}));var r=i(4),o=i(0),n=i(5),a=i(12),s=i(7),l=i(2),c=function(t){var e=Object(o.a)({},t);return e.galleryLayout=r.a.ALTERNATE,e.cubeType="fill",e.cubeImages=!0,(e=Object(l.a)(e,"layoutParams_cropRatio",1)).titlePlacement=n.a.SHOW_ON_HOVER,e.scrollDirection=a.a.VERTICAL,(e=Object(l.a)(e,"layoutParams_gallerySpacing",0)).isVertical=!0,e.groupSize=3,e.collageDensity=.48,e.groupTypes="1,2h,2v,3t,3b,3l,3r,3v,3h",e.gallerySize=86,e.minItemSize=50,e.chooseBestGroup=!0,(e=Object(l.a)(e,"layoutParams_repeatingGroupTypes","1,2h,1,2h")).smartCrop=!1,e.scatter=0,e.rotatingScatter="",e.fixedColumns=1,e.groupsPerStrip=0,e.placeGroupsLtr=!1,e.rotatingCropRatios="",e.slideshowLoop=!1,e},u=(c({}),function(t){var e=Object(o.a)({},t);return e.galleryLayout=r.a.BRICKS,e.cubeType="fill",e.cubeImages=!0,(e=Object(l.a)(e,"layoutParams_cropRatio",1)).titlePlacement=n.a.SHOW_ON_HOVER,e.scrollDirection=a.a.VERTICAL,(e=Object(l.a)(e,"layoutParams_gallerySpacing",0)).isVertical=!0,e.groupSize=3,e.collageDensity=.8,e.groupTypes="1,2h,2v,3t,3b,3l,3r,3v,3h",e.slideshowLoop=!1,e.gallerySize=400,e.minItemSize=50,e.chooseBestGroup=!0,(e=Object(l.a)(e,"layoutParams_repeatingGroupTypes","2h")).smartCrop=!1,e.scatter=0,e.rotatingScatter="",e.fixedColumns=1,e.groupsPerStrip=0,e.placeGroupsLtr=!1,e.rotatingCropRatios="0.707,1.414,1.414,0.707",e}),h=(u({}),function(t){var e=Object(o.a)({},t);return e.galleryLayout=r.a.COLLAGE,e.cubeImages=!1,e.titlePlacement=n.a.SHOW_ON_HOVER,e.groupSize=3,e.hasThumbnails=!1,e.groupTypes="1,2h,2v,3t,3b,3l,3r",e.slideshowLoop=!1,e.targetItemSize=0,e.fixedColumns=0,e.enableScroll=!0,e.cropOnlyFill=!1,e}),p=(h({}),function(t){var e=Object(o.a)({},t);return(e=h(e)).targetItemSize=Object(s.a)(e,Math.round(5*e.gallerySize+500)),e}),d=function(t){var e=Object(o.a)({},t);return e.galleryLayout=r.a.FULLSIZE,e.cubeImages=!0,(e=Object(l.a)(e,"layoutParams_cropRatio","100%/100%")).cubeType="fill",e.titlePlacement=n.a.SHOW_ON_HOVER,e.scrollDirection=a.a.HORIZONTAL,e.galleryMargin=0,e.isVertical=!1,e.groupSize=1,e.groupTypes="1",e.smartCrop=!1,e.galleryType="Strips",e.hasThumbnails=!1,e.enableScroll=!0,e.scrollSnap=!0,e.cropOnlyFill=!1,e.scatter=0,e.rotatingScatter="",e.imageMargin=0,e},g=(d({}),function(t){var e=Object(o.a)({},t);return e.galleryLayout=r.a.COLUMN,e.cubeType="fill",e.cubeImages=!0,(e=Object(l.a)(e,"layoutParams_cropRatio",.35)).scrollDirection=a.a.HORIZONTAL,e.isVertical=!1,e.groupSize=1,e.groupTypes="1",e.slideshowLoop=!1,e.smartCrop=!1,e.galleryType="Strips",e.fixedColumns=0,e.enableScroll=!0,e.cropOnlyFill=!1,e}),m=(g({}),function(t){var e=Object(o.a)({},t);return(e=g(e)).targetItemSize=Object(s.a)(e),e}),f=function(t){var e=Object(o.a)({},t);return e.galleryLayout=r.a.GRID,e.cubeImages=!0,e.isVertical=!0,e.groupSize=1,e.hasThumbnails=!1,e.groupTypes="1",e.slideshowLoop=!1,e.smartCrop=!1,e.galleryType="Columns",e.fixedColumns=0,e.targetItemSize=0,e.enableScroll=!0,e.cropOnlyFill=!1,e.minItemSize=50,e},y=(f({}),function(t){var e=Object(o.a)({},t);return(e=f(e)).targetItemSize=Object(s.a)(e,Math.round(8.5*e.gallerySize+150)),e=Object(s.d)(e),e=Object(s.c)(e),e=Object(s.e)(e)}),b=new(function(){function t(){this.features={fullscreenRedesign:{title:"New fullscreen design",releaseDate:Date.parse("2017-09-25T12:00:00.000Z")},spacingCalculation:{title:"Improve spacing calculation",releaseDate:Date.parse("2017-08-29T11:27:29.000Z")},fixedColumnsInMasonry:{title:"Allow fixed number of columns in Masonry layout",releaseDate:Date.parse("2018-05-24T18:00:00.000Z")},mobileSettings:{title:"Separate mobile and desktop setting",releaseDate:Date.parse("2018-12-18T12:00:50.054Z")}},this.freezeDate=new Date,this.updateFeatures()}return Object.defineProperty(t.prototype,"freezeDate",{get:function(){return this._dateCreated||new Date},set:function(t){"object"==typeof t&&"function"==typeof t.getTime&&(this._dateCreated=t,this.updateFeatures())},enumerable:!1,configurable:!0}),t.prototype.updateFeatures=function(){var t=this;this.supports=Object.entries(this.features).reduce((function(e,i){var r,n=i[0],a=i[1].releaseDate;return Object(o.a)(Object(o.a)({},e),((r={})[n]=t.freezeDate>=a,r))}))},t}()),S=function(t){var e=Object(o.a)({},t);return e.galleryLayout=r.a.MAGIC,e.cubeImages=void 0,(e=Object(l.a)(e,"layoutParams_cropRatio",void 0)).isVertical=void 0,e.targetItemSize=void 0,e.collageAmount=void 0,e.collageDensity=void 0,e.groupTypes=void 0,e.oneRow=void 0,e.imageMargin=void 0,e.scatter=void 0,(e=Object(l.a)(e,"layoutParams_gallerySpacing",void 0)).chooseBestGroup=void 0,e.smartCrop=void 0,e.cubeType=void 0,e.hasThumbnails=void 0,e.enableScroll=void 0,e.cropOnlyFill=void 0,e.fixedColumns=void 0,e.enableInfiniteScroll=void 0,e.slideshowLoop=!1,e},v=(S({}),function(t){var e=Object(o.a)({},t),i=e.magicLayoutSeed;!i>0&&(i=999999),i=Math.floor(i);var r=function(t,e,r){var o,n,a=function(t){t=String(t);for(var e=0,i=0;i<t.length;i++)e+=t.charCodeAt(i);return e}(r),s=e-t+1;return o=i,n=a,Math.floor(1e7*(o/n-Math.floor(o/n)))%s+t},n=function(t){return!!r(0,1,t)};return e.cubeImages=n("cubeImages"),(e=Object(l.a)(e,"layoutParams_cropRatio",r(1,25,"cubeRatio")/5)).isVertical=n("isVertical"),e.targetItemSize=r(300,800,"gallerySize"),e.collageAmount=r(5,10,"collageAmount")/10,e.collageDensity=(b.supports.spacingCalculation?r(1,100,"collageDensity"):r(5,10,"collageDensity"))/100,e.groupTypes=["1"].concat("2h,2v,3t,3b,3l,3r,3h,3v".split(",").filter((function(t,e){return n("groupTypes"+e)}))),e.oneRow=n("oneRow"),e.imageMargin=r(0,b.supports.spacingCalculation?r(300,800,"gallerySize")/5:5,"imageMargin"),(e=Object(l.a)(e,"layoutParams_gallerySpacing",b.supports.spacingCalculation?0:r(0,5,"imageMargin"))).scatter=0,e.rotatingScatter="",e.chooseBestGroup=n("chooseBestGroup"),e.smartCrop=n("smartCrop"),e.cubeType="fill",e.enableScroll=!0,e.cropOnlyFill=!1,e.fixedColumns=0,e.enableInfiniteScroll=1,e.oneRow?(e.isVertical=!1,e.scrollDirection=a.a.HORIZONTAL):e.scrollDirection=a.a.VERTICAL,e.galleryType=e.isVertical?"Columns":"Strips",e.groupSize=parseInt(e.groupTypes.slice(-1)[0]),e.groupTypes=e.groupTypes.join(","),e.minItemSize=e.targetItemSize/e.groupSize/2,e}),_=function(t){var e=Object(o.a)({},t);return e.galleryLayout=r.a.MASONRY,e.cubeImages=!1,e.scrollDirection=a.a.VERTICAL,e.groupSize=1,e.groupTypes="1",e.slideshowLoop=!1,e.fixedColumns=0,e.enableScroll=!0,e.cropOnlyFill=!1,e},O=(_({}),function(t){var e=Object(o.a)({},t);return(e=_(e)).targetItemSize=Object(s.a)(e,e.isVertical?8*e.gallerySize+200:5*e.gallerySize+200),b.supports.fixedColumnsInMasonry&&(e=Object(s.d)(e)),e}),I=function(t){var e=Object(o.a)({},t);return e.galleryLayout=r.a.MIX,e.cubeType="fill",e.cubeImages=!0,(e=Object(l.a)(e,"layoutParams_cropRatio",1)).titlePlacement=n.a.SHOW_ON_HOVER,e.scrollDirection=a.a.VERTICAL,(e=Object(l.a)(e,"layoutParams_gallerySpacing",0)).isVertical=!0,e.groupSize=3,e.groupTypes="1,2h,2v,3t,3b,3l,3r,3v,3h",e.collageDensity=.48,e.targetItemSize=86,e.minItemSize=50,e.chooseBestGroup=!0,(e=Object(l.a)(e,"layoutParams_repeatingGroupTypes","1,3l,1,3r")).smartCrop=!1,e.scatter=0,e.rotatingScatter="",e.fixedColumns=1,e.groupsPerStrip=0,e.placeGroupsLtr=!1,e.rotatingCropRatios="",e},w=(I({}),function(t){var e=Object(o.a)({},t);return e.galleryLayout=r.a.PANORAMA,e.cubeImages=!1,e.scrollDirection=a.a.VERTICAL,e.isVertical=!0,e.groupSize=1,e.groupTypes="1",e.galleryType="Columns",e.fixedColumns=1,e.enableScroll=!0,e.cropOnlyFill=!1,e.slideshowLoop=!1,e}),x=(w({}),function(t){var e=Object(o.a)({},t);return(e=w(e)).targetItemSize=Object(s.a)(e),e}),P=function(t){var e=Object(o.a)({},t);return e.galleryLayout=r.a.SLIDER,e.enableInfiniteScroll=!0,e.cubeImages=!0,e.scrollDirection=a.a.HORIZONTAL,e.isVertical=!1,e.groupSize=1,e.groupTypes="1",e.smartCrop=!1,e.galleryType="Strips",e.hasThumbnails=!1,e.enableScroll=!0,e.scrollSnap=!0,e.cropOnlyFill=!0,e},E=(P({}),i(23)),T=function(t){var e=Object(o.a)({},t);return e.galleryLayout=r.a.SLIDESHOW,e.enableInfiniteScroll=!0,(e=Object(l.a)(e,"layoutParams_cropRatio","100%/100%")).cubeImages=!0,e.hoveringBehaviour=E.a.NEVER_SHOW,e.scrollDirection=a.a.HORIZONTAL,(e=Object(l.a)(e,"layoutParams_gallerySpacing",0)).isVertical=!1,e.groupSize=1,e.groupTypes="1",e.itemBorderWidth=0,e.itemBorderRadius=0,e.itemBorderColor=void 0,e.numberOfImagesPerCol=1,e.smartCrop=!1,e.targetItemSize=550,e.galleryType="Strips",e.fixedColumns=1,e.hasThumbnails=!1,e.enableScroll=!0,e.scrollSnap=!0,e.cropOnlyFill=!1,e.scatter=0,e.rotatingScatter="",e.imageMargin=0,e},C=(T({}),function(t){var e=Object(o.a)({},t);return(e=T(e)).targetItemSize=Object(s.a)(e),e=Object(s.e)(e)}),D=function(t){var e=Object(o.a)({},t);return e.galleryLayout=r.a.THUMBNAIL,e.enableInfiniteScroll=!0,(e=Object(l.a)(e,"layoutParams_cropRatio","100%/100%")).cubeImages=!0,e.titlePlacement=n.a.SHOW_ON_HOVER,e.scrollDirection=a.a.HORIZONTAL,(e=Object(l.a)(e,"layoutParams_gallerySpacing",0)).isVertical=!1,e.groupSize=1,e.groupTypes="1",e.smartCrop=!1,e.galleryType="Strips",e.hasThumbnails=!0,e.enableScroll=!0,e.scrollSnap=!0,e.cropOnlyFill=!1,e.scatter=0,e.rotatingScatter="",e.imageMargin=0,e},A=(D({}),function(t){var e=Object(o.a)({},t);return e.galleryLayout=r.a.EMPTY,e}),L=(A({}),function(t){var e=t.galleryType,i=t.galleryType,n=t.galleryLayout;if(void 0!==i&&void 0===n)switch(e){case"1":return p(t);case"2":return y(t);case"3":case"4":return O(t);case"5":return x(t);case"6":return m(t);case"7":return C(t);case"0":default:return p(t)}else switch(t.galleryLayout){case r.a.MASONRY:return O(t);case r.a.GRID:return y(t);case r.a.THUMBNAIL:return function(t){var e=Object(o.a)({},t);return(e=D(e)).targetItemSize=Object(s.a)(e),e=Object(s.e)(e)}(t);case r.a.SLIDER:return function(t){var e=Object(o.a)({},t);return(e=P(e)).targetItemSize=Object(s.a)(e),e=Object(s.e)(e)}(t);case r.a.SLIDESHOW:return C(t);case r.a.PANORAMA:return x(t);case r.a.COLUMN:return m(t);case r.a.MAGIC:return function(t){var e=Object(o.a)({},t);return e=S(e),e=v(e)}(t);case r.a.FULLSIZE:return function(t){var e=Object(o.a)({},t);return(e=d(e)).targetItemSize=Object(s.a)(e),e}(t);case r.a.BRICKS:return function(t){var e=Object(o.a)({},t);return(e=u(e)).targetItemSize=Object(s.a)(e),e}(t);case r.a.MIX:return function(t){var e=Object(o.a)({},t);return(e=I(e)).targetItemSize=Object(s.a)(e),e}(t);case r.a.ALTERNATE:return function(t){var e=Object(o.a)({},t);return(e=c(e)).targetItemSize=Object(s.a)(e),e}(t);case r.a.EMPTY:return function(t){var e=Object(o.a)({},t);return(e=A(e)).targetItemSize=Object(s.a)(e,Math.round(9*e.gallerySize+100)),e}(t);case r.a.JSON_FIXED:return function(t){try{var e=t.jsonStyleParams?JSON.parse(t.jsonStyleParams):{};return Object(l.e)(t,Object(l.b)(e))}catch(t){return{}}}(t);case r.a.COLLAGE:default:return p(t)}})},,,function(t,e,i){"use strict";var r=i(0),o=i(21),n=i(26),a=i(82),s=i(43),l=i(11),c=function(){function t(t){var e=t.context,i=t.controllerConfig,r=t.APP_DEFINITION_ID,o=t.GALLERY_WIDGET_ID,n=t.isArtStore,a=void 0!==n&&n,s=t.fetcher,l=t.SSRWorkerLog,c=void 0===l?[]:l;this.context=e.getContext(),this.pgStore=null,this.isArtStore=a,this.controllerConfig=i,this.wixCodeApi=i.wixCodeApi,this.sentryReporter=e.getSentry(),this.fetcher=s,this.SSRWorkerLog=c,this.initPgStore(r,o),this.setWarmupDataIfNeeded(),this.sentryReport=this.sentryReport.bind(this)}return t.prototype.setContext=function(t){this.context=t},t.prototype.setSentryReporter=function(t){this.sentryReporter=t},t.prototype.getPgStore=function(){return this.pgStore},t.prototype.getClickedIdx=function(){return this.getPgStore().clickedIdx},t.prototype.getTotalItemsCount=function(){return this.getPgStore().getTotalItemsCount()},t.prototype.getbaseUrls=function(){return this.getContext().baseUrls},t.prototype.getWarmupData=function(){return{items:this.getItems(),totalItemsCount:this.getPgStore().totalItemsCount,experiments:n.a.experiments}},t.prototype.getDirectFullscreenItem=function(){return this.getPgStore().getDirectFullscreenItem()},t.prototype.getDirectFullscreenMockBlueprint=function(){return this.getPgStore().getDirectFullscreenMockBlueprint()},t.prototype.getTestType=function(){return this.getPgStore().getTestType()},t.prototype.setMetaTagsInSSRIfNeeded=function(){var t=this.getDirectFullscreenItem();if(this.isSSR()&&t&&t.itemId){var e=this.getPgStore(),i=this.wixCodeApi,r=this.getStaticMediaUrls(),n=o.a.getCurrentDirectFullscreenUrl(i),a=o.a.getPageUrl(i);e.setMetaTagsInSSR(t,a,n,i,r)}},t.prototype.isInSEO=function(){var t=this.wixCodeApi;return"function"==typeof t.seo.isInSEO&&!!t.seo.isInSEO()},t.prototype.getQueryParams=function(){return this.wixCodeApi.location.query},t.prototype.getLocaleFromContext=function(){var e=this.context.scopedGlobalSdkApis;return t.getLocaleFromScopedGlobalSdkApis(e)},t.prototype.getCommonGalleryProps=function(t){var e=this,i=this.getPgStore(),r=this.wixCodeApi,s=o.a.getSiteUrl(r),c=t?"/fullscreen-store-page":"/fullscreen-page",u=t?this.context.scopedGlobalSdkApis.location.baseUrl:l.a.getBaseUrl(r,l.a.parseViewMode(r.window.viewMode));return{clientSetProps:!this.isSSR(),propFromSetPropsIndicator:!0,onNavigate:function(t){return r.location.to(t)},scrollTo:r.window.scrollTo,instance:this.getControllerConfig().appParams.instance,appDefinitionId:this.getControllerConfig().appParams.appDefinitionId,visitorId:this.getControllerConfig().platformAPIs.bi.visitorId,queryParams:r.location.query,viewMode:r.window.viewMode,baseUrl:u,siteUrl:s,pageUrl:o.a.getPageUrl(r),fullscreenUrl:s+c,instanceId:this.getInstanceId(),totalItemsCount:i.totalItemsCount,gallerySettings:this.fetcher.settings,dateCreated:this.fetcher.dateCreated,galleryId:this.fetcher.galleryId,translations:a.a.translations,experiments:n.a.experiments,setHeight:this.getSetHeightFunc(),getMoreItems:function(t){return e.getMoreItems(t)},onDimensionsReady:function(t){return e.handleDimensions(t)},onAccessibilityChanged:function(t){return e.handleAccessibilityChange(t)},onItemDimensionsMeasure:function(t){return e.handleNewItemDimensions(t)},appLoadStartedReported:i.isAppLoadStartReported,tryToReportAppLoaded:i.tryToReportAppLoaded,sentryReport:this.sentryReport,locale:this.getLocaleFromContext(),isKnownHeight:this.getIsKnownHeight(),isKnownWidth:this.getIsKnownWidth(),galleryItemsSource:this.getItemsSource(),staticMediaUrls:this.getStaticMediaUrls()}},t.prototype.getTryToReportAppLoaded=function(){return this.getPgStore().tryToReportAppLoaded},t.prototype.loadInitialBlueprint=function(){this.getPgStore().loadInitialBlueprint(this.isSSR())},t.prototype.getWixCodeBlueprintReadyPromise=function(){return this.getPgStore().wixCodeBlueprintDeferred.promise},t.prototype.getBlueprintReadyPromise=function(){return this.getPgStore().blueprintReadyDeferred.promise},t.prototype.getDirectFullscreenReadyPromise=function(){return this.getPgStore().directFullscreenReadyDeferred.promise},t.prototype.loadDirectFullscreen=function(){var t=this.getControllerConfig().compId,e=this.getPgStore();s.a.loadDirectFullscreen(t,e.galleryId,this.getQueryParams(),e)},t.prototype.getViewPortPromise=function(){var t=this.getControllerConfig(),e=t.compId,i=t.wixCodeApi;return this.isSSR()&&i.window.getComponentViewportState(e)||Promise.resolve({in:!0})},t.prototype.initPgStore=function(t,e){var i=this.getControllerConfig(),r=i.appParams,n=r.instanceId,a=r.instance,s=i.config,l=s.externalId,c=s.style,u=s.dimensions,h=i.compId,p=i.wixCodeApi,d=i.avoidGettingItemsFromPGServer,g=this.getContext(),m=g.msid,f=g.platformServices,y=g.scopedGlobalSdkApis;this.pgStore=new o.a({context:{externalId:l,compId:h,instanceId:n,instance:a,msid:m,styles:c.styleParams,dimensions:u,isSSR:this.isSSR()},wixCodeApi:p,platformServices:f,scopedGlobalSdkApis:y,APP_DEFINITION_ID:t,GALLERY_WIDGET_ID:e,isArtStore:this.isArtStore,setBlueprintCallback:this.setBlueprint.bind(this),setKnownDimensionsCallback:this.setKnownDimensions.bind(this),avoidGettingItemsFromPGServer:d,setItemsLoveDataCallback:this.setItemsLoveData.bind(this),sentryReport:this.sentryReport.bind(this),fetcher:this.fetcher,SSRWorkerLog:this.SSRWorkerLog})},t.prototype.getContext=function(){return this.context},t.prototype.tryToReportAppLoaded=function(){this.getPgStore().tryToReportAppLoaded()},t.prototype.getSetHeightFunc=function(){var t=this.getControllerConfig().setProps;return function(e){t({dimensions:{height:e}})}},t.prototype.getSetManualDimensionsFunc=function(){var t=this.getControllerConfig().setProps;return function(e){t({dimensions:e})}},t.prototype.getSetMetaTagsFunc=function(){var t=this;return function(e){t.getPgStore().setMetaTags(e,t.wixCodeApi)}},t.prototype.getOnLinkNavigationFunc=function(){var t=this;return function(e){return t.getPgStore().navigateToLink(e)}},t.prototype.getOnItemClickedFunc=function(t){return function(e,i){t&&t.onItemClicked(e,i)}},t.prototype.handleDimensions=function(t){this.getPgStore().handleDimensions(t)},t.prototype.updateStyleParams=function(t){var e=t.newStyleParams;this.getPgStore().handleStylesChange(e)},t.prototype.handleAccessibilityChange=function(t){this.getPgStore().handleAccessibilityChange(t)},t.prototype.handleNewItemDimensions=function(t){this.getPgStore().handleNewItemDimensions(t)},t.prototype.getMoreItems=function(t){this.getPgStore().getMoreItems(t)},t.prototype.getIsKnownWidth=function(){return this.getPgStore().isKnownWidth},t.prototype.getItemsSource=function(){var t=this.getPgStore();return t.itemsSrc?t.itemsSrc:"server"},t.prototype.getStaticMediaUrls=function(){try{return this.getControllerConfig().platformAPIs.topology.media}catch(t){console.error("Could not get staticMediaUrls",t)}},t.prototype.getIsKnownHeight=function(){return this.getPgStore().isKnownHeight},t.prototype.getBlueprint=function(){return this.getPgStore().getBlueprint()},t.prototype.setBlueprint=function(){var t=this.getPgStore(),e=this.getControllerConfig().setProps,i=t.getBlueprint();e(Object(r.a)(Object(r.a)({},i),{totalItemsCount:t.getTotalItemsCount(),galleryItemsSource:this.getItemsSource(),SSRWorkerLog:this.getSSRWorkerLog()}))},t.prototype.setKnownDimensions=function(){try{var t=this.getPgStore();if(t)(0,this.getControllerConfig().setProps)({isKnownHeight:t.isKnownHeight,isKnownWidth:t.isKnownWidth})}catch(t){console.warn("couldnt set known dimensions",t)}},t.prototype.setItemsLoveData=function(t){(0,this.getControllerConfig().setProps)({itemsLoveData:t})},t.prototype.getControllerConfig=function(){return this.controllerConfig},t.prototype.setWarmupDataIfNeeded=function(){var t=this.getControllerConfig().warmupData;if(t){var e=this.getPgStore();e.prepareAndSetItems(t.items),e.totalItemsCount=t.totalItemsCount,n.a.setExperiments(t.experiments)}},t.prototype.handleNewStyleParams=function(t){this.getPgStore().handleManualStyleParams(t)},t.prototype.setClickedIdx=function(t){(0,this.getControllerConfig().setProps)({clickedIdx:t})},t.prototype.isValidWidgetId=function(t){return this.WIDGET_ID_ARRAY.includes(t)},t.prototype.sentryReport=function(t){this.sentryReporter.report(t)},t.prototype.getItems=function(){return this.getPgStore().getItems()},t.prototype.getSettings=function(){return this.fetcher.settings},t.prototype.getWatermark=function(){var t=this.getSettings();if(t)return"object"==typeof t?t.watermark:JSON.parse(t).watermark},t.prototype.getInstanceId=function(){return this.getControllerConfig().appParams.instanceId},t.prototype.getSSRWorkerLog=function(){return this.getPgStore().getSSRWorkerLog()},t.getLocaleFromScopedGlobalSdkApis=function(t){return t&&t.site&&t.site.language?t.site.language:"en"},t.setTranslationsAndExperiments=function(e,i,r,n){try{var s=t.getLocaleFromScopedGlobalSdkApis(e),c=n.baseUrls.santaWrapperBaseUrl+"assets/locale/pro-gallery/messages_"+s+".json",u=o.a.getTranslations(c);l.a.getExperimentsAndInitWrapper()(e,i&&i.report,r),u.then((function(t){return a.a.setTranslations(t)})).catch((function(t){i&&i.report&&i.report(t),console.error("Waiting for translationsPromise failed",t)}))}catch(t){i&&i.report&&i.report(t),console.error("Getting page init data failed",t)}},t.getInitAppForPageFunc=function(e){return function(i,o,n,a){var s;e.setContext(Object(r.a)(Object(r.a)({},i),{platformServices:a,scopedGlobalSdkApis:n,platformUtilitiesApi:o})),e.initSentry(i,n,a),t.setTranslationsAndExperiments(n,e.getSentry(),null===(s=e.context)||void 0===s?void 0:s.instance,i)}},t.prototype.isSSR=function(){return"backend"===this.wixCodeApi.window.rendering.env},t.getCreateControllers=function(t,e){return function(i){try{var o=i.map((function(t){return{type:t.type,compId:t.compId,setProps:t.setProps}}));return i.map((function(e){return Promise.resolve(t(Object(r.a)(Object(r.a)({},e),{widgets:o})))}))}catch(t){e&&e.report&&e.report(t),console.error("Failed to get CreateControllers",t)}}},t}();e.a=c},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getProGalleryStyles}));var tslib__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_consts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8),pro_gallery_lib__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(58),pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1),pro_gallery_lib__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(158),_customPresetProcessor__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(80),isUndefined=function(t){return void 0===t},baseDefaultStyles=Object(pro_gallery_lib__WEBPACK_IMPORTED_MODULE_2__.e)(pro_gallery_lib__WEBPACK_IMPORTED_MODULE_3__.a,{layoutParams:{cropRatio:1},gotStyleParams:!1,selectedLayout:0,allowSocial:!0,allowDownload:!1,allowTitle:!0,allowDescription:!1,loveButton:!0,loveCounter:!0,showVideoPlayButton:!0,gallerySliderImageRatio:0,galleryImageRatio:2,collageAmount:.8,floatingImages:0,viewMode:"preview",galleryHorizontalAlign:"center",galleryVerticalAlign:"center",enableInfiniteScroll:1,itemClick:"expand",fixedColumns:0,scrollDirection:pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.scrollDirection.VERTICAL,showArrows:!0,hasThumbnails:!1,galleryThumbnailsAlignment:"bottom",thumbnailSpacings:0,mobilePanorama:!1,arrowsPadding:23,slideshowInfoSize:200,imageLoadingMode:pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.loadingMode.COLOR,imageLoadingWithColorMode:pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.loadingWithColorMode.PICKED_COLOR,imageRatioType:_consts__WEBPACK_IMPORTED_MODULE_1__.a.imageRatioType.FIXED,numberOfDisplayedItems:3,expandAnimation:_consts__WEBPACK_IMPORTED_MODULE_1__.a.expandAnimations.NO_EFFECT,itemBorderColor:"color-5",itemShadowOpacityAndColor:{value:"rgba(0, 0, 0, 0.2)"},textBoxBorderColor:"color-5",titleDescriptionSpace:6,textsVerticalPadding:0,textsHorizontalPadding:0,textBoxFillColor:"color-2",alwaysShowHover:!1,previewHover:!1,calculateTextBoxHeightMode:pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.textBoxWidthCalculationOptions.AUTOMATIC,slideAnimation:pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.slideAnimations.SCROLL,jsonStyleParams:"",designedPresetId:-1,galleryLayoutType:"",allowOverlayGradient:!1,overlayGradientDegrees:180,shouldIndexDirectShareLinkInSEO:!1,slideTransition:_consts__WEBPACK_IMPORTED_MODULE_1__.a.slideTransitions.EASE_IN_OUT,slideDuration:400,autoSlideshowContinuousSpeed:50,overlayType:0,overlayPosition:pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.overlayPositions.LEFT,overlaySize:100,overlayPadding:0,overlaySizeType:pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.overlaySizeType.PERCENT,arrowsVerticalPosition:pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.arrowsVerticalPosition.ITEM_CENTER}),getDefaultStyles=function(t,e){return baseDefaultStyles.galleryLayout=e?2:0,baseDefaultStyles.thumbnailSize=t?90:120,baseDefaultStyles.useCustomButton=e,baseDefaultStyles.customButtonText=e?"Buy Now":"Click here",baseDefaultStyles.isStoreGallery=e,baseDefaultStyles},convertToMobileSettingIfNeeded=function(t,e){return t&&Object.keys(e).forEach((function(t){t.startsWith("m_")&&(e[t.slice(2)]=e[t])})),e},getProGalleryStylesImp=function(wixStyles,gotStyleParams,options){var isMobile=options.isMobile,isStoreGallery=options.isStoreGallery,isOnBoarding=options.isOnBoarding,defaultStateStyles=getDefaultStyles(isMobile,isStoreGallery),stateStyles={};function canSet(t,e){return isUndefined(e)?isUndefined(stateStyles[t])&&!isUndefined(wixStyles[t]):isUndefined(stateStyles[e])&&!isUndefined(wixStyles[t])}if(wixStyles.gallerySize=wixStyles.gallerySize||30,wixStyles=convertToMobileSettingIfNeeded(isMobile,wixStyles),"1"===String(wixStyles.mobilePanorama)&&isMobile&&(stateStyles.galleryLayout=6,stateStyles=Object(pro_gallery_lib__WEBPACK_IMPORTED_MODULE_2__.a)(stateStyles,"layoutParams_repeatingGroupTypes","1"),stateStyles.isVertical=!0,stateStyles.numberOfImagesPerRow=1,stateStyles.scrollDirection=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.scrollDirection.VERTICAL),canSet("alwaysShowHover")&&(stateStyles.alwaysShowHover=wixStyles.alwaysShowHover),canSet("previewHover")&&(stateStyles.previewHover=wixStyles.previewHover),canSet("fullscreen")?stateStyles.fullscreen="0"===wixStyles.fullscreen.toString():stateStyles.fullscreen=!0,canSet("allowSocial")?stateStyles.allowSocial=wixStyles.allowSocial:stateStyles.allowSocial=defaultStateStyles.allowSocial,canSet("allowTitle")&&(stateStyles.allowTitle=!!isOnBoarding||wixStyles.allowTitle),canSet("allowDescription")&&(stateStyles.allowDescription=wixStyles.allowDescription),canSet("allowOverlayGradient")){var allowOverlayGradient=wixStyles.allowOverlayGradient,overlayGradientColor1=wixStyles.overlayGradientColor1,overlayGradientColor2=wixStyles.overlayGradientColor2,overlayGradientDegrees=wixStyles.overlayGradientDegrees;stateStyles.overlayBackground=!!allowOverlayGradient&&"linear-gradient("+overlayGradientDegrees+"deg,"+overlayGradientColor1.value+","+overlayGradientColor2.value+")"}if(canSet("isInAdi")&&(stateStyles.isInAdi=wixStyles.isInAdi),canSet("useCustomButton")?stateStyles.useCustomButton=wixStyles.useCustomButton:stateStyles.useCustomButton=defaultStateStyles.useCustomButton,canSet("allowDownload")?stateStyles.allowDownload=wixStyles.allowDownload:stateStyles.allowDownload=defaultStateStyles.allowDownload,canSet("allowContextMenu")?stateStyles.allowContextMenu=wixStyles.allowContextMenu:stateStyles.allowContextMenu=stateStyles.allowDownload,canSet("loveButton")?stateStyles.loveButton=wixStyles.loveButton:stateStyles.loveButton=defaultStateStyles.loveButton,canSet("loveCounter")?stateStyles.loveCounter="0"===String(wixStyles.loveCounter):stateStyles.loveCounter=defaultStateStyles.loveCounter,canSet("enableInfiniteScroll")?stateStyles.enableInfiniteScroll="1"===String(wixStyles.enableInfiniteScroll):stateStyles.enableInfiniteScroll="1"===String(defaultStateStyles.enableInfiniteScroll),canSet("imageMargin")&&(stateStyles.imageMargin=Number(wixStyles.imageMargin)),canSet("galleryMargin")&&(stateStyles=Object(pro_gallery_lib__WEBPACK_IMPORTED_MODULE_2__.a)(stateStyles,"layoutParams_gallerySpacing",Number(wixStyles.galleryMargin))),canSet("isRTL")&&(stateStyles.isRTL="1"===String(wixStyles.isRTL)),canSet("isVertical")&&(stateStyles.isVertical="1"===String(wixStyles.isVertical)),canSet("imageOrientation","isVertical")&&(stateStyles.isVertical="1"===String(wixStyles.imageOrientation)),canSet("collageAmount")&&(stateStyles.collageAmount=Number(wixStyles.collageAmount)/10),canSet("collageDensity")&&(stateStyles.collageDensity=Number(wixStyles.collageDensity)/100),canSet("minItemSize")&&(stateStyles.minItemSize=wixStyles.minItemSize),canSet("gallerySize")&&(stateStyles.gallerySize=wixStyles.gallerySize),canSet("magicLayoutSeed")&&(stateStyles.magicLayoutSeed=wixStyles.magicLayoutSeed),canSet("gallerySizePx")&&(stateStyles.gallerySizePx=wixStyles.gallerySizePx),canSet("gallerySizeRatio")&&(stateStyles.gallerySizeRatio=wixStyles.gallerySizeRatio),canSet("gallerySizeType")&&(stateStyles.gallerySizeType=["smart","px","ratio"][Number(wixStyles.gallerySizeType)]),canSet("gridStyle")&&(stateStyles.gridStyle=wixStyles.gridStyle),canSet("groupSize")&&(stateStyles.groupSize=Number(wixStyles.groupSize)),canSet("chooseBestGroup")&&(stateStyles.chooseBestGroup="1"===String(wixStyles.chooseBestGroup)),canSet("groupTypes")&&(stateStyles.groupTypes=String(wixStyles.groupTypes)),canSet("rotatingGroupTypes")&&(stateStyles=Object(pro_gallery_lib__WEBPACK_IMPORTED_MODULE_2__.a)(stateStyles,"layoutParams_repeatingGroupTypes",String(wixStyles.rotatingGroupTypes))),canSet("rotatingCropRatios")&&(stateStyles.rotatingCropRatios=String(wixStyles.rotatingCropRatios)),canSet("itemBorderWidth")&&(stateStyles.itemBorderWidth=Number(wixStyles.itemBorderWidth)),canSet("itemBorderColor")&&(stateStyles.itemBorderColor=wixStyles.itemBorderColor),canSet("itemBorderRadius")&&(stateStyles.itemBorderRadius=Number(wixStyles.itemBorderRadius)),canSet("itemShadowOpacityAndColor")&&(stateStyles.itemShadowOpacityAndColor=wixStyles.itemShadowOpacityAndColor),canSet("itemShadowBlur")&&(stateStyles.itemShadowBlur=Number(wixStyles.itemShadowBlur)),canSet("itemShadowDirection")&&(stateStyles.itemShadowDirection=Number(wixStyles.itemShadowDirection)),canSet("itemShadowSize")&&(stateStyles.itemShadowSize=Number(wixStyles.itemShadowSize)),canSet("itemEnableShadow")&&(stateStyles.itemEnableShadow=wixStyles.itemEnableShadow),canSet("floatingImages")&&(stateStyles.floatingImages=Number(wixStyles.floatingImages)/100),canSet("thumbnailSpacings")&&(stateStyles.thumbnailSpacings=Number(wixStyles.thumbnailSpacings)/2),canSet("cubeImages")&&(stateStyles.cubeImages="1"===String(wixStyles.cubeImages)),canSet("smartCrop")&&(stateStyles.smartCrop="1"===String(wixStyles.smartCrop)),canSet("cubeRatio")&&(stateStyles=Object(pro_gallery_lib__WEBPACK_IMPORTED_MODULE_2__.a)(stateStyles,"layoutParams_cropRatio",Number(eval(wixStyles.cubeRatio)))),canSet("imageResize","cubeType")&&(stateStyles.cubeType="1"===String(wixStyles.imageResize)?"fit":"fill","fit"===stateStyles.cubeType&&!0===stateStyles.cropOnlyFill&&(stateStyles.cubeImages=!1)),canSet("imageRatioType")&&("1"===String(wixStyles.imageRatioType)?stateStyles.imageRatioType=_consts__WEBPACK_IMPORTED_MODULE_1__.a.imageRatioType.RESPONSIVE:stateStyles.imageRatioType=_consts__WEBPACK_IMPORTED_MODULE_1__.a.imageRatioType.FIXED),canSet("numberOfDisplayedItems")?stateStyles.numberOfDisplayedItems=Number(wixStyles.numberOfDisplayedItems):stateStyles.numberOfDisplayedItems=defaultStateStyles.numberOfDisplayedItems,stateStyles.imageRatioType===_consts__WEBPACK_IMPORTED_MODULE_1__.a.imageRatioType.RESPONSIVE?stateStyles.gallerySliderImageRatio=(100/Number(stateStyles.numberOfDisplayedItems)).toFixed(2)+"%/100%":canSet("gallerySliderImageRatio","cubeRatio")?stateStyles.gallerySliderImageRatio=Number(eval(["16/9","4/3","1","3/4","9/16"][Number(wixStyles.gallerySliderImageRatio)])):isUndefined(stateStyles.cubeRatio)&&(stateStyles.gallerySliderImageRatio=Number(eval(["16/9","4/3","1","3/4","9/16"][Number(defaultStateStyles.gallerySliderImageRatio)]))),canSet("galleryImageRatio","cubeRatio")&&(stateStyles.galleryImageRatioFromWix=Number(eval(["16/9","4/3","1","3/4","9/16"][Number(wixStyles.galleryImageRatio)]))),"4"===String(wixStyles.galleryLayout)?stateStyles=Object(pro_gallery_lib__WEBPACK_IMPORTED_MODULE_2__.a)(stateStyles,"layoutParams_cropRatio",stateStyles.gallerySliderImageRatio):"2"===String(wixStyles.galleryLayout)&&(stateStyles=Object(pro_gallery_lib__WEBPACK_IMPORTED_MODULE_2__.a)(stateStyles,"layoutParams_cropRatio",stateStyles.galleryImageRatioFromWix||defaultStateStyles.layoutParams.cropRatio)),canSet("fixedColumns")&&(stateStyles.fixedColumns=Number(wixStyles.fixedColumns)),canSet("groupsPerStrip")&&(stateStyles.groupsPerStrip=Number(wixStyles.groupsPerStrip)),canSet("numberOfImagesPerRow")?stateStyles.numberOfImagesPerRow=Number(wixStyles.numberOfImagesPerRow):stateStyles.numberOfImagesPerRow=defaultStateStyles.numberOfImagesPerRow,isMobile){var numberOfImagesPerRowWasntChangedInMobile=void 0===wixStyles.m_numberOfImagesPerRow;numberOfImagesPerRowWasntChangedInMobile&&(stateStyles.numberOfImagesPerRow=1)}if(canSet("numberOfImagesPerCol")&&(stateStyles.numberOfImagesPerCol=Number(wixStyles.numberOfImagesPerCol)),canSet("galleryThumbnailsAlignment")&&(stateStyles.galleryThumbnailsAlignment=["bottom","left","top","right"][wixStyles.galleryThumbnailsAlignment]),canSet("itemOpacity")&&(stateStyles.itemOpacity=wixStyles.itemOpacity),canSet("overlayBackground")&&(stateStyles.overlayBackground=wixStyles.overlayBackground),canSet("galleryLayout")?stateStyles.galleryLayout=wixStyles.galleryLayout:stateStyles.galleryLayout=defaultStateStyles.galleryLayout,canSet("scrollDirection")?stateStyles.scrollDirection=wixStyles.scrollDirection:stateStyles.scrollDirection=defaultStateStyles.scrollDirection,canSet("galleryType")&&(stateStyles.galleryType=wixStyles.galleryType),canSet("titlePlacement")&&("0"===String(wixStyles.titlePlacement)?stateStyles.titlePlacement=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.placements.SHOW_BELOW:"2"===String(wixStyles.titlePlacement)?stateStyles.titlePlacement=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.placements.SHOW_ABOVE:stateStyles.titlePlacement=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.placements.SHOW_ON_HOVER),canSet("hoveringBehaviour")&&("1"===String(wixStyles.hoveringBehaviour)?stateStyles.hoveringBehaviour=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.infoBehaviourOnHover.DISAPPEARS:"2"===String(wixStyles.hoveringBehaviour)?stateStyles.hoveringBehaviour=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.infoBehaviourOnHover.NO_CHANGE:stateStyles.hoveringBehaviour=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.infoBehaviourOnHover.APPEARS),canSet("overlaySizeType")&&"1"===String(wixStyles.overlaySizeType)?(stateStyles.overlaySizeType=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.overlaySizeType.PIXEL,canSet("overlaySizePixel")&&(stateStyles.overlaySize=Number(wixStyles.overlaySizePixel))):(stateStyles.overlaySizeType=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.overlaySizeType.PERCENT,canSet("overlaySizePercent")&&(stateStyles.overlaySize=Number(wixStyles.overlaySizePercent))),canSet("overlayPosition")){var overlayPosition=String(wixStyles.overlayPosition),_a=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.overlayPositions,LEFT=_a.LEFT,RIGHT=_a.RIGHT,BOTTOM=_a.BOTTOM,TOP=_a.TOP,CENTERED_VERTICALLY=_a.CENTERED_VERTICALLY,CENTERED_HORIZONTALLY=_a.CENTERED_HORIZONTALLY,mapOverlayPositionToString={0:LEFT,1:RIGHT,2:BOTTOM,3:TOP,4:CENTERED_VERTICALLY,5:CENTERED_HORIZONTALLY},currentPosition=mapOverlayPositionToString[overlayPosition]||LEFT;stateStyles.overlayPosition=currentPosition}if(canSet("overlayPadding")&&(stateStyles.overlayPadding=Number(wixStyles.overlayPadding)),canSet("overlayType")&&"0"===String(wixStyles.overlayType)&&(stateStyles.overlaySizeType=defaultStateStyles.overlaySizeType,stateStyles.overlaySize=defaultStateStyles.overlaySize,stateStyles.overlayPosition=defaultStateStyles.overlayPosition,stateStyles.overlayPadding=defaultStateStyles.overlayPadding),isUndefined(stateStyles.allowTitle)||stateStyles.allowTitle||isUndefined(stateStyles.allowDescription)||stateStyles.allowDescription||(stateStyles.titlePlacement=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.placements.SHOW_ON_HOVER,stateStyles.hoveringBehaviour=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.infoBehaviourOnHover.APPEARS),canSet("arrowsVerticalPosition")?stateStyles.arrowsVerticalPosition={0:pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.arrowsVerticalPosition.ITEM_CENTER,1:pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.arrowsVerticalPosition.IMAGE_CENTER,2:pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.arrowsVerticalPosition.INFO_CENTER}[wixStyles.arrowsVerticalPosition]:pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.isLayout("SLIDESHOW")(stateStyles)&&(stateStyles.arrowsVerticalPosition=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.arrowsVerticalPosition.IMAGE_CENTER),canSet("scrollAnimation")){var shouldNotAllowHorizontalScrollAnimation="3"===String(stateStyles.galleryLayout)||"5"===String(stateStyles.galleryLayout);shouldNotAllowHorizontalScrollAnimation?stateStyles.scrollAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.scrollAnimations.NO_EFFECT:"1"===String(wixStyles.scrollAnimation)?stateStyles.scrollAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.scrollAnimations.FADE_IN:"2"===String(wixStyles.scrollAnimation)?stateStyles.scrollAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.scrollAnimations.GRAYSCALE:"3"===String(wixStyles.scrollAnimation)?stateStyles.scrollAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.scrollAnimations.SLIDE_UP:"4"===String(wixStyles.scrollAnimation)?stateStyles.scrollAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.scrollAnimations.EXPAND:"5"===String(wixStyles.scrollAnimation)?stateStyles.scrollAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.scrollAnimations.SHRINK:"6"===String(wixStyles.scrollAnimation)?stateStyles.scrollAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.scrollAnimations.ZOOM_OUT:"7"===String(wixStyles.scrollAnimation)?stateStyles.scrollAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.scrollAnimations.ONE_COLOR:stateStyles.scrollAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.scrollAnimations.NO_EFFECT}if(canSet("slideAnimation")){var shouldAllowSlideAnimation="3"===String(stateStyles.galleryLayout)||"5"===String(stateStyles.galleryLayout);if(shouldAllowSlideAnimation){var slideAnimation=String(wixStyles.slideAnimation);switch(slideAnimation){case"1":stateStyles.slideAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.slideAnimations.FADE;break;case"2":stateStyles.slideAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.slideAnimations.DECK;break;case"0":default:stateStyles.slideAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.slideAnimations.SCROLL}}else stateStyles.slideAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.slideAnimations.SCROLL}else stateStyles.slideAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.slideAnimations.SCROLL;if(canSet("slideTransition")){var slideTransition=String(wixStyles.slideTransition);switch(slideTransition){case"0":stateStyles.slideTransition=_consts__WEBPACK_IMPORTED_MODULE_1__.a.slideTransitions.LINEAR;break;case"2":stateStyles.slideTransition=_consts__WEBPACK_IMPORTED_MODULE_1__.a.slideTransitions.EASE_OUT;break;case"3":stateStyles.slideTransition=_consts__WEBPACK_IMPORTED_MODULE_1__.a.slideTransitions.EASE_IN;break;case"4":stateStyles.slideTransition=_consts__WEBPACK_IMPORTED_MODULE_1__.a.slideTransitions.BOUNCE_IN;break;case"5":stateStyles.slideTransition=_consts__WEBPACK_IMPORTED_MODULE_1__.a.slideTransitions.BOUNCE_OUT;break;case"6":stateStyles.slideTransition=_consts__WEBPACK_IMPORTED_MODULE_1__.a.slideTransitions.BOUNCE_IN_OUT;break;case"7":stateStyles.slideTransition=_consts__WEBPACK_IMPORTED_MODULE_1__.a.slideTransitions.EXPO;break;case"1":default:stateStyles.slideTransition=_consts__WEBPACK_IMPORTED_MODULE_1__.a.slideTransitions.EASE_IN_OUT}}if(canSet("scrollDuration")&&(stateStyles.scrollDuration=1e3*Number(wixStyles.scrollDuration)||0),canSet("overlayAnimation")){var overlayAnimation=String(wixStyles.overlayAnimation),_b=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.overlayAnimations,NO_EFFECT=_b.NO_EFFECT,FADE_IN=_b.FADE_IN,EXPAND=_b.EXPAND,SLIDE_UP=_b.SLIDE_UP,SLIDE_RIGHT=_b.SLIDE_RIGHT,SLIDE_DOWN=_b.SLIDE_DOWN,SLIDE_LEFT=_b.SLIDE_LEFT,mapOverlayAnimationToString={0:NO_EFFECT,1:FADE_IN,2:EXPAND,3:SLIDE_UP,4:SLIDE_RIGHT,5:SLIDE_DOWN,6:SLIDE_LEFT};stateStyles.overlayAnimation=mapOverlayAnimationToString[overlayAnimation]||NO_EFFECT}if(canSet("imageHoverAnimation")&&("1"===String(wixStyles.imageHoverAnimation)?stateStyles.imageHoverAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.imageHoverAnimations.ZOOM_IN:"2"===String(wixStyles.imageHoverAnimation)?stateStyles.imageHoverAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.imageHoverAnimations.BLUR:"3"===String(wixStyles.imageHoverAnimation)?stateStyles.imageHoverAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.imageHoverAnimations.GRAYSCALE:"4"===String(wixStyles.imageHoverAnimation)?stateStyles.imageHoverAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.imageHoverAnimations.SHRINK:"5"===String(wixStyles.imageHoverAnimation)?stateStyles.imageHoverAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.imageHoverAnimations.INVERT:"6"===String(wixStyles.imageHoverAnimation)?stateStyles.imageHoverAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.imageHoverAnimations.COLOR_IN:"7"===String(wixStyles.imageHoverAnimation)?stateStyles.imageHoverAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.imageHoverAnimations.DARKENED:stateStyles.imageHoverAnimation=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.imageHoverAnimations.NO_EFFECT),canSet("expandAnimation")&&("1"===String(wixStyles.expandAnimation)?stateStyles.expandAnimation=_consts__WEBPACK_IMPORTED_MODULE_1__.a.expandAnimations.EXPAND:"2"===String(wixStyles.expandAnimation)?stateStyles.expandAnimation=_consts__WEBPACK_IMPORTED_MODULE_1__.a.expandAnimations.FADE_IN:"3"===String(wixStyles.expandAnimation)?stateStyles.expandAnimation=_consts__WEBPACK_IMPORTED_MODULE_1__.a.expandAnimations.ZOOM:stateStyles.expandAnimation=_consts__WEBPACK_IMPORTED_MODULE_1__.a.expandAnimations.NO_EFFECT),canSet("itemFont")&&(stateStyles.itemFont=wixStyles.itemFont),canSet("itemFontSlideshow")&&(stateStyles.itemFontSlideshow=wixStyles.itemFontSlideshow),canSet("itemDescriptionFontSlideshow")&&(stateStyles.itemDescriptionFontSlideshow=wixStyles.itemDescriptionFontSlideshow),canSet("itemDescriptionFont")&&(stateStyles.itemDescriptionFont=wixStyles.itemDescriptionFont),canSet("itemFontColor")&&(stateStyles.itemFontColor=wixStyles.itemFontColor),canSet("itemFontColorSlideshow")&&(stateStyles.itemFontColorSlideshow=wixStyles.itemFontColorSlideshow),canSet("itemDescriptionFontColor")&&(stateStyles.itemDescriptionFontColor=wixStyles.itemDescriptionFontColor),canSet("itemDescriptionFontColorSlideshow")&&(stateStyles.itemDescriptionFontColorSlideshow=wixStyles.itemDescriptionFontColorSlideshow),canSet("textBoxFillColor")&&(stateStyles.textBoxFillColor=wixStyles.textBoxFillColor),canSet("textsVerticalPadding")?stateStyles.textsVerticalPadding=wixStyles.textsVerticalPadding:stateStyles.textsVerticalPadding=defaultStateStyles.textsVerticalPadding,canSet("textsHorizontalPadding")?stateStyles.textsHorizontalPadding=wixStyles.textsHorizontalPadding:stateStyles.textsHorizontalPadding=defaultStateStyles.textsHorizontalPadding,canSet("textBoxBorderRadius")&&(stateStyles.textBoxBorderRadius=Number(wixStyles.textBoxBorderRadius)),canSet("textBoxBorderWidth")&&(stateStyles.textBoxBorderWidth=Number(wixStyles.textBoxBorderWidth)),canSet("textBoxBorderColor")&&(stateStyles.textBoxBorderColor=wixStyles.textBoxBorderColor),canSet("titleDescriptionSpace")?stateStyles.titleDescriptionSpace=Number(wixStyles.titleDescriptionSpace):stateStyles.titleDescriptionSpace=defaultStateStyles.titleDescriptionSpace,canSet("textImageSpace")&&(stateStyles.textImageSpace=wixStyles.textImageSpace),canSet("imageInfoType")){var selectedImageInfoType=void 0;selectedImageInfoType="0"===String(wixStyles.imageInfoType)?pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.infoType.NO_BACKGROUND:"1"===String(wixStyles.imageInfoType)?pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.infoType.ATTACHED_BACKGROUND:"2"===String(wixStyles.imageInfoType)?pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.infoType.SEPARATED_BACKGROUND:pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.infoType.NO_BACKGROUND,stateStyles.imageInfoType=selectedImageInfoType}if(canSet("galleryHorizontalAlign")){var horizontalAlign=void 0,textAlign=void 0;switch(wixStyles.galleryHorizontalAlign){case 0:horizontalAlign="flex-start",textAlign="left";break;case 1:default:horizontalAlign="center",textAlign="center";break;case 2:horizontalAlign="flex-end",textAlign="right"}stateStyles.galleryHorizontalAlign=horizontalAlign,stateStyles.galleryTextAlign=textAlign}else stateStyles.galleryHorizontalAlign=defaultStateStyles.galleryHorizontalAlign,stateStyles.galleryTextAlign=defaultStateStyles.galleryTextAlign;if(canSet("galleryVerticalAlign")){var verticalAlign=void 0;switch(wixStyles.galleryVerticalAlign){case 0:default:verticalAlign="flex-start";break;case 1:verticalAlign="center";break;case 2:verticalAlign="flex-end"}stateStyles.galleryVerticalAlign=verticalAlign}else stateStyles.galleryVerticalAlign=defaultStateStyles.galleryVerticalAlign;if(canSet("itemClick"))if("number"==typeof wixStyles.itemClick)switch(wixStyles.itemClick){case 0:default:stateStyles.itemClick="expand";break;case 1:stateStyles.itemClick="link";break;case 2:stateStyles.itemClick="nothing";break;case 3:stateStyles.itemClick="fullscreen"}else"expand"===wixStyles.itemClick||"link"===wixStyles.itemClick||"nothing"===wixStyles.itemClick||"fullscreen"===wixStyles.itemClick?stateStyles.itemClick=wixStyles.itemClick:stateStyles.itemClick="expand";if(canSet("loadMoreButtonText")&&(stateStyles.loadMoreButtonText=String(wixStyles.loadMoreButtonText)),canSet("loadMoreButtonFont")&&(stateStyles.loadMoreButtonFont=wixStyles.loadMoreButtonFont),canSet("loadMoreButtonFontColor")&&(stateStyles.loadMoreButtonFontColor=wixStyles.loadMoreButtonFontColor),canSet("loadMoreButtonColor")&&(stateStyles.loadMoreButtonColor=wixStyles.loadMoreButtonColor),canSet("loadMoreButtonBorderWidth")&&(stateStyles.loadMoreButtonBorderWidth=wixStyles.loadMoreButtonBorderWidth),canSet("loadMoreButtonBorderColor")&&(stateStyles.loadMoreButtonBorderColor=wixStyles.loadMoreButtonBorderColor),canSet("loadMoreButtonBorderRadius")&&(stateStyles.loadMoreButtonBorderRadius=wixStyles.loadMoreButtonBorderRadius),canSet("autoSlideshowContinuousSpeed")&&(stateStyles.autoSlideshowContinuousSpeed=Number(wixStyles.autoSlideshowContinuousSpeed)||0),canSet("autoSlideshowType")){var shouldAllowContinuousAutoSlide=stateStyles.slideAnimation===pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.slideAnimations.SCROLL;if(shouldAllowContinuousAutoSlide){var autoSlideshowType=String(wixStyles.autoSlideshowType);switch(autoSlideshowType){case"0":stateStyles.autoSlideshowType=_consts__WEBPACK_IMPORTED_MODULE_1__.a.autoSlideshowTypes.INTERVAL;break;case"1":stateStyles.autoSlideshowType=_consts__WEBPACK_IMPORTED_MODULE_1__.a.autoSlideshowTypes.CONTINUOUS;break;default:stateStyles.autoSlideshowType=_consts__WEBPACK_IMPORTED_MODULE_1__.a.autoSlideshowTypes.INTERVAL}}else stateStyles.autoSlideshowType=_consts__WEBPACK_IMPORTED_MODULE_1__.a.autoSlideshowTypes.INTERVAL}if(canSet("customButtonText")?stateStyles.customButtonText=String(wixStyles.customButtonText):stateStyles.customButtonText=defaultStateStyles.customButtonText,canSet("customButtonFontForHover")&&(stateStyles.customButtonFontForHover=wixStyles.customButtonFontForHover),canSet("customButtonFontColorForHover")&&(stateStyles.customButtonFontColorForHover=wixStyles.customButtonFontColorForHover),canSet("externalCustomButtonColor")&&(stateStyles.externalCustomButtonColor=wixStyles.externalCustomButtonColor),canSet("externalCustomButtonBorderWidth")&&(stateStyles.externalCustomButtonBorderWidth=wixStyles.externalCustomButtonBorderWidth),canSet("externalCustomButtonBorderColor")&&(stateStyles.externalCustomButtonBorderColor=wixStyles.externalCustomButtonBorderColor),canSet("externalCustomButtonBorderRadius")&&(stateStyles.externalCustomButtonBorderRadius=wixStyles.externalCustomButtonBorderRadius),canSet("customButtonFont")&&(stateStyles.customButtonFont=wixStyles.customButtonFont),canSet("customButtonFontColor")&&(stateStyles.customButtonFontColor=wixStyles.customButtonFontColor),canSet("customButtonColor")&&(stateStyles.customButtonColor=wixStyles.customButtonColor),canSet("customButtonBorderWidth")&&(stateStyles.customButtonBorderWidth=wixStyles.customButtonBorderWidth),canSet("customButtonBorderColor")&&(stateStyles.customButtonBorderColor=wixStyles.customButtonBorderColor),canSet("customButtonBorderRadius")&&(stateStyles.customButtonBorderRadius=wixStyles.customButtonBorderRadius),canSet("loadMoreAmount")&&("1"===String(wixStyles.loadMoreAmount)?stateStyles.loadMoreAmount="partial":stateStyles.loadMoreAmount="all"),stateStyles.sharpParams={quality:90,usm:{}},canSet("imageQuality")&&(stateStyles.sharpParams.quality=wixStyles.imageQuality),canSet("usmToggle")&&(stateStyles.sharpParams.allowUsm=wixStyles.usmToggle,!0===wixStyles.usmToggle&&(canSet("usm_a")&&(stateStyles.sharpParams.usm.usm_a=(wixStyles.usm_a||0)/100),canSet("usm_r")&&(stateStyles.sharpParams.usm.usm_r=wixStyles.usm_r),canSet("usm_t")&&(stateStyles.sharpParams.usm.usm_t=(wixStyles.usm_t||0)/255))),canSet("videoPlay"))switch(wixStyles.videoPlay){case 0:default:stateStyles.videoPlay="hover";break;case 1:stateStyles.videoPlay="auto";break;case 2:stateStyles.videoPlay="onClick"}canSet("videoSound")&&(stateStyles.videoSound=wixStyles.videoSound),canSet("videoSpeed")&&(stateStyles.videoSpeed=wixStyles.videoSpeed),canSet("videoLoop")&&(stateStyles.videoLoop=wixStyles.videoLoop),canSet("showVideoPlayButton")&&(stateStyles.showVideoPlayButton=wixStyles.showVideoPlayButton),canSet("mobilePanorama")&&(stateStyles.mobilePanorama="1"===String(wixStyles.mobilePanorama)),canSet("placeGroupsLtr")&&(stateStyles.placeGroupsLtr="1"===String(wixStyles.placeGroupsLtr)),canSet("isAutoSlideshow")&&(stateStyles.isAutoSlideshow="1"===String(wixStyles.isAutoSlideshow)),canSet("slideshowLoop")&&(stateStyles.slideshowLoop="1"===String(wixStyles.slideshowLoop)),canSet("playButtonForAutoSlideShow")&&(stateStyles.playButtonForAutoSlideShow="1"===String(wixStyles.playButtonForAutoSlideShow)),canSet("pauseAutoSlideshowOnHover")&&(stateStyles.pauseAutoSlideshowOnHover=wixStyles.pauseAutoSlideshowOnHover),canSet("allowSlideshowCounter")&&(stateStyles.allowSlideshowCounter=wixStyles.allowSlideshowCounter),canSet("autoSlideshowInterval")&&(stateStyles.autoSlideshowInterval=Number(wixStyles.autoSlideshowInterval)||0),canSet("showArrows")?stateStyles.showArrows=wixStyles.showArrows:isUndefined(stateStyles.showArrows)&&(stateStyles.showArrows=defaultStateStyles.showArrows),canSet("arrowsSize")&&(stateStyles.arrowsSize=Number(wixStyles.arrowsSize)||23),canSet("arrowsColor")&&(stateStyles.arrowsColor=wixStyles.arrowsColor),canSet("arrowsPosition")&&(stateStyles.arrowsPosition=1===Number(stateStyles.showArrows)?wixStyles.arrowsPosition:0),stateStyles.arrowsPadding=canSet("arrowsPadding")?wixStyles.arrowsPadding:defaultStateStyles.arrowsPadding,canSet("oneColorAnimationColor")&&(stateStyles.oneColorAnimationColor=wixStyles.oneColorAnimationColor),canSet("slideshowInfoSize")&&(stateStyles.slideshowInfoSize=Number(wixStyles.slideshowInfoSize)),canSet("thumbnailSize")&&(stateStyles.thumbnailSize=isMobile?defaultStateStyles.thumbnailSize:Number(wixStyles.thumbnailSize)||defaultStateStyles.thumbnailSize),canSet("responsive")?stateStyles.responsive=wixStyles.responsive:stateStyles.responsive=!1,canSet("imageLoadingMode")&&("1"===String(wixStyles.imageLoadingMode)?stateStyles.imageLoadingMode=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.loadingMode.COLOR:stateStyles.imageLoadingMode=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.loadingMode.BLUR),canSet("imageLoadingWithColorMode")&&("1"===String(wixStyles.imageLoadingWithColorMode)?stateStyles.imageLoadingWithColorMode=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.loadingWithColorMode.MAIN_COLOR:stateStyles.imageLoadingWithColorMode=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.loadingWithColorMode.PICKED_COLOR),canSet("textBoxHeight")&&(stateStyles.textBoxHeight=wixStyles.textBoxHeight),canSet("calculateTextBoxHeightMode")?"1"===String(wixStyles.calculateTextBoxHeightMode)?stateStyles.calculateTextBoxHeightMode=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.textBoxWidthCalculationOptions.MANUAL:stateStyles.calculateTextBoxHeightMode=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.textBoxWidthCalculationOptions.AUTOMATIC:stateStyles.calculateTextBoxHeightMode=defaultStateStyles.calculateTextBoxHeightMode,canSet("jsonStyleParams")&&(stateStyles.jsonStyleParams=wixStyles.jsonStyleParams),canSet("designedPresetId")&&(stateStyles.designedPresetId=wixStyles.designedPresetId),canSet("galleryLayoutType")&&(stateStyles.galleryLayoutType=wixStyles.galleryLayoutType),canSet("shouldIndexDirectShareLinkInSEO")&&(stateStyles.shouldIndexDirectShareLinkInSEO=wixStyles.shouldIndexDirectShareLinkInSEO),isUndefined(stateStyles.allowTitle)&&(stateStyles.allowTitle=defaultStateStyles.allowTitle),isUndefined(stateStyles.allowDescription)&&(stateStyles.allowDescription=defaultStateStyles.allowDescription);var getFontLineHeight=function(t){return t.value.match(/\/(\d+)px/)?parseInt(t.value.match(/\/(\d+)px/)[1]):t.value.match(/\/(\d+)%/)?t.size*(parseInt(t.value.match(/\/(\d+)%/)[1])/100):t.value.match(/px\/(([0-9]*[.])?[0-9]*)/)?t.size*parseFloat(t.value.match(/px\/(([0-9]*[.])?[0-9]*)/)[1]):(console.error("GalleryContainer -> getFontLineHeight -> font lineHeight do not match any pattern. font value: ",t.value),t.size)},getHeightByContent=function(t){var e=t.itemFontSlideshow,i=t.itemDescriptionFontSlideshow,r=t.allowTitle,o=t.allowDescription,n=t.useCustomButton,a=t.titlePlacement;if(a!==pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.placements.SHOW_ABOVE&&a!==pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.placements.SHOW_BELOW)return 0;var s=n?33:0,l=n&&(r||o)?16:0,c=0,u=0;return r&&(c=e?getFontLineHeight(e):22,l+=o?6:0),o&&(u=i?getFontLineHeight(i):15),10+c+3*u+45+l+s};stateStyles.calculateTextBoxHeightMode===pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.textBoxWidthCalculationOptions.AUTOMATIC&&(stateStyles.calculateTextBoxHeightMode=pro_gallery_lib__WEBPACK_IMPORTED_MODULE_4__.a.textBoxWidthCalculationOptions.MANUAL,stateStyles.textBoxHeight=getHeightByContent(stateStyles)),stateStyles.gotStyleParams=gotStyleParams;var finalStyleParams=Object(pro_gallery_lib__WEBPACK_IMPORTED_MODULE_2__.e)(defaultStateStyles,stateStyles);return finalStyleParams.designedPresetId>=1&&(finalStyleParams=Object(_customPresetProcessor__WEBPACK_IMPORTED_MODULE_6__.a)({styles:finalStyleParams,presetId:finalStyleParams.designedPresetId,isMobile:isMobile}),delete finalStyleParams.jsonStyleParams,delete finalStyleParams.m_jsonStyleParams,delete finalStyleParams.designedPresetId,delete finalStyleParams.m_designedPresetId,finalStyleParams.galleryLayout=-1),Object(pro_gallery_lib__WEBPACK_IMPORTED_MODULE_5__.a)(finalStyleParams)},getProGalleryStyles=function(t,e){void 0===e&&(e={});var i=Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)({},t.booleans),t.numbers),t.colors),t.fonts),t.manual);return getProGalleryStylesImp(i,!0,Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)(Object(tslib__WEBPACK_IMPORTED_MODULE_0__.a)({},{isMobile:!1,isStoreGallery:!1,isOnBoarding:!1}),e))}},,,function(t,e,i){"use strict";i.r(e),i.d(e,"initAppForPage",(function(){return U})),i.d(e,"createControllers",(function(){return F})),i.d(e,"exports",(function(){return W}));var r=i(13),o=i(14),n=i.n(o),a=i(11);function s(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function l(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?s(Object(i),!0).forEach((function(e){c(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function c(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var u=function(t){var e=t.lastIndexOf("/");return t.substring(e+1)},h=function(t){var e=t.split("/");return e&&e.length>0?e.pop():""},p=["video.wixstatic.com/video/","static.wixstatic.com/media/video/"],d=function(t,e){return t.filter((function(t){return!(e||"default"in t&&t.default)||!(!e||!("default"in t)&&!t.default)})).map((function(t){return{height:t.height,width:t.width,url:h(t.url)}}))},g=function(t,e){var i="mediaUrl"in e&&u(e.mediaUrl);t=l(l(l(l({},t),i&&{mediaUrl:u(e.mediaUrl)}),"token"in e&&{token:e.token}),"imageToken"in e&&{imageToken:e.imageToken});var r=e.photoMetadata;return t.metaData=l(l(l(l(l(l(l(l(l({},t.metaData),{},{sourceName:"private"},"tags"in e&&{tags:e.tags}),"sourceName"in r&&{isDemo:"private"===r.sourceName}),"height"in r&&{height:r.height}),"width"in r&&{width:r.width}),"focalPoint"in r&&r.focalPoint&&{focalPoint:[r.focalPoint.x,r.focalPoint.y]}),"name"in e&&{fileName:e.name}),i&&{name:u(e.mediaUrl)}),function(t){return l({},("quality"in t||"unsharpMasking"in t)&&{sharpParams:{L:l(l({},"quality"in t&&{overrideQuality:!0,quality:t.quality}),"unsharpMasking"in t&&{overrideUsm:!0,usm:l(l(l({},"amount"in t.unsharpMasking&&{usm_a:t.unsharpMasking.amount}),"radius"in t.unsharpMasking&&{usm_r:t.unsharpMasking.radius}),"threshold"in t.unsharpMasking&&{usm_t:t.unsharpMasking.threshold})})}})}(r)),t},m=function(t){try{return t.map((function(t){var e,i,r=l(l(l(l({},"id"in t&&{itemId:t.id}),"secure"in t&&{isSecure:t.secure}),"orderIndex"in t&&{orderIndex:t.orderIndex}),{},{metaData:l(l(l({},"description"in t&&{description:t.description}),"title"in t&&{title:t.title}),{},{link:{type:"none",target:"_blank"}},"link"in t&&{link:(e=t.link,i=[{serverLinkField:"phone",type:"PhoneLink"},{serverLinkField:"email",type:"EmailLink"},{serverLinkField:"document",type:"DocumentLink"},{serverLinkField:"page",type:"PageLink"},{serverLinkField:"external",type:"ExternalLink"},{serverLinkField:"anchor",type:"AnchorLink"},{serverLinkField:"dynamicPage",type:"DynamicPageLink"}].find((function(t){var i=t.serverLinkField;return e.wixLinkData&&e.wixLinkData[""+i]})),l({target:e.wixLinkData[""+i.serverLinkField].target||e.target,type:"wix",data:l(l({},e.wixLinkData[""+i.serverLinkField]),{},{type:i.type})},"text"in e&&{text:e.text}))})});return"Video"===t.dataType?function(t,e){var i,r,o,n=e.videoMetadata,a="source"in n&&"Undefined"!==n.source;return(t=l(l(l({},t),a&&"posters"in n&&n.posters.length>0&&{mediaUrl:h(n.posters[0].url)}),!a&&"mediaUrl"in e&&{mediaUrl:(i=e.mediaUrl,r=p.find((function(t){return i.includes(t)})),function(t,e){var i=t.split(e);if(i&&2===i.length){var r=i.pop().split("/");if(r.length>0)return r[0]}return""}(i,r))})).metaData=l(l(l(l(l(l(l(l(l(l(l(l(l(l(l({},t.metaData),{},{type:"video"},"posters"in n&&{customPoster:d(n.posters,!0).length>0?d(n.posters,!0)[0]:""}),"source"in n&&{isExternal:a}),"height"in n&&{height:n.height}),"width"in n&&{width:n.width}),"name"in e&&{name:e.name}),"posters"in n&&{posters:d(n.posters,!1)}),"sourceName"in n&&{isDemo:"private"===n.sourceName}),!a&&"resolutions"in n&&{qualities:(o=n.resolutions,o.map((function(t){return{formats:[Object.keys(t.urls)[0]],height:t.height,quality:t.videoMode||t.height+"p",width:t.width}})))}),a&&{qualities:[]}),"duration"in n&&{duration:Number(n.duration)}),a&&{source:n.source.toLowerCase()}),a&&{videoUrl:e.mediaUrl}),a&&{videoId:n.externalId}),"posters"in n&&"focalPoint"in n.posters[0]&&{focalPoint:[n.posters[0].focalPoint.x,n.posters[0].focalPoint.y]}),t}(r,t):"Photo"===t.dataType?g(r,t):"Text"===t.dataType?function(t,e){var i=e.textMetadata,r="style"in i;return(t=l(l({},t),{},{mediaUrl:""})).metaData=l(l(l(l(l(l(l(l(l({},t.metaData),{},{type:"text"},"editorHtml"in i&&{editorHtml:i.editorHtml}),"html"in i&&{html:i.html}),"name"in e&&{name:e.name}),"fontPickerStyleParamName"in i&&{fontPickerStyleParamName:i.fontPickerStyleParamName}),r&&"height"in i.style&&{height:i.style.height}),r&&"width"in i.style&&{width:i.style.width}),r&&{textStyle:i.style}),"editorFontId"in i&&{fontPickerStyleParamName:i.editorFontId}),t}(r,t):{}}))}catch(e){return console.error("Wrong format for gallery items",t,e),[]}},f=i(0),y=i(3),b=i(8),S=function(){function t(t,e,i,r){void 0===t&&(t=void 0),void 0===e&&(e=void 0),void 0===i&&(i=void 0),void 0===r&&(r=void 0),this.compId=t,this.instance=e,this.getCompId=this.getCompId.bind(this),this.getInstance=this.getInstance.bind(this),this.viewMode=i,this.baseUrl=r||""}return t.prototype.getCompId=function(){return this.compId?this.compId:y.a.Wix.Utils.getOrigCompId()?y.a.Wix.Utils.getOrigCompId():y.a.Wix.Utils.getCompId()},t.prototype.isLiveSite=function(){return this.viewMode&&"site"===this.viewMode.toLowerCase()},t.prototype.isPreview=function(){return this.viewMode&&"preview"===this.viewMode.toLowerCase()},t.prototype.getInstance=function(){return this.instance?this.instance:y.a.instance},t.prototype.get=function(t,e){return Object(f.b)(this,void 0,void 0,(function(){var i;return Object(f.c)(this,(function(r){switch(r.label){case 0:return"VIEWER",[4,fetch(this.baseUrl+"/_api/app-settings-service/v1/settings/components/"+this.getCompId()+"?state="+t+"&host=VIEWER",{method:"GET",headers:{Authorization:this.getInstance(),Accept:"application/json, text/plain, */*"}}).then((function(t){return t.json()}))];case 1:return(i=r.sent())&&i.settings?i.settings.originGallerySettings?(i.settings=Object(f.a)(Object(f.a)({},i.settings.originGallerySettings),i.settings),i.settings.originGallerySettings=null,this.isLiveSite()||this.isPreview()?[3,3]:[4,this.setMultiple(i.settings,b.a.dataSavedState.PUBLISHED)]):[3,3]:[3,4];case 2:r.sent(),r.label=3;case 3:return e?[2,i.settings[e]]:[2,i.settings];case 4:return[2,void 0]}}))}))},t.prototype.setMultiple=function(t,e){return void 0===e&&(e=b.a.dataSavedState.SAVED),Object(f.b)(this,void 0,void 0,(function(){var i,r;return Object(f.c)(this,(function(o){switch(o.label){case 0:return t.galleryId,i=Object(f.d)(t,["galleryId"]),"VIEWER",r={settings:i||{},host:"VIEWER",state:e},[4,fetch(this.baseUrl+"/_api/app-settings-service/v1/settings/components/"+this.getCompId(),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:this.getInstance()},body:JSON.stringify(r)})];case 1:return o.sent(),[2]}}))}))},t.prototype.set=function(t,e){var i;this.setMultiple(((i={})[t]=e,i))},t}(),v=i(1);function _(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function O(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?_(Object(i),!0).forEach((function(e){I(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function I(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function w(t,e,i,r,o,n,a){try{var s=t[n](a),l=s.value}catch(t){return void i(t)}s.done?e(l):Promise.resolve(l).then(r,o)}function x(t){return function(){var e=this,i=arguments;return new Promise((function(r,o){var n=t.apply(e,i);function a(t){w(n,r,o,a,s,"next",t)}function s(t){w(n,r,o,a,s,"throw",t)}a(void 0)}))}}var P=function(){function t(t){var e=t.context,i=t.controllerConfig,r=t.reportBiLog,o=t.SSRWorkerLog;this.SSRWorkerLog=o,this.ITEMS_BATCH_SIZE=50,this.controllerConfig=i,this.wixCodeApi=i.wixCodeApi,this.viewMode=a.a.parseViewMode(this.wixCodeApi.window.viewMode),this.context=e.getContext(),this.baseUrl=a.a.getBaseUrl(this.wixCodeApi,this.viewMode),this.appSettingsBaseUrl=this.viewMode===v.a.viewMode.PREVIEW||this.viewMode===v.a.viewMode.EDIT?"":this.baseUrl,this.SSRWorkerLog.push("appSettingsBaseUrl: "+this.appSettingsBaseUrl),this.compId=i.compId,this.externalId=i.config.externalId||"00000000-0000-0000-0000-000000000000",this.instance=i.appParams.instance,this.instanceId=i.appParams.instanceId,this.appSettings=new S(this.compId,this.instance,this.viewMode,this.appSettingsBaseUrl),this.reportBiLog=r,this.initDataSavedState()}var e=t.prototype;return e.isSSR=function(){return"backend"===this.wixCodeApi.window.rendering.env},e.getAppSettings=function(){var t=x(n.a.mark((function t(){var e,i,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.appSettingsFetchPromise){t.next=26;break}return t.prev=1,this.SSRWorkerLog.push("FLOW trying to get settings from appSettings"),this.appSettingsFetchPromise=this.appSettings.get(this.dataSavedState),t.next=6,this.appSettingsFetchPromise;case 6:if(!(i=t.sent)||!i.galleryId){t.next=14;break}Object.assign(this,O({},i)),this.appSettingsData=i,this.SSRWorkerLog.push("FLOW received appSettings and the gallery Id is: ",i.galleryId),e=i,t.next=18;break;case 14:if(this.isSSR()){t.next=18;break}throw r={compId:this.compId,errorType:"no_appSettings.galleryId"},this.reportBiLog("proGalleryErrorUou",r),new Error("no galleryId in appSettings");case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(1),console.error("Failed to get settings: "+t.t0);case 23:return t.abrupt("return",e);case 26:return this.SSRWorkerLog.push("appSettings is already fetching"),t.abrupt("return",this.appSettingsFetchPromise);case 28:case"end":return t.stop()}}),t,this,[[1,20]])})));return function(){return t.apply(this,arguments)}}(),e.fetchGalleryId=function(){var t=x(n.a.mark((function t(){return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.galleryId){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.getAppSettings();case 4:return t.sent||console.error("could not get galleryId for pro gallery"),t.abrupt("return");case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.getGalleryDataFromServer=function(){var t=x(n.a.mark((function t(e){var i,r,o,s,l,c,u;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.from,r=e.batchSize,o=void 0===r?this.ITEMS_BATCH_SIZE:r,this.SSRWorkerLog.push("Fn getGalleryDataFromServer","from: ",i),t.next=4,a.a.verifyExperiments(this.scopedGlobalSdkApis);case 4:return t.prev=4,t.next=7,this.getDataFromServer({from:i,batchSize:o});case 7:return t.abrupt("return",t.sent);case 10:return t.prev=10,t.t0=t.catch(4),console.error("failed to fetch from V2 server, fetching form V1"),t.next=15,this.TO_BE_REMOVED_getDataFromFallbackServer({from:i,batchSize:o});case 15:return s=t.sent,this.TO_BE_REMOVED_setGalleryData({galleryData:s}),l=s.pageResponse,c=l.items,u=l.totalItemsCount,t.abrupt("return",{items:c,totalItemsCount:u});case 19:case"end":return t.stop()}}),t,this,[[4,10]])})));return function(e){return t.apply(this,arguments)}}(),e.TO_BE_REMOVED_addSsrUrlParams=function(t){return t+(this.isSSR()?"&petri_ovr=specs.SkipCachePopulationSpec:true":"")},e.TO_BE_REMOVED_getDataFromFallbackServer=function(){var t=x(n.a.mark((function t(e){var i,r,o,a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.from,r=e.batchSize,o=i+r,a=this.TO_BE_REMOVED_addSsrUrlParams(this.baseUrl+"/_api/pro-gallery-webapp/v1/gallery/"+this.instanceId+"/items/from/"+i+"/to/"+o+"?compId="+this.compId+"&externalId="+this.externalId),this.SSRWorkerLog.push("trying to get items from the fallback server ",a),t.abrupt("return",this.fetchNonPlatformizedServerData({requestUrl:a,multilingualHeader:this.getMultiLangHeader()}));case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.fetchNonPlatformizedServerData=function(){var t=x(n.a.mark((function t(e){var i,r,o,a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.requestUrl,r=e.multilingualHeader,t.next=3,fetch(i,{headers:{"x-wix-linguist":r}});case 3:return o=t.sent,t.next=6,o.json();case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getDataFromServer=function(){var t=x(n.a.mark((function t(e){var i,r,o,a,s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.from,r=e.batchSize,t.next=3,this.fetchGalleryId();case 3:if(this.galleryId){t.next=5;break}throw new Error("no galleryId, can not fetch items from pro gallery server");case 5:return o=this.baseUrl+"/pro-gallery-webapp/v1/galleries/"+this.galleryId+"?offset="+i+"&limit="+r+"&externalId="+this.externalId+"&state="+this.dataSavedState+"&lang="+this.getLangQuery(),t.next=8,this.fetchPlatformizedData({requestUrl:o,multilingualHeader:this.getMultiLangHeader()});case 8:return a=t.sent,s=null==a?void 0:a.gallery,this.setGalleryData({gallery:s,settings:this.appSettingsData}),t.abrupt("return",{items:m(s.items),totalItemsCount:s.totalItemsCount});case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.fetchPlatformizedData=function(){var t=x(n.a.mark((function t(e){var i,r,o,a;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.requestUrl,r=e.multilingualHeader,t.next=3,fetch(i,{method:"GET",headers:{"Content-Type":"application/json",Authorization:this.instance,"x-wix-linguist":r}});case 3:return o=t.sent,t.next=6,o.json();case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.initDataSavedState=function(){if(this.viewMode===v.a.viewMode.PREVIEW||this.viewMode===v.a.viewMode.EDIT){var t=this.instance.substring(this.instance.indexOf(".")+1),e=JSON.parse(atob(t)).demoMode;this.dataSavedState=e?b.a.dataSavedState.PUBLISHED:b.a.dataSavedState.SAVED}else this.dataSavedState=b.a.dataSavedState.PUBLISHED},e.getMultiLangFields=function(){var t=this.wixCodeApi.window.multilingual.currentLanguage,e=this.wixCodeApi.window.multilingual.siteLanguages.filter((function(e){return e.languageCode===t}));return e.length>0?{isPrimaryLanguage:e[0].isPrimaryLanguage,lang:t,locale:e[0].locale}:null},e.getMultiLangHeader=function(){var t=this.getMultiLangFields(),e=t?t.lang+"|"+t.locale+"|"+t.isPrimaryLanguage.toString()+"|"+this.instanceId:"";return this.SSRWorkerLog.push("Multilingual header: "+e),e},e.getLangQuery=function(){var t=this.getMultiLangFields();return t?""+t.lang+t.locale:""},e.setGalleryData=function(t){var e=t.gallery,i=t.settings,r=e.created;this.dateCreated=r,this.setSettings(i)},e.TO_BE_REMOVED_setGalleryData=function(t){var e=t.galleryData;if(e&&e.galleryId){var i=e.galleryId,r=e.dateCreated,o=e.pageResponse.settings;return this.galleryId=i,this.dateCreated=r,this.setSettings(o),{galleryId:i,dateCreated:r,settings:this.settings}}},e.setSettings=function(t){var e=function(t){if("string"==typeof t)try{return JSON.parse(t)}catch(e){return console.error("Failed parse settting",e),t}return t},i=e(this.settings),r=e(t);this.settings=O(O({},i),r)},e.getItemByIdFromServer=function(){var t=x(n.a.mark((function t(e){var i,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchGalleryId();case 2:return i=this.baseUrl+"/pro-gallery-webapp/v1/galleries/"+this.galleryId+"/items/"+e+"?state="+this.dataSavedState,this.SSRWorkerLog.push("trying to get Direct fullscreen item from the server ",i),t.next=6,this.fetchPlatformizedData({requestUrl:i,multilingualHeader:this.getMultiLangHeader()});case 6:return r=t.sent,t.abrupt("return",null!=r&&r.item?m([null==r?void 0:r.item])[0]:{});case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),t}(),E=i(78),T=i(167),C=i(166),D=i(168),A=i(161);function L(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function M(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?L(Object(i),!0).forEach((function(e){R(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):L(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function R(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var j=new T.a(r.c.SENTRY_DSN),B=[r.c.GALLERY_WIDGET_ID,r.c.PG_TEST_GALLERY_WIDGET_ID],k=new C.a,N={initAppForPage:A.a.getInitAppForPageFunc(j),createControllers:A.a.getCreateControllers((function(t){var e=t.setProps;if(!B.includes(t.type))return{pageReady:function(){},exports:function(){}};var i=new D.a(j.getContext().platformServices.biLoggerFactory(),a.a.parseViewMode(t.wixCodeApi.window.viewMode),!1),o=function(t,e){i.log(s.galleryId,t,e)},n=new E.a,s=new P({context:j,controllerConfig:t,reportBiLog:o,SSRWorkerLog:n});s.fetchGalleryId();var l=new A.a({context:j,controllerConfig:t,APP_DEFINITION_ID:r.c.PG_APP_DEFINITION_ID,GALLERY_WIDGET_ID:r.c.GALLERY_WIDGET_ID,isArtStore:!1,fetcher:s,SSRWorkerLog:n}),c=l.getTryToReportAppLoaded();return{pageReady:function(){try{return l.getViewPortPromise().then((function(t){n.push("pageReady, starting promises flows");var i=!1;return t&&!t.in&&(i=!0),l.loadInitialBlueprint(),l.loadDirectFullscreen(),Promise.all([l.getBlueprintReadyPromise(),l.getDirectFullscreenReadyPromise()]).catch((function(t){l.sentryReport(t),console.error("Waiting for promises failed",t)})).then((function(){return a.b.isVerbose()&&console.log("query: ",JSON.stringify(l.getQueryParams())),e(M(M({},l.getCommonGalleryProps(!1)),{},{reportBiLog:o,onItemClicked:l.getOnItemClickedFunc(k),onLinkNavigation:l.getOnLinkNavigationFunc(),setMetaTags:l.getSetMetaTagsFunc(),onCurrentItemChanged:function(t){return k.onCurrentItemChanged(t)},isInSEO:l.isInSEO(),cssBaseUrl:l.getbaseUrls().santaWrapperBaseUrl,directFullscreenItem:l.getDirectFullscreenItem(),directFullscreenMockBlueprint:l.getDirectFullscreenMockBlueprint(),testType:l.getTestType(),clickedIdx:l.getClickedIdx(),notInView:i,totalItemsCount:l.getTotalItemsCount()})),l.isSSR()&&(l.setMetaTagsInSSRIfNeeded(),c(!0)),l.getWarmupData()}))})).catch((function(t){console.error(t),l.sentryReport({errorMessage:"viewportPromise rejected!",error:t}),c()}))}catch(t){console.error(t),l.sentryReport(t)}},updateConfig:function(t,e){var i=e.style.styleParams;e.publicData;l.updateStyleParams({newStyleParams:i})},exports:function(){try{return k.generateApi({proGalleryStore:l.getPgStore(),setNewStyleParams:function(t){return l.handleNewStyleParams(t)},setClickedIdx:function(t){return l.setClickedIdx(t)},setManualDimensions:l.getSetManualDimensionsFunc()})}catch(t){l.sentryReport(t)}}}}),j.getSentry())},U=N.initAppForPage,F=N.createControllers,W={}},function(t,e,i){"use strict";var r=i(0),o=function(t){var e=function(t){var e=0;if(void 0===t||0===t.length)return e;for(var i=0;i<t.length;i++){e=(e<<5)-e+t.charCodeAt(i),e|=0}return e*=Math.sign(e),e=Math.sqrt(e),e=Math.floor(1e6*(e-Math.floor(e)))}(t);return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t,i){var r=Math.ceil(e/(i+1))%16;return("x"===t?r:3&r|8).toString(16)}))},n=function(t){return void 0===t&&(t=""),t?t.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-\.]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,""):""};function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function s(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c=function(t,e){switch(typeof t){case"object":return{type:"wix",data:t};case"string":return{type:"web",url:t,target:e};default:return{target:"_blank",type:"none"}}},u=function(t){void 0===t&&(t={});var e={link:t.url};return t.url&&(e.target=t.target),e},h=function(t){return null!==/^(wix:)?(image|video)(:\/\/)/.exec(t)},p=function(t){return h(t)?t.split("/")[3]:t},d=function(t){try{return h(t)?t.split("/")[4].split("#").slice(0,-1).join("#"):"_.jpg"}catch(t){return"_.jpg"}},g=function(t,e){return"wix:image://v1/"+(t||n(e.name))+"/"+n(e.fileName||e.name)+"#originWidth="+e.width+"&originHeight="+e.height},m=function(t,e){return"wix:video://v1/"+(t||n(e.name))+"/"+n(e.fileName||e.name)+"#posterUri="+e.posters[0].url+"&posterWidth="+e.width+"&posterHeight="+e.height},f=function(t){var e={},i=!1;try{var r=/\/\d*_\d*\//.exec(t);if(r&&r[0]&&r[0].length>0){var o=r[0].replace(/\//g,"").split("_").map((function(t){return Number(t)})),n=o[0],a=o[1];n>0&&a>0&&(i=!0,e={originWidth:n,originHeight:a})}}catch(t){i=!1}if(!i)try{var s=/wm_(.*)\//.exec(t);if(s&&s[0]&&s[0].length>0){var l=s[1];l.length>0&&(e.watermark=l)}}catch(t){i=!1}if(!i)try{t.split("#").pop().split("&").map((function(t){return t.split("=")})).forEach((function(t){e[t[0]]=isNaN(Number(t[1]))?String(t[1]):Number(t[1])}))}catch(t){i=!1}return e},y=function(t,e){return void 0===e&&(e=0),function(t){return!!(t.src||t.type&&t.html)}(t)?function(t,e){var i=f(t.src);i.width=t.width||i.originWidth||i.originalWidth||i.posterWidth||1,i.height=t.height||i.originHeight||i.originalHeight||i.posterHeight||1;var r,a=t.settings&&t.settings.focalPoint,l=i.watermark,u=t.imageToken||t.token||i.token,g=(t.type||"image").toLowerCase(),m=s({itemId:n(t.slug)||(n(t.title||t.id)||o(t.src||t.html||e))+"_"+e,mediaUrl:p(t.src),metaData:Object.assign({type:g,alt:t.title||"",title:t.title||"",description:t.description||"",name:d(t.src),fileName:d(t.src),link:c(t.link,t.target),width:i.width,height:i.height,sourceName:"private"},a?{focalPoint:a}:{},l?{watermarkStr:l}:{}),orderIndex:e},u&&{token:u});if("text"===g){var y=t.style;m.metaData.height=i.height||500,m.metaData.width=i.width||500*y.layoutRatio,m.metaData.textStyle={width:m.metaData.width,height:m.metaData.height,backgroundColor:y.fillColor},m.metaData.html=m.editorHtml=t.html}if("video"===g){var b={};t.thumbnail&&(b=f(t.thumbnail));var S=(r=p(t.thumbnail),null!==/^.*\.(jpeg|jpg|webp|png|jpe)$/.exec(r)?p(t.thumbnail):i.posterUri);m.metaData.posters=[{url:S,width:b.width||i.width,height:b.height||i.height}],m.isExternal=0===t.src.indexOf("http"),m.isExternal||h(t.src)?(m.metaData.source=t.src.indexOf("youtube.com")>0?"youtube":t.src.indexOf("vimeo.com")>0?"vimeo":"wix",m.metaData.videoUrl=t.src):m.metaData.qualities=[{width:i.width,height:i.height,quality:i.height+"p",formats:[h(t.src)?"wix":t.src.split(/#|\?/)[0].split(".").pop().trim()]}]}return m}(t,e):function(t,e){return{itemId:o(e+"_"+(t.uri||t.alt||e)),mediaUrl:t.uri||"",metaData:{height:t.height||1,lastModified:Date.now(),link:c(t.link,t.target),title:t.title||"",description:t.description||"",alt:t.alt||"",sourceName:"private",tags:[],width:t.width||1},orderIndex:e}}(t,e)},b=function(t,e){return void 0===t&&(t={}),void 0===e&&(e=!0),e?function(t){void 0===t&&(t={});var e=t.metaData||t.metadata||{},i=u(e.link)||{},r=s({type:e.type||"image",slug:t.itemId},i),o=r.type.toLowerCase();if("text"===o){var n=e.testStyle||{};Object.assign(r,{html:e.html,style:{width:n.width,height:n.height,bgColor:n.backgroundColor}})}else Object.assign(r,{title:e.title,description:e.description}),"image"===o?Object.assign(r,s(s({src:g(t.mediaUrl,e),settings:Object.assign({},e.focalPoint?{focalPoint:e.focalPoint}:{})},"imageToken"in t&&{imageToken:t.imageToken}),"token"in t&&{token:t.token})):"video"===o&&Object.assign(r,{src:m(t.mediaUrl,e),thumbnail:e.posters[0].url});return r}(t):(r=(i=t).metaData||i.metadata||{},o=u(r.link)||{},s({uri:i.mediaUrl,description:r.description,alt:r.title,title:r.title,height:r.height,width:r.width},o));var i,r,o},S=function(){function t(){this.generateApi=this.generateApi.bind(this),this.onCurrentItemChanged=this.onCurrentItemChanged.bind(this),this.onItemClicked=this.onItemClicked.bind(this),this.setStyleParams=this.setStyleParams.bind(this),this.setClickCallback=this.setClickCallback.bind(this),this.setItemChangedCallback=this.setItemChangedCallback.bind(this),this.manualStyleParams={},this.itemClickedCallbacks=[],this.itemChangedCallbacks=[],this.clickedIdx=-1}return t.prototype.setClickCallback=function(t){"function"==typeof t&&this.itemClickedCallbacks.push(t)},t.prototype.onItemClicked=function(t){var e={target:this.api,type:"itemClicked",itemIndex:t.idx,item:b(t.dto)};try{for(var i=0;i<this.itemClickedCallbacks.length;i++){var r=this.itemClickedCallbacks[i];"function"==typeof r&&r(e)}}catch(t){console.warn("Gallery failed to activate onItemClicked callbacks",t)}},t.prototype.setItemChangedCallback=function(t){"function"==typeof t&&this.itemChangedCallbacks.push(t)},t.prototype.onCurrentItemChanged=function(t){try{for(var e={event:{action:"imageChanged",id:t.id,imageIndex:t.idx,item:b(t)}},i=0;i<this.itemChangedCallbacks.length;i++){var r=this.itemChangedCallbacks[i];"function"==typeof r&&r(e.event)}}catch(t){}},t.prototype.setStyleParams=function(t,e){var i=function(t,e){var i;switch(t){case"itemClick":switch(e){default:case"none":case"disabled":i="nothing";break;case"expand":case"zoomMode":i="expand";break;case"fullscreen":i="fullscreen";break;case"link":case"goToLink":i="link"}break;default:i=e}return i};try{return this.manualStyleParams=function(t){for(var o=e,n=0,a=Object.keys(Object(r.a)({},t));n<a.length;n++){var s=a[n];o[s]=i(s,t[s])}return o}(t),this.manualStyleParams}catch(t){return console.error("Failed to set styleParams",t),{}}},t.prototype.generateCartApi=function(t){return{get type(){return"$w.Cart"},set options(e){t(e)}}},t.prototype.generateApi=function(t){var e=t.proGalleryStore,i=t.setNewStyleParams,o=t.setClickedIdx,n=t.setNewSettings,a=void 0===n?function(){}:n,s=t.setManualDimensions,l=this.setStyleParams,c=this.manualStyleParams,u=this.setClickCallback,h=this.setItemChangedCallback;return this.api={set dimensions(t){if(t){var i=Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)(Object(r.a)({},e.dimensions),t.width>0&&{width:Number(t.width)}),""===t.width&&{width:""}),t.height>0&&{height:Number(t.height)}),t.height="");s(i)}else console.error("set manual dimensions called with no input")},get dimensions(){return e.dimensions},get type(){return"$w.Gallery"},get galleryCapabilities(){return{isPlayable:!1,hasCurrentItem:!1,hasNavigationButtons:!1,supportsAllMediaTypes:!0}},set items(t){e.itemsSrc="Velo",e.setAllWixCodeItems(function(t){var e=[];try{t.forEach((function(t,i){return e.push(y(t,i))}))}catch(e){console.error("Wrong format for gallery items",t,e)}return e}(t)),e.totalItemsCount=e.allWixCodeItems.length,e.loadInitialWixCodeItems()},get items(){return function(t,e){void 0===e&&(e=!0);var i=[];return t.forEach((function(t){return i.push(b(t,e))})),i}(e.getItems())},onItemClicked:function(t){return u(t)},onCurrentItemChanged:function(t){return h(t)},expandItem:function(t){o(t)},set clickAction(t){e._clickAction=t,l({itemClick:t},c),i(c)},get clickAction(){return e._clickAction?e._clickAction:""},set showNavigationButtons(t){e._showArrows=t,l({showArrows:t},c),i(c)},get showNavigationButtons(){return e._showArrows?e._showArrows:""},get options(){return{styleParams:c,settings:e.settings}},set options(t){var e=t.styleParams,r=t.settings;e&&i(l(e,{})),r&&a(r)},toJSON:function(){return{items:e.getItems(),clickAction:c.itemClick,showNavigationButtons:c.showArrows}}}},t}();e.a=S},function(t,e,i){"use strict";var r=function(){function t(t){this.SENTRY_DSN=t,this.sentry=null}return t.prototype.init=function(t,e,i){var r={id:t.instanceId,url:e.location.baseUrl},o=this.SENTRY_DSN;this.sentry=i.monitoring.createMonitor(o,(function(t){return t.environment="Worker",t})),this.sentry.setUserContext(r)},t.prototype.report=function(t){this.sentry?this.sentry.captureException(t):console.error("SentryReporter: trying to report before init",t)},t}(),o=function(){function t(t){this.context=null,this.sentryReporter=new r(t)}return t.prototype.setContext=function(t){this.context=t},t.prototype.initSentry=function(t,e,i){this.sentryReporter.init(t,e,i)},t.prototype.getSentry=function(){return this.sentryReporter},t.prototype.getContext=function(){return this.context},t}();e.a=o},function(t,e,i){"use strict";var r=i(0),o=function(){return(o=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},n=function(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(i[r[o]]=t[r[o]])}return i},a={endpoint:"photo-ugc"},s=function(t){return new l(t)},l=function(){function t(t){var e=this;this.biLoggerClientFactoryInstance=t,this.util={updateDefaults:function(t){return e.biLoggerClientFactoryInstance.updateDefaults(t),e},log:function(t,i){return e.bi.log(t,i)}},t.updateDefaults({src:65}),this.bi=t.logger({endpoint:"photo-ugc"})}return t.prototype.landAfterShare=function(t){return this.bi.log(o({evid:602},t))},t.prototype.expand=function(t){return this.bi.log(o({evid:504},t))},t.prototype.providerCartCheckout=function(t){return this.bi.log(o({evid:803},t))},t.prototype.info=function(t){return this.bi.log(o({evid:503},t))},t.prototype.galleryItemExpanded=function(t){return this.bi.log(o({evid:521},t))},t.prototype.share=function(t){return this.bi.log(o({evid:500},t))},t.prototype.downloadImage=function(t){return this.bi.log(o({evid:805},t))},t.prototype.galleryClickOnItem=function(t){return this.bi.log(o({evid:520},t))},t.prototype.gogLoaded=function(t){return this.bi.log(o({evid:301},t))},t.prototype.buyBuyNowClick=function(t){return this.bi.log(o({evid:800},t))},t.prototype.proGalleryErrorUou=function(t){return this.bi.log(o({evid:512},t))},t.prototype.paymentExcepted=function(t){return this.bi.log(o({evid:506},t))},t.prototype.providerBuyAddToCart=function(t){return this.bi.log(o({evid:802},t))},t.prototype.albumActions=function(t){return this.bi.log(o({evid:300},t))},t.prototype.proGalleryLoadUou=function(t){return this.bi.log(o({evid:304},t))},t.prototype.shareGroup=function(t){return this.bi.log(o({evid:601},t))},t.prototype.thankYouPageLoaded=function(t){return this.bi.log(o({evid:804},t))},t.prototype.buySelectLicense=function(t){return this.bi.log(o({evid:801},t))},t.prototype.photoAlbumCoverLoaded=function(t){return this.bi.log(o({evid:303},t))},t.prototype.download=function(t){return this.bi.log(o({evid:502},t))},t.prototype.migratedLoveData=function(t){return this.bi.log(o({evid:305},t))},t.prototype.shareNew=function(t){return this.bi.log(o({evid:511},t))},t.prototype.buyGalleryAddToCart=function(t){return this.bi.log(o({evid:806},t))},t.prototype.paymentError=function(t){return this.bi.log(o({evid:507},t))},t.prototype.artStorePerformanceUou=function(t){return this.bi.log(o({evid:306},t))},t.prototype.gogAlbumClick=function(t){return this.bi.log(o({evid:302},t))},t.prototype.galleryRendered=function(t){return this.bi.log(o({evid:508},t))},t.prototype.proGalleryLoaded=function(t){return this.bi.log(o({evid:510},t))},t.prototype.xxxcheckout=function(t){return this.bi.log(o({evid:505},t))},t.prototype.proGalleryClickOnCustomButton=function(t){return this.bi.log(o({evid:807},t))},t.prototype.love=function(t){return this.bi.log(o({evid:501},t))},t.prototype.selectPhoto=function(t){return this.bi.log(o({evid:600},t))},t.prototype.proGalleryLoadError=function(t){return this.bi.log(o({evid:509},t))},t.prototype.photoAlbumGalleryLoaded=function(t){return this.bi.log(o({evid:307},t))},t}(),c=function(t){return function(e){void 0===e&&(e={});var i=e.defaults,r=n(e,["defaults"]),l=o(o({},a),r),c="function"==typeof t.factory?t.factory(l):t,u=s(c);return i?u.util.updateDefaults(i):u}};var u=i(11),h=i(1),p=function(){function t(t,e,i){try{this.logger=c(t)()}catch(t){console.log("BI Failed to init")}this.galleryLogData={galleryType:i?"store":"progallery"},this.viewMode=e,this.log=this.log.bind(this)}return t.prototype.log=function(t,e,i){if(void 0===i&&(i={}),this.viewMode===h.a.viewMode.SITE&&!u.b.isDev()&&!u.b.isTest())try{var o=Object(r.a)(Object(r.a)({},this.galleryLogData),{gallery_id:t}),n=Object(r.a)(Object(r.a)({},o),i);this.logger[e]&&this.logger[e](n)}catch(t){console.log("Error bi logger",t)}},t}();e.a=p}])}));
//# sourceMappingURL=viewerScript.bundle.min.js.map